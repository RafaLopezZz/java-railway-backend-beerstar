2025-05-21T00:08:55.905+02:00  INFO 5420 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : Starting BeerstarApplication using Java 17.0.8 with PID 5420 (E:\Proyectos_2025\BeerStar_CLIEAN03\target\classes started by rlpmu in E:\Proyectos_2025\BeerStar_CLIEAN03)
2025-05-21T00:08:55.910+02:00  INFO 5420 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : The following 1 profile is active: "prod"
2025-05-21T00:08:56.777+02:00  INFO 5420 --- [beerstar] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-21T00:08:56.847+02:00  INFO 5420 --- [beerstar] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 61 ms. Found 12 JPA repository interfaces.
2025-05-21T00:08:57.628+02:00  INFO 5420 --- [beerstar] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-21T00:08:57.640+02:00  INFO 5420 --- [beerstar] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-21T00:08:57.641+02:00  INFO 5420 --- [beerstar] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-21T00:08:57.714+02:00  INFO 5420 --- [beerstar] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-21T00:08:57.714+02:00  INFO 5420 --- [beerstar] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1769 ms
2025-05-21T00:08:58.037+02:00  INFO 5420 --- [beerstar] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-21T00:08:58.134+02:00  INFO 5420 --- [beerstar] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-21T00:08:58.181+02:00  INFO 5420 --- [beerstar] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-21T00:08:58.397+02:00  INFO 5420 --- [beerstar] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-21T00:08:58.416+02:00  INFO 5420 --- [beerstar] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-21T00:08:58.533+02:00  INFO 5420 --- [beerstar] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@838e109
2025-05-21T00:08:58.535+02:00  INFO 5420 --- [beerstar] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-21T00:08:58.560+02:00  WARN 5420 --- [beerstar] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-21T00:08:58.574+02:00  INFO 5420 --- [beerstar] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-21T00:08:59.466+02:00  INFO 5420 --- [beerstar] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-21T00:09:00.136+02:00  INFO 5420 --- [beerstar] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-21T00:09:00.555+02:00 DEBUG 5420 --- [beerstar] [main] c.tfc.beerstar.security.AuthTokenFilter  : Filter 'authTokenFilter' configured for use
2025-05-21T00:09:00.558+02:00 DEBUG 5420 --- [beerstar] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-05-21T00:09:00.560+02:00 DEBUG 5420 --- [beerstar] [main] c.tfc.beerstar.security.AuthTokenFilter  : Filter 'authenticationJwtTokenFilter' configured for use
2025-05-21T00:09:00.705+02:00  INFO 5420 --- [beerstar] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-21T00:09:00.706+02:00  WARN 5420 --- [beerstar] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-21T00:09:00.989+02:00  INFO 5420 --- [beerstar] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-21T00:09:01.663+02:00  WARN 5420 --- [beerstar] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-21T00:09:01.907+02:00 DEBUG 5420 --- [beerstar] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 42 mappings in 'requestMappingHandlerMapping'
2025-05-21T00:09:02.046+02:00 DEBUG 5420 --- [beerstar] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-21T00:09:02.238+02:00  INFO 5420 --- [beerstar] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-05-21T00:09:02.257+02:00  INFO 5420 --- [beerstar] [main] com.tfc.beerstar.config.SecurityConfig   : Configurando seguridad HTTP
2025-05-21T00:09:02.290+02:00  INFO 5420 --- [beerstar] [main] com.tfc.beerstar.config.SecurityConfig   : Configuración de seguridad HTTP completada
2025-05-21T00:09:02.324+02:00 DEBUG 5420 --- [beerstar] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-21T00:09:02.433+02:00 DEBUG 5420 --- [beerstar] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-21T00:09:02.492+02:00 DEBUG 5420 --- [beerstar] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-21T00:09:03.084+02:00  INFO 5420 --- [beerstar] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-05-21T00:09:03.099+02:00  INFO 5420 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : Started BeerstarApplication in 7.538 seconds (process running for 7.922)
2025-05-21T00:09:04.903+02:00  INFO 5420 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-21T00:09:04.903+02:00  INFO 5420 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-21T00:09:04.904+02:00 DEBUG 5420 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-21T00:09:04.904+02:00 DEBUG 5420 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-21T00:09:04.904+02:00 DEBUG 5420 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-21T00:09:04.905+02:00 DEBUG 5420 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1b03d582
2025-05-21T00:09:04.905+02:00 DEBUG 5420 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@38f2c6a0
2025-05-21T00:09:04.906+02:00 DEBUG 5420 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-21T00:09:04.906+02:00  INFO 5420 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-05-21T00:09:09.373+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/carrito/agregar
2025-05-21T00:09:09.380+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T00:09:09.381+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:09:09.381+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:09:09.382+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:09:09.382+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:09:09.382+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = a249ca61-9a49-476c-b1ec-ff2fe6d8efcf
2025-05-21T00:09:09.382+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:09:09.382+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:09:09.383+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:09:09.383+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 41
2025-05-21T00:09:09.383+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:09:09.383+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:09:09.446+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/carrito/agregar
2025-05-21T00:09:09.446+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T00:09:09.446+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:09:09.446+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:09:09.447+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:09:09.447+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:09:09.447+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = a249ca61-9a49-476c-b1ec-ff2fe6d8efcf
2025-05-21T00:09:09.447+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:09:09.447+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:09:09.447+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:09:09.448+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 41
2025-05-21T00:09:09.448+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:09:09.448+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:09:09.456+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/carrito/agregar", parameters={}
2025-05-21T00:09:09.458+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#agregarAlCarrito(UserDetailsImpl, AddToCarritoRequestDTO)
2025-05-21T00:09:09.488+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AddToCarritoRequestDTO(idArticulo=1, idLote=null, cantidad=1)]
2025-05-21T00:09:09.539+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.lang.NullPointerException: Cannot invoke "java.lang.Integer.intValue()" because the return value of "com.tfc.beerstar.model.DetalleCarrito.getCantidadArticulos()" is null
2025-05-21T00:09:09.541+02:00 ERROR 5420 --- [beerstar] [http-nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke "java.lang.Integer.intValue()" because the return value of "com.tfc.beerstar.model.DetalleCarrito.getCantidadArticulos()" is null] with root cause

java.lang.NullPointerException: Cannot invoke "java.lang.Integer.intValue()" because the return value of "com.tfc.beerstar.model.DetalleCarrito.getCantidadArticulos()" is null
	at com.tfc.beerstar.service.CarritoService.agregarACarrito(CarritoService.java:254) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.tfc.beerstar.service.CarritoService$$SpringCGLIB$$0.agregarACarrito(<generated>) ~[classes/:na]
	at com.tfc.beerstar.controller.CarritoController.agregarAlCarrito(CarritoController.java:42) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at com.tfc.beerstar.security.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:126) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at com.tfc.beerstar.security.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:126) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-05-21T00:09:09.563+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /error
2025-05-21T00:09:09.564+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T00:09:09.567+02:00 ERROR 5420 --- [beerstar] [http-nio-8080-exec-2] c.t.beerstar.security.AuthEntryPointJwt  : Error no autorizado: Full authentication is required to access this resource
2025-05-21T00:10:01.601+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/carrito/agregar
2025-05-21T00:10:01.602+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T00:10:01.602+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:10:01.602+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:10:01.603+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:10:01.603+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:10:01.603+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = ced43bf1-e6d0-49e8-b6a4-2f962d8153de
2025-05-21T00:10:01.603+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:10:01.603+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:10:01.603+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:10:01.603+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 68
2025-05-21T00:10:01.603+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:10:01.604+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:10:01.610+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/carrito/agregar
2025-05-21T00:10:01.611+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T00:10:01.611+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:10:01.611+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:10:01.611+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:10:01.612+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:10:01.612+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = ced43bf1-e6d0-49e8-b6a4-2f962d8153de
2025-05-21T00:10:01.612+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:10:01.612+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:10:01.612+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:10:01.612+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 68
2025-05-21T00:10:01.613+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:10:01.613+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:10:01.620+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/carrito/agregar", parameters={}
2025-05-21T00:10:01.621+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#agregarAlCarrito(UserDetailsImpl, AddToCarritoRequestDTO)
2025-05-21T00:10:01.621+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AddToCarritoRequestDTO(idArticulo=1, idLote=null, cantidad=1)]
2025-05-21T00:10:01.628+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.lang.NullPointerException: Cannot invoke "java.lang.Integer.intValue()" because the return value of "com.tfc.beerstar.model.DetalleCarrito.getCantidadArticulos()" is null
2025-05-21T00:10:01.629+02:00 ERROR 5420 --- [beerstar] [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke "java.lang.Integer.intValue()" because the return value of "com.tfc.beerstar.model.DetalleCarrito.getCantidadArticulos()" is null] with root cause

java.lang.NullPointerException: Cannot invoke "java.lang.Integer.intValue()" because the return value of "com.tfc.beerstar.model.DetalleCarrito.getCantidadArticulos()" is null
	at com.tfc.beerstar.service.CarritoService.agregarACarrito(CarritoService.java:254) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.tfc.beerstar.service.CarritoService$$SpringCGLIB$$0.agregarACarrito(<generated>) ~[classes/:na]
	at com.tfc.beerstar.controller.CarritoController.agregarAlCarrito(CarritoController.java:42) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at com.tfc.beerstar.security.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:126) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at com.tfc.beerstar.security.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:126) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-05-21T00:10:01.637+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /error
2025-05-21T00:10:01.638+02:00 DEBUG 5420 --- [beerstar] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T00:10:01.638+02:00 ERROR 5420 --- [beerstar] [http-nio-8080-exec-3] c.t.beerstar.security.AuthEntryPointJwt  : Error no autorizado: Full authentication is required to access this resource
2025-05-21T00:14:05.920+02:00  INFO 26432 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : Starting BeerstarApplication using Java 17.0.8 with PID 26432 (E:\Proyectos_2025\BeerStar_CLIEAN03\target\classes started by rlpmu in E:\Proyectos_2025\BeerStar_CLIEAN03)
2025-05-21T00:14:05.923+02:00  INFO 26432 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : The following 1 profile is active: "prod"
2025-05-21T00:14:06.788+02:00  INFO 26432 --- [beerstar] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-21T00:14:06.864+02:00  INFO 26432 --- [beerstar] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 64 ms. Found 12 JPA repository interfaces.
2025-05-21T00:14:07.533+02:00  INFO 26432 --- [beerstar] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-21T00:14:07.547+02:00  INFO 26432 --- [beerstar] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-21T00:14:07.548+02:00  INFO 26432 --- [beerstar] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-21T00:14:07.620+02:00  INFO 26432 --- [beerstar] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-21T00:14:07.621+02:00  INFO 26432 --- [beerstar] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1659 ms
2025-05-21T00:14:07.964+02:00  INFO 26432 --- [beerstar] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-21T00:14:08.031+02:00  INFO 26432 --- [beerstar] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-21T00:14:08.075+02:00  INFO 26432 --- [beerstar] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-21T00:14:08.294+02:00  INFO 26432 --- [beerstar] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-21T00:14:08.312+02:00  INFO 26432 --- [beerstar] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-21T00:14:08.431+02:00  INFO 26432 --- [beerstar] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@43719e98
2025-05-21T00:14:08.433+02:00  INFO 26432 --- [beerstar] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-21T00:14:08.458+02:00  WARN 26432 --- [beerstar] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-21T00:14:08.472+02:00  INFO 26432 --- [beerstar] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-21T00:14:09.357+02:00  INFO 26432 --- [beerstar] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-21T00:14:10.067+02:00  INFO 26432 --- [beerstar] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-21T00:14:10.518+02:00 DEBUG 26432 --- [beerstar] [main] c.tfc.beerstar.security.AuthTokenFilter  : Filter 'authTokenFilter' configured for use
2025-05-21T00:14:10.521+02:00 DEBUG 26432 --- [beerstar] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-05-21T00:14:10.522+02:00 DEBUG 26432 --- [beerstar] [main] c.tfc.beerstar.security.AuthTokenFilter  : Filter 'authenticationJwtTokenFilter' configured for use
2025-05-21T00:14:10.668+02:00  INFO 26432 --- [beerstar] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-21T00:14:10.670+02:00  WARN 26432 --- [beerstar] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-21T00:14:10.937+02:00  INFO 26432 --- [beerstar] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-21T00:14:11.539+02:00  WARN 26432 --- [beerstar] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-21T00:14:11.772+02:00 DEBUG 26432 --- [beerstar] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 42 mappings in 'requestMappingHandlerMapping'
2025-05-21T00:14:11.917+02:00 DEBUG 26432 --- [beerstar] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-21T00:14:12.102+02:00  INFO 26432 --- [beerstar] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-05-21T00:14:12.124+02:00  INFO 26432 --- [beerstar] [main] com.tfc.beerstar.config.SecurityConfig   : Configurando seguridad HTTP
2025-05-21T00:14:12.159+02:00  INFO 26432 --- [beerstar] [main] com.tfc.beerstar.config.SecurityConfig   : Configuración de seguridad HTTP completada
2025-05-21T00:14:12.198+02:00 DEBUG 26432 --- [beerstar] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-21T00:14:12.319+02:00 DEBUG 26432 --- [beerstar] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-21T00:14:12.386+02:00 DEBUG 26432 --- [beerstar] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-21T00:14:12.956+02:00  INFO 26432 --- [beerstar] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-05-21T00:14:12.979+02:00  INFO 26432 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : Started BeerstarApplication in 7.428 seconds (process running for 7.798)
2025-05-21T00:14:14.916+02:00  INFO 26432 --- [beerstar] [RMI TCP Connection(3)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-21T00:14:14.917+02:00  INFO 26432 --- [beerstar] [RMI TCP Connection(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-21T00:14:14.917+02:00 DEBUG 26432 --- [beerstar] [RMI TCP Connection(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-21T00:14:14.917+02:00 DEBUG 26432 --- [beerstar] [RMI TCP Connection(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-21T00:14:14.918+02:00 DEBUG 26432 --- [beerstar] [RMI TCP Connection(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-21T00:14:14.919+02:00 DEBUG 26432 --- [beerstar] [RMI TCP Connection(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@76982efa
2025-05-21T00:14:14.919+02:00 DEBUG 26432 --- [beerstar] [RMI TCP Connection(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@a64a147
2025-05-21T00:14:14.919+02:00 DEBUG 26432 --- [beerstar] [RMI TCP Connection(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-21T00:14:14.920+02:00  INFO 26432 --- [beerstar] [RMI TCP Connection(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-05-21T00:14:22.042+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/carrito/agregar
2025-05-21T00:14:22.050+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T00:14:22.050+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:14:22.051+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:14:22.051+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:14:22.051+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:14:22.051+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 9c400f5c-e057-47ef-899f-e553f67161cd
2025-05-21T00:14:22.052+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:14:22.052+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:14:22.052+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:14:22.052+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 68
2025-05-21T00:14:22.052+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:14:22.052+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:14:22.116+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/carrito/agregar
2025-05-21T00:14:22.116+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T00:14:22.116+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:14:22.117+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:14:22.117+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:14:22.117+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:14:22.117+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 9c400f5c-e057-47ef-899f-e553f67161cd
2025-05-21T00:14:22.117+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:14:22.118+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:14:22.118+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:14:22.118+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 68
2025-05-21T00:14:22.118+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:14:22.118+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:14:22.125+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/carrito/agregar", parameters={}
2025-05-21T00:14:22.127+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#agregarAlCarrito(UserDetailsImpl, AddToCarritoRequestDTO)
2025-05-21T00:14:22.152+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AddToCarritoRequestDTO(idArticulo=1, idLote=null, cantidad=1, cantidadArticulos=1, cantidadLotes=nul (truncated)...]
2025-05-21T00:14:22.241+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T00:14:22.247+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoResponseDTO(id=4, fechaCreacion=2025-05-18T10:29:54.149009Z, items=[DetalleCarritoResponseDTO (truncated)...]
2025-05-21T00:14:22.261+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T00:14:37.955+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/carrito/vaciar
2025-05-21T00:14:37.956+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/vaciar
2025-05-21T00:14:37.956+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:14:37.956+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:14:37.956+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:14:37.957+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:14:37.957+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 3631f1b7-8000-4943-a421-65ffc5e89ae8
2025-05-21T00:14:37.957+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:14:37.957+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:14:37.957+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:14:37.958+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 68
2025-05-21T00:14:37.958+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:14:37.958+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:14:37.967+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/carrito/vaciar
2025-05-21T00:14:37.967+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/vaciar
2025-05-21T00:14:37.967+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:14:37.968+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:14:37.968+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:14:37.968+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:14:37.968+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 3631f1b7-8000-4943-a421-65ffc5e89ae8
2025-05-21T00:14:37.968+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:14:37.969+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:14:37.969+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:14:37.969+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 68
2025-05-21T00:14:37.969+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:14:37.969+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:14:37.976+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/carrito/vaciar", parameters={}
2025-05-21T00:14:37.978+02:00  WARN 26432 --- [beerstar] [http-nio-8080-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' is not supported]
2025-05-21T00:14:37.979+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 405 METHOD_NOT_ALLOWED
2025-05-21T00:14:37.983+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /error
2025-05-21T00:14:37.984+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T00:14:37.987+02:00 ERROR 26432 --- [beerstar] [http-nio-8080-exec-3] c.t.beerstar.security.AuthEntryPointJwt  : Error no autorizado: Full authentication is required to access this resource
2025-05-21T00:15:17.327+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing DELETE /beerstar/carrito/vaciar
2025-05-21T00:15:17.327+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: DELETE /beerstar/carrito/vaciar
2025-05-21T00:15:17.328+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:15:17.328+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:15:17.328+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:15:17.328+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:15:17.328+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 7f2c0f1e-cd67-4b21-ae8d-1b6e2701c25e
2025-05-21T00:15:17.328+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:15:17.329+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:15:17.329+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:15:17.329+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 68
2025-05-21T00:15:17.329+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:15:17.329+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:15:17.337+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured DELETE /beerstar/carrito/vaciar
2025-05-21T00:15:17.337+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: DELETE /beerstar/carrito/vaciar
2025-05-21T00:15:17.338+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:15:17.338+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:15:17.338+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:15:17.338+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:15:17.338+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 7f2c0f1e-cd67-4b21-ae8d-1b6e2701c25e
2025-05-21T00:15:17.338+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:15:17.339+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:15:17.339+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:15:17.339+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 68
2025-05-21T00:15:17.339+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:15:17.339+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:15:17.344+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : DELETE "/beerstar/carrito/vaciar", parameters={}
2025-05-21T00:15:17.345+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#vaciarCarrito(UserDetailsImpl)
2025-05-21T00:15:17.359+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T00:15:17.359+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-05-21T00:15:17.360+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 204 NO_CONTENT
2025-05-21T00:15:35.025+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /beerstar/articulos
2025-05-21T00:15:35.026+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/articulos
2025-05-21T00:15:35.026+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k
2025-05-21T00:15:35.026+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:15:35.026+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:15:35.027+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 5d8a7917-7660-47f4-bdde-6d3fe015be03
2025-05-21T00:15:35.027+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:15:35.027+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:15:35.027+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:15:35.027+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T00:15:35.027+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T00:15:35.029+02:00 ERROR 26432 --- [beerstar] [http-nio-8080-exec-5] com.tfc.beerstar.security.JwtUtils       : Token JWT expirado: JWT expired at 2025-05-20T11:11:24Z. Current time: 2025-05-20T22:15:35Z, a difference of 39851029 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-05-21T00:15:35.030+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T00:15:35.030+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /beerstar/articulos
2025-05-21T00:15:35.031+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/articulos
2025-05-21T00:15:35.031+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k
2025-05-21T00:15:35.031+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:15:35.031+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:15:35.031+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 5d8a7917-7660-47f4-bdde-6d3fe015be03
2025-05-21T00:15:35.031+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:15:35.032+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:15:35.032+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:15:35.032+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T00:15:35.032+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T00:15:35.034+02:00 ERROR 26432 --- [beerstar] [http-nio-8080-exec-5] com.tfc.beerstar.security.JwtUtils       : Token JWT expirado: JWT expired at 2025-05-20T11:11:24Z. Current time: 2025-05-20T22:15:35Z, a difference of 39851034 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-05-21T00:15:35.034+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/beerstar/articulos", parameters={}
2025-05-21T00:15:35.035+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.ArticuloController#obtenerTodosLosArticulos()
2025-05-21T00:15:35.035+02:00  INFO 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.service.ArticuloService   : Obteniendo todos los artículos
2025-05-21T00:15:35.042+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T00:15:35.046+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ArticulosResponseDTO(idArticulo=1, nombre=Orval02, descripcion=Este es un tipo de cerveza de fermen (truncated)...]
2025-05-21T00:15:35.050+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T00:15:48.791+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing DELETE /beerstar/carrito/vaciar
2025-05-21T00:15:48.792+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: DELETE /beerstar/carrito/vaciar
2025-05-21T00:15:48.792+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:15:48.792+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:15:48.792+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:15:48.792+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:15:48.792+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 4e2e60c1-37f3-4d1a-a722-53bc9390ab7c
2025-05-21T00:15:48.793+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:15:48.793+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:15:48.793+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:15:48.793+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 68
2025-05-21T00:15:48.793+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:15:48.793+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:15:48.800+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured DELETE /beerstar/carrito/vaciar
2025-05-21T00:15:48.801+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: DELETE /beerstar/carrito/vaciar
2025-05-21T00:15:48.801+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:15:48.801+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:15:48.801+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:15:48.801+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:15:48.801+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 4e2e60c1-37f3-4d1a-a722-53bc9390ab7c
2025-05-21T00:15:48.802+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:15:48.802+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:15:48.802+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:15:48.802+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 68
2025-05-21T00:15:48.802+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:15:48.802+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:15:48.808+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : DELETE "/beerstar/carrito/vaciar", parameters={}
2025-05-21T00:15:48.809+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#vaciarCarrito(UserDetailsImpl)
2025-05-21T00:15:48.814+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T00:15:48.814+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-05-21T00:15:48.814+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 204 NO_CONTENT
2025-05-21T00:15:54.658+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /beerstar/articulos
2025-05-21T00:15:54.659+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/articulos
2025-05-21T00:15:54.659+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k
2025-05-21T00:15:54.659+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:15:54.659+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:15:54.659+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 84b24eff-2967-4ca9-97a3-69e0f30b7a00
2025-05-21T00:15:54.660+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:15:54.660+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:15:54.660+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:15:54.660+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T00:15:54.660+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T00:15:54.662+02:00 ERROR 26432 --- [beerstar] [http-nio-8080-exec-10] com.tfc.beerstar.security.JwtUtils       : Token JWT expirado: JWT expired at 2025-05-20T11:11:24Z. Current time: 2025-05-20T22:15:54Z, a difference of 39870661 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-05-21T00:15:54.662+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T00:15:54.662+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /beerstar/articulos
2025-05-21T00:15:54.663+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/articulos
2025-05-21T00:15:54.663+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k
2025-05-21T00:15:54.663+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:15:54.663+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:15:54.663+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 84b24eff-2967-4ca9-97a3-69e0f30b7a00
2025-05-21T00:15:54.663+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:15:54.663+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:15:54.664+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:15:54.664+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T00:15:54.664+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T00:15:54.665+02:00 ERROR 26432 --- [beerstar] [http-nio-8080-exec-10] com.tfc.beerstar.security.JwtUtils       : Token JWT expirado: JWT expired at 2025-05-20T11:11:24Z. Current time: 2025-05-20T22:15:54Z, a difference of 39870665 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-05-21T00:15:54.666+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/beerstar/articulos", parameters={}
2025-05-21T00:15:54.666+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.ArticuloController#obtenerTodosLosArticulos()
2025-05-21T00:15:54.667+02:00  INFO 26432 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.service.ArticuloService   : Obteniendo todos los artículos
2025-05-21T00:15:54.671+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T00:15:54.671+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ArticulosResponseDTO(idArticulo=1, nombre=Orval02, descripcion=Este es un tipo de cerveza de fermen (truncated)...]
2025-05-21T00:15:54.672+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T00:16:00.072+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing DELETE /beerstar/carrito/vaciar
2025-05-21T00:16:00.073+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: DELETE /beerstar/carrito/vaciar
2025-05-21T00:16:00.073+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:16:00.073+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:16:00.074+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:16:00.074+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:16:00.074+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 4c85028f-02d3-4210-9d30-df22a37c1ace
2025-05-21T00:16:00.074+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:16:00.074+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:16:00.074+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:16:00.075+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 68
2025-05-21T00:16:00.075+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:16:00.075+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:16:00.081+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured DELETE /beerstar/carrito/vaciar
2025-05-21T00:16:00.081+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: DELETE /beerstar/carrito/vaciar
2025-05-21T00:16:00.082+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:16:00.082+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:16:00.082+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:16:00.082+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:16:00.082+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 4c85028f-02d3-4210-9d30-df22a37c1ace
2025-05-21T00:16:00.082+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:16:00.083+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:16:00.083+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:16:00.083+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 68
2025-05-21T00:16:00.083+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:16:00.084+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:16:00.090+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : DELETE "/beerstar/carrito/vaciar", parameters={}
2025-05-21T00:16:00.090+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#vaciarCarrito(UserDetailsImpl)
2025-05-21T00:16:00.095+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T00:16:00.096+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-05-21T00:16:00.096+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 204 NO_CONTENT
2025-05-21T00:16:09.908+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing DELETE /beerstar/carrito/agregar
2025-05-21T00:16:09.909+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: DELETE /beerstar/carrito/agregar
2025-05-21T00:16:09.909+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:16:09.909+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:16:09.909+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:16:09.910+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:16:09.910+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 73799e49-a7f4-4cb2-ad85-a4740c00322b
2025-05-21T00:16:09.910+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:16:09.910+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:16:09.910+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:16:09.910+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 68
2025-05-21T00:16:09.910+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:16:09.911+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:16:09.920+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured DELETE /beerstar/carrito/agregar
2025-05-21T00:16:09.920+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: DELETE /beerstar/carrito/agregar
2025-05-21T00:16:09.920+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:16:09.920+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:16:09.921+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:16:09.921+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:16:09.921+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 73799e49-a7f4-4cb2-ad85-a4740c00322b
2025-05-21T00:16:09.921+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:16:09.921+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:16:09.921+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:16:09.922+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 68
2025-05-21T00:16:09.922+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:16:09.922+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:16:09.929+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : DELETE "/beerstar/carrito/agregar", parameters={}
2025-05-21T00:16:09.930+02:00  WARN 26432 --- [beerstar] [http-nio-8080-exec-9] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported]
2025-05-21T00:16:09.931+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 405 METHOD_NOT_ALLOWED
2025-05-21T00:16:09.932+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing DELETE /error
2025-05-21T00:16:09.932+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T00:16:09.933+02:00 ERROR 26432 --- [beerstar] [http-nio-8080-exec-9] c.t.beerstar.security.AuthEntryPointJwt  : Error no autorizado: Full authentication is required to access this resource
2025-05-21T00:16:15.915+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/carrito/agregar
2025-05-21T00:16:15.915+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T00:16:15.916+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:16:15.916+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:16:15.916+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:16:15.916+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:16:15.916+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 6b41a9d0-34dc-459f-849d-97d356a2dfcc
2025-05-21T00:16:15.916+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:16:15.917+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:16:15.917+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:16:15.917+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 68
2025-05-21T00:16:15.917+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:16:15.917+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:16:15.923+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/carrito/agregar
2025-05-21T00:16:15.923+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T00:16:15.923+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:16:15.924+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:16:15.924+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:16:15.924+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:16:15.924+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 6b41a9d0-34dc-459f-849d-97d356a2dfcc
2025-05-21T00:16:15.924+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:16:15.924+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:16:15.924+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:16:15.925+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 68
2025-05-21T00:16:15.925+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:16:15.925+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:16:15.930+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/carrito/agregar", parameters={}
2025-05-21T00:16:15.931+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#agregarAlCarrito(UserDetailsImpl, AddToCarritoRequestDTO)
2025-05-21T00:16:15.931+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AddToCarritoRequestDTO(idArticulo=1, idLote=null, cantidad=1, cantidadArticulos=1, cantidadLotes=nul (truncated)...]
2025-05-21T00:16:15.950+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T00:16:15.951+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoResponseDTO(id=4, fechaCreacion=2025-05-18T10:29:54.149009Z, items=[DetalleCarritoResponseDTO (truncated)...]
2025-05-21T00:16:15.952+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T00:16:37.039+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/carrito/agregar
2025-05-21T00:16:37.040+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T00:16:37.040+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:16:37.040+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:16:37.040+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:16:37.040+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:16:37.040+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = d01c3b1a-bb63-4d3a-8214-555285222adc
2025-05-21T00:16:37.041+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:16:37.041+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:16:37.041+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:16:37.041+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 50
2025-05-21T00:16:37.041+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:16:37.041+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:16:37.047+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/carrito/agregar
2025-05-21T00:16:37.047+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T00:16:37.047+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:16:37.047+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:16:37.047+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:16:37.047+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:16:37.047+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = d01c3b1a-bb63-4d3a-8214-555285222adc
2025-05-21T00:16:37.047+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:16:37.048+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:16:37.048+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:16:37.048+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 50
2025-05-21T00:16:37.048+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:16:37.048+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:16:37.054+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/carrito/agregar", parameters={}
2025-05-21T00:16:37.055+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#agregarAlCarrito(UserDetailsImpl, AddToCarritoRequestDTO)
2025-05-21T00:16:37.055+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AddToCarritoRequestDTO(idArticulo=1, idLote=null, cantidad=null, cantidadArticulos=1, cantidadLotes= (truncated)...]
2025-05-21T00:16:37.059+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.lang.IllegalArgumentException: Debe especificar una cantidad mayor que cero
2025-05-21T00:16:37.060+02:00 ERROR 26432 --- [beerstar] [http-nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalArgumentException: Debe especificar una cantidad mayor que cero] with root cause

java.lang.IllegalArgumentException: Debe especificar una cantidad mayor que cero
	at com.tfc.beerstar.service.CarritoService.agregarACarrito(CarritoService.java:160) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.tfc.beerstar.service.CarritoService$$SpringCGLIB$$0.agregarACarrito(<generated>) ~[classes/:na]
	at com.tfc.beerstar.controller.CarritoController.agregarAlCarrito(CarritoController.java:42) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at com.tfc.beerstar.security.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:126) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at com.tfc.beerstar.security.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:126) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-05-21T00:16:37.070+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /error
2025-05-21T00:16:37.071+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T00:16:37.071+02:00 ERROR 26432 --- [beerstar] [http-nio-8080-exec-2] c.t.beerstar.security.AuthEntryPointJwt  : Error no autorizado: Full authentication is required to access this resource
2025-05-21T00:17:55.872+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/carrito/agregar
2025-05-21T00:17:55.873+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T00:17:55.873+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:17:55.873+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:17:55.873+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:17:55.873+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:17:55.874+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = c35134c7-7984-4400-b7af-3dd412af6d3a
2025-05-21T00:17:55.874+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:17:55.874+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:17:55.874+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:17:55.874+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 50
2025-05-21T00:17:55.874+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:17:55.874+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:17:55.880+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/carrito/agregar
2025-05-21T00:17:55.881+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T00:17:55.881+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:17:55.881+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:17:55.881+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:17:55.881+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:17:55.881+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = c35134c7-7984-4400-b7af-3dd412af6d3a
2025-05-21T00:17:55.881+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:17:55.882+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:17:55.882+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:17:55.882+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 50
2025-05-21T00:17:55.882+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:17:55.882+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:17:55.888+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/carrito/agregar", parameters={}
2025-05-21T00:17:55.888+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#agregarAlCarrito(UserDetailsImpl, AddToCarritoRequestDTO)
2025-05-21T00:17:55.890+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AddToCarritoRequestDTO(idArticulo=1, idLote=null, cantidad=null, cantidadArticulos=1, cantidadLotes= (truncated)...]
2025-05-21T00:17:55.893+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.lang.IllegalArgumentException: Debe especificar una cantidad mayor que cero
2025-05-21T00:17:55.894+02:00 ERROR 26432 --- [beerstar] [http-nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalArgumentException: Debe especificar una cantidad mayor que cero] with root cause

java.lang.IllegalArgumentException: Debe especificar una cantidad mayor que cero
	at com.tfc.beerstar.service.CarritoService.agregarACarrito(CarritoService.java:160) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.tfc.beerstar.service.CarritoService$$SpringCGLIB$$0.agregarACarrito(<generated>) ~[classes/:na]
	at com.tfc.beerstar.controller.CarritoController.agregarAlCarrito(CarritoController.java:42) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at com.tfc.beerstar.security.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:126) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at com.tfc.beerstar.security.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:126) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-05-21T00:17:55.901+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /error
2025-05-21T00:17:55.902+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T00:17:55.902+02:00 ERROR 26432 --- [beerstar] [http-nio-8080-exec-4] c.t.beerstar.security.AuthEntryPointJwt  : Error no autorizado: Full authentication is required to access this resource
2025-05-21T00:18:22.903+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/carrito/agregar
2025-05-21T00:18:22.904+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T00:18:22.904+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:18:22.904+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:18:22.904+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:18:22.904+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:18:22.905+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 025a7484-4aec-4e46-ad3d-c72f6cb0d01d
2025-05-21T00:18:22.905+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:18:22.905+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:18:22.905+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:18:22.905+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 40
2025-05-21T00:18:22.905+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:18:22.905+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:18:22.912+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/carrito/agregar
2025-05-21T00:18:22.912+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T00:18:22.912+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:18:22.912+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:18:22.912+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:18:22.912+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:18:22.912+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 025a7484-4aec-4e46-ad3d-c72f6cb0d01d
2025-05-21T00:18:22.913+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:18:22.913+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:18:22.913+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:18:22.913+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 40
2025-05-21T00:18:22.913+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:18:22.913+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:18:22.918+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/carrito/agregar", parameters={}
2025-05-21T00:18:22.918+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#agregarAlCarrito(UserDetailsImpl, AddToCarritoRequestDTO)
2025-05-21T00:18:22.919+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AddToCarritoRequestDTO(idArticulo=1, idLote=null, cantidad=1, cantidadArticulos=null, cantidadLotes= (truncated)...]
2025-05-21T00:18:22.926+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T00:18:22.927+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoResponseDTO(id=4, fechaCreacion=2025-05-18T10:29:54.149009Z, items=[DetalleCarritoResponseDTO (truncated)...]
2025-05-21T00:18:22.928+02:00 DEBUG 26432 --- [beerstar] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T00:22:49.174+02:00  INFO 24872 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : Starting BeerstarApplication using Java 17.0.8 with PID 24872 (E:\Proyectos_2025\BeerStar_CLIEAN03\target\classes started by rlpmu in E:\Proyectos_2025\BeerStar_CLIEAN03)
2025-05-21T00:22:49.177+02:00  INFO 24872 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : The following 1 profile is active: "prod"
2025-05-21T00:22:50.037+02:00  INFO 24872 --- [beerstar] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-21T00:22:50.109+02:00  INFO 24872 --- [beerstar] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 62 ms. Found 12 JPA repository interfaces.
2025-05-21T00:22:50.820+02:00  INFO 24872 --- [beerstar] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-21T00:22:50.837+02:00  INFO 24872 --- [beerstar] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-21T00:22:50.838+02:00  INFO 24872 --- [beerstar] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-21T00:22:50.926+02:00  INFO 24872 --- [beerstar] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-21T00:22:50.927+02:00  INFO 24872 --- [beerstar] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1716 ms
2025-05-21T00:22:51.294+02:00  INFO 24872 --- [beerstar] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-21T00:22:51.348+02:00  INFO 24872 --- [beerstar] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-21T00:22:51.403+02:00  INFO 24872 --- [beerstar] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-21T00:22:51.609+02:00  INFO 24872 --- [beerstar] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-21T00:22:51.629+02:00  INFO 24872 --- [beerstar] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-21T00:22:51.856+02:00  INFO 24872 --- [beerstar] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@21ce2e4d
2025-05-21T00:22:51.858+02:00  INFO 24872 --- [beerstar] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-21T00:22:51.881+02:00  WARN 24872 --- [beerstar] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-21T00:22:51.895+02:00  INFO 24872 --- [beerstar] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-21T00:22:52.764+02:00  INFO 24872 --- [beerstar] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-21T00:22:53.439+02:00  INFO 24872 --- [beerstar] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-21T00:22:53.865+02:00 DEBUG 24872 --- [beerstar] [main] c.tfc.beerstar.security.AuthTokenFilter  : Filter 'authTokenFilter' configured for use
2025-05-21T00:22:53.867+02:00 DEBUG 24872 --- [beerstar] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-05-21T00:22:53.867+02:00 DEBUG 24872 --- [beerstar] [main] c.tfc.beerstar.security.AuthTokenFilter  : Filter 'authenticationJwtTokenFilter' configured for use
2025-05-21T00:22:54.008+02:00  INFO 24872 --- [beerstar] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-21T00:22:54.010+02:00  WARN 24872 --- [beerstar] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-21T00:22:54.271+02:00  INFO 24872 --- [beerstar] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-21T00:22:54.875+02:00  WARN 24872 --- [beerstar] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-21T00:22:55.117+02:00 DEBUG 24872 --- [beerstar] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 42 mappings in 'requestMappingHandlerMapping'
2025-05-21T00:22:55.255+02:00 DEBUG 24872 --- [beerstar] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-21T00:22:55.462+02:00  INFO 24872 --- [beerstar] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-05-21T00:22:55.493+02:00  INFO 24872 --- [beerstar] [main] com.tfc.beerstar.config.SecurityConfig   : Configurando seguridad HTTP
2025-05-21T00:22:55.533+02:00  INFO 24872 --- [beerstar] [main] com.tfc.beerstar.config.SecurityConfig   : Configuración de seguridad HTTP completada
2025-05-21T00:22:55.565+02:00 DEBUG 24872 --- [beerstar] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-21T00:22:55.680+02:00 DEBUG 24872 --- [beerstar] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-21T00:22:55.739+02:00 DEBUG 24872 --- [beerstar] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-21T00:22:56.359+02:00  INFO 24872 --- [beerstar] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-05-21T00:22:56.374+02:00  INFO 24872 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : Started BeerstarApplication in 7.568 seconds (process running for 7.941)
2025-05-21T00:22:58.146+02:00  INFO 24872 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-21T00:22:58.146+02:00  INFO 24872 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-21T00:22:58.147+02:00 DEBUG 24872 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-21T00:22:58.147+02:00 DEBUG 24872 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-21T00:22:58.147+02:00 DEBUG 24872 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-21T00:22:58.148+02:00 DEBUG 24872 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@50f71f48
2025-05-21T00:22:58.148+02:00 DEBUG 24872 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@66e478c7
2025-05-21T00:22:58.148+02:00 DEBUG 24872 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-21T00:22:58.149+02:00  INFO 24872 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-05-21T00:23:04.154+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/carrito/agregar
2025-05-21T00:23:04.161+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T00:23:04.162+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:23:04.163+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:23:04.163+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:23:04.163+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:23:04.163+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = a2562936-d17f-4148-95d2-3d8a585eee66
2025-05-21T00:23:04.163+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:23:04.164+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:23:04.164+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:23:04.164+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 40
2025-05-21T00:23:04.164+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:23:04.165+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:23:04.225+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/carrito/agregar
2025-05-21T00:23:04.225+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T00:23:04.225+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:23:04.225+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:23:04.226+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:23:04.226+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:23:04.226+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = a2562936-d17f-4148-95d2-3d8a585eee66
2025-05-21T00:23:04.226+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:23:04.226+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:23:04.226+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:23:04.227+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 40
2025-05-21T00:23:04.227+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:23:04.227+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:23:04.235+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/carrito/agregar", parameters={}
2025-05-21T00:23:04.236+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#agregarAlCarrito(UserDetailsImpl, AddToCarritoRequestDTO)
2025-05-21T00:23:04.263+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AddToCarritoRequestDTO(idArticulo=1, idLote=null, cantidad=1, cantidadArticulos=null, cantidadLotes= (truncated)...]
2025-05-21T00:23:04.287+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.lang.IllegalArgumentException: Debe especificar una cantidad de artículos o lotes mayor que cero
2025-05-21T00:23:04.290+02:00 ERROR 24872 --- [beerstar] [http-nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalArgumentException: Debe especificar una cantidad de artículos o lotes mayor que cero] with root cause

java.lang.IllegalArgumentException: Debe especificar una cantidad de artículos o lotes mayor que cero
	at com.tfc.beerstar.service.CarritoService.agregarACarrito(CarritoService.java:164) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.tfc.beerstar.service.CarritoService$$SpringCGLIB$$0.agregarACarrito(<generated>) ~[classes/:na]
	at com.tfc.beerstar.controller.CarritoController.agregarAlCarrito(CarritoController.java:42) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at com.tfc.beerstar.security.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:126) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at com.tfc.beerstar.security.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:126) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-05-21T00:23:04.314+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /error
2025-05-21T00:23:04.316+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T00:23:04.320+02:00 ERROR 24872 --- [beerstar] [http-nio-8080-exec-2] c.t.beerstar.security.AuthEntryPointJwt  : Error no autorizado: Full authentication is required to access this resource
2025-05-21T00:23:25.066+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/carrito/agregar
2025-05-21T00:23:25.067+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T00:23:25.067+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:23:25.067+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:23:25.068+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:23:25.068+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:23:25.068+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = ae286937-4149-4305-b0f7-4d6967347aae
2025-05-21T00:23:25.068+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:23:25.068+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:23:25.068+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:23:25.068+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 49
2025-05-21T00:23:25.069+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:23:25.069+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:23:25.077+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/carrito/agregar
2025-05-21T00:23:25.077+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T00:23:25.077+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:23:25.078+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:23:25.078+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:23:25.078+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:23:25.078+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = ae286937-4149-4305-b0f7-4d6967347aae
2025-05-21T00:23:25.078+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:23:25.078+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:23:25.078+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:23:25.079+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 49
2025-05-21T00:23:25.079+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:23:25.079+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:23:25.085+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/carrito/agregar", parameters={}
2025-05-21T00:23:25.086+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#agregarAlCarrito(UserDetailsImpl, AddToCarritoRequestDTO)
2025-05-21T00:23:25.086+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AddToCarritoRequestDTO(idArticulo=1, idLote=null, cantidad=null, cantidadArticulos=1, cantidadLotes= (truncated)...]
2025-05-21T00:23:25.139+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T00:23:25.145+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoResponseDTO(id=4, fechaCreacion=2025-05-18T10:29:54.149009Z, items=[DetalleCarritoResponseDTO (truncated)...]
2025-05-21T00:23:25.155+02:00 DEBUG 24872 --- [beerstar] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T00:29:17.264+02:00  INFO 25668 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : Starting BeerstarApplication using Java 17.0.8 with PID 25668 (E:\Proyectos_2025\BeerStar_CLIEAN03\target\classes started by rlpmu in E:\Proyectos_2025\BeerStar_CLIEAN03)
2025-05-21T00:29:17.266+02:00  INFO 25668 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : The following 1 profile is active: "prod"
2025-05-21T00:29:18.149+02:00  INFO 25668 --- [beerstar] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-21T00:29:18.220+02:00  INFO 25668 --- [beerstar] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 61 ms. Found 12 JPA repository interfaces.
2025-05-21T00:29:18.992+02:00  INFO 25668 --- [beerstar] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-21T00:29:19.006+02:00  INFO 25668 --- [beerstar] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-21T00:29:19.007+02:00  INFO 25668 --- [beerstar] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-21T00:29:19.116+02:00  INFO 25668 --- [beerstar] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-21T00:29:19.116+02:00  INFO 25668 --- [beerstar] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1817 ms
2025-05-21T00:29:19.496+02:00  INFO 25668 --- [beerstar] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-21T00:29:19.577+02:00  INFO 25668 --- [beerstar] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-21T00:29:19.619+02:00  INFO 25668 --- [beerstar] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-21T00:29:19.817+02:00  INFO 25668 --- [beerstar] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-21T00:29:19.837+02:00  INFO 25668 --- [beerstar] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-21T00:29:20.065+02:00  INFO 25668 --- [beerstar] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@20b67366
2025-05-21T00:29:20.067+02:00  INFO 25668 --- [beerstar] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-21T00:29:20.092+02:00  WARN 25668 --- [beerstar] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-21T00:29:20.107+02:00  INFO 25668 --- [beerstar] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-21T00:29:20.948+02:00  INFO 25668 --- [beerstar] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-21T00:29:21.640+02:00  INFO 25668 --- [beerstar] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-21T00:29:22.043+02:00 DEBUG 25668 --- [beerstar] [main] c.tfc.beerstar.security.AuthTokenFilter  : Filter 'authTokenFilter' configured for use
2025-05-21T00:29:22.045+02:00 DEBUG 25668 --- [beerstar] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-05-21T00:29:22.045+02:00 DEBUG 25668 --- [beerstar] [main] c.tfc.beerstar.security.AuthTokenFilter  : Filter 'authenticationJwtTokenFilter' configured for use
2025-05-21T00:29:22.208+02:00  INFO 25668 --- [beerstar] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-21T00:29:22.210+02:00  WARN 25668 --- [beerstar] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-21T00:29:22.453+02:00  INFO 25668 --- [beerstar] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-21T00:29:23.103+02:00  WARN 25668 --- [beerstar] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-21T00:29:23.343+02:00 DEBUG 25668 --- [beerstar] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 42 mappings in 'requestMappingHandlerMapping'
2025-05-21T00:29:23.477+02:00 DEBUG 25668 --- [beerstar] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-21T00:29:23.704+02:00  INFO 25668 --- [beerstar] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-05-21T00:29:23.727+02:00  INFO 25668 --- [beerstar] [main] com.tfc.beerstar.config.SecurityConfig   : Configurando seguridad HTTP
2025-05-21T00:29:23.764+02:00  INFO 25668 --- [beerstar] [main] com.tfc.beerstar.config.SecurityConfig   : Configuración de seguridad HTTP completada
2025-05-21T00:29:23.809+02:00 DEBUG 25668 --- [beerstar] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-21T00:29:23.922+02:00 DEBUG 25668 --- [beerstar] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-21T00:29:23.982+02:00 DEBUG 25668 --- [beerstar] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-21T00:29:24.592+02:00  INFO 25668 --- [beerstar] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-05-21T00:29:24.610+02:00  INFO 25668 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : Started BeerstarApplication in 7.679 seconds (process running for 8.064)
2025-05-21T00:29:26.250+02:00  INFO 25668 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-21T00:29:26.250+02:00  INFO 25668 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-21T00:29:26.250+02:00 DEBUG 25668 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-21T00:29:26.251+02:00 DEBUG 25668 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-21T00:29:26.251+02:00 DEBUG 25668 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-21T00:29:26.252+02:00 DEBUG 25668 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@705448e7
2025-05-21T00:29:26.252+02:00 DEBUG 25668 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@6087f264
2025-05-21T00:29:26.253+02:00 DEBUG 25668 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-21T00:29:26.253+02:00  INFO 25668 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-05-21T00:30:01.025+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/carrito/agregar
2025-05-21T00:30:01.033+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T00:30:01.034+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:30:01.034+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:30:01.034+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:30:01.034+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:30:01.035+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 41c041a8-7a6a-4ae9-ab05-9b05aa306a6d
2025-05-21T00:30:01.035+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:30:01.035+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:30:01.035+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:30:01.035+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 89
2025-05-21T00:30:01.035+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:30:01.036+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:30:01.097+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/carrito/agregar
2025-05-21T00:30:01.097+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T00:30:01.097+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:30:01.098+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:30:01.098+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:30:01.098+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:30:01.098+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 41c041a8-7a6a-4ae9-ab05-9b05aa306a6d
2025-05-21T00:30:01.098+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:30:01.099+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:30:01.099+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:30:01.099+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 89
2025-05-21T00:30:01.099+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:30:01.099+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:30:01.111+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/carrito/agregar", parameters={}
2025-05-21T00:30:01.113+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#agregarAlCarrito(UserDetailsImpl, AddToCarritoRequestDTO)
2025-05-21T00:30:01.138+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AddToCarritoRequestDTO(idArticulo=1, idLote=1, cantidad=null, cantidadArticulos=1, cantidadLotes=2)]
2025-05-21T00:30:01.206+02:00  WARN 25668 --- [beerstar] [http-nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23502
2025-05-21T00:30:01.206+02:00 ERROR 25668 --- [beerstar] [http-nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: el valor nulo en la columna «id_articulo» de la relación «detalle_carrito» viola la restricción de no nulo
  Detail: La fila que falla contiene (9, 4, null, 0, 19.99, 0.00, 1, 0, 0).
2025-05-21T00:30:01.213+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: el valor nulo en la columna «id_articulo» de la relación «detalle_carrito» viola la restricción de no nulo
  Detail: La fila que falla contiene (9, 4, null, 0, 19.99, 0.00, 1, 0, 0).] [insert into beerstar_schema.detalle_carrito (id_articulo,cantidad,cantidad_articulos,cantidad_lotes,id_carrito,id_lote,precio_unitario,total_linea) values (?,?,?,?,?,?,?,?)]; SQL [insert into beerstar_schema.detalle_carrito (id_articulo,cantidad,cantidad_articulos,cantidad_lotes,id_carrito,id_lote,precio_unitario,total_linea) values (?,?,?,?,?,?,?,?)]; constraint [null]
2025-05-21T00:30:01.217+02:00 ERROR 25668 --- [beerstar] [http-nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: el valor nulo en la columna «id_articulo» de la relación «detalle_carrito» viola la restricción de no nulo
  Detail: La fila que falla contiene (9, 4, null, 0, 19.99, 0.00, 1, 0, 0).] [insert into beerstar_schema.detalle_carrito (id_articulo,cantidad,cantidad_articulos,cantidad_lotes,id_carrito,id_lote,precio_unitario,total_linea) values (?,?,?,?,?,?,?,?)]; SQL [insert into beerstar_schema.detalle_carrito (id_articulo,cantidad,cantidad_articulos,cantidad_lotes,id_carrito,id_lote,precio_unitario,total_linea) values (?,?,?,?,?,?,?,?)]; constraint [null]] with root cause

org.postgresql.util.PSQLException: ERROR: el valor nulo en la columna «id_articulo» de la relación «detalle_carrito» viola la restricción de no nulo
  Detail: La fila que falla contiene (9, 4, null, 0, 19.99, 0.00, 1, 0, 0).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733) ~[postgresql-42.7.5.jar:42.7.5]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420) ~[postgresql-42.7.5.jar:42.7.5]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372) ~[postgresql-42.7.5.jar:42.7.5]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517) ~[postgresql-42.7.5.jar:42.7.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434) ~[postgresql-42.7.5.jar:42.7.5]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194) ~[postgresql-42.7.5.jar:42.7.5]
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:155) ~[postgresql-42.7.5.jar:42.7.5]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:393) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:307) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:223) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364) ~[spring-orm-6.2.5.jar:6.2.5]
	at jdk.proxy2/jdk.proxy2.$Proxy153.persist(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320) ~[spring-orm-6.2.5.jar:6.2.5]
	at jdk.proxy2/jdk.proxy2.$Proxy153.persist(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:636) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:731) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.5.jar:6.2.5]
	at jdk.proxy2/jdk.proxy2.$Proxy172.save(Unknown Source) ~[na:na]
	at com.tfc.beerstar.service.CarritoService.lambda$7(CarritoService.java:258) ~[classes/:na]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at com.tfc.beerstar.service.CarritoService.agregarACarrito(CarritoService.java:250) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.tfc.beerstar.service.CarritoService$$SpringCGLIB$$0.agregarACarrito(<generated>) ~[classes/:na]
	at com.tfc.beerstar.controller.CarritoController.agregarAlCarrito(CarritoController.java:42) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at com.tfc.beerstar.security.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:126) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at com.tfc.beerstar.security.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:126) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-05-21T00:30:01.238+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /error
2025-05-21T00:30:01.240+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T00:30:01.243+02:00 ERROR 25668 --- [beerstar] [http-nio-8080-exec-2] c.t.beerstar.security.AuthEntryPointJwt  : Error no autorizado: Full authentication is required to access this resource
2025-05-21T00:30:12.220+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/carrito/agregar
2025-05-21T00:30:12.221+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T00:30:12.221+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:30:12.221+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:30:12.221+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:30:12.221+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:30:12.222+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = ac71adb4-7650-4992-9e30-e7ac6401588e
2025-05-21T00:30:12.222+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:30:12.222+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:30:12.222+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:30:12.222+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 73
2025-05-21T00:30:12.222+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:30:12.223+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:30:12.230+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/carrito/agregar
2025-05-21T00:30:12.230+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T00:30:12.230+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:30:12.230+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:30:12.231+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:30:12.231+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:30:12.231+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = ac71adb4-7650-4992-9e30-e7ac6401588e
2025-05-21T00:30:12.231+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:30:12.231+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:30:12.231+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:30:12.231+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 73
2025-05-21T00:30:12.231+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:30:12.232+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:30:12.238+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/carrito/agregar", parameters={}
2025-05-21T00:30:12.238+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#agregarAlCarrito(UserDetailsImpl, AddToCarritoRequestDTO)
2025-05-21T00:30:12.239+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AddToCarritoRequestDTO(idArticulo=1, idLote=null, cantidad=null, cantidadArticulos=1, cantidadLotes= (truncated)...]
2025-05-21T00:30:12.245+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.lang.IllegalArgumentException: idLote es obligatorio cuando compras lotes
2025-05-21T00:30:12.246+02:00 ERROR 25668 --- [beerstar] [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalArgumentException: idLote es obligatorio cuando compras lotes] with root cause

java.lang.IllegalArgumentException: idLote es obligatorio cuando compras lotes
	at com.tfc.beerstar.service.CarritoService.agregarACarrito(CarritoService.java:235) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.tfc.beerstar.service.CarritoService$$SpringCGLIB$$0.agregarACarrito(<generated>) ~[classes/:na]
	at com.tfc.beerstar.controller.CarritoController.agregarAlCarrito(CarritoController.java:42) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at com.tfc.beerstar.security.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:126) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at com.tfc.beerstar.security.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:126) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-05-21T00:30:12.254+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /error
2025-05-21T00:30:12.255+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T00:30:12.255+02:00 ERROR 25668 --- [beerstar] [http-nio-8080-exec-3] c.t.beerstar.security.AuthEntryPointJwt  : Error no autorizado: Full authentication is required to access this resource
2025-05-21T00:30:52.982+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/carrito/agregar
2025-05-21T00:30:52.982+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T00:30:52.983+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:30:52.983+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:30:52.983+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:30:52.983+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:30:52.983+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = ce0e1fba-1420-4a19-ae2f-a72e07d8db2c
2025-05-21T00:30:52.984+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:30:52.984+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:30:52.984+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:30:52.984+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 89
2025-05-21T00:30:52.985+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:30:52.985+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:30:52.992+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/carrito/agregar
2025-05-21T00:30:52.992+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T00:30:52.992+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:30:52.992+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:30:52.992+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:30:52.993+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:30:52.993+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = ce0e1fba-1420-4a19-ae2f-a72e07d8db2c
2025-05-21T00:30:52.993+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:30:52.993+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:30:52.993+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:30:52.993+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 89
2025-05-21T00:30:52.993+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:30:52.994+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:30:52.999+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/carrito/agregar", parameters={}
2025-05-21T00:30:52.999+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#agregarAlCarrito(UserDetailsImpl, AddToCarritoRequestDTO)
2025-05-21T00:30:53.000+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AddToCarritoRequestDTO(idArticulo=1, idLote=1, cantidad=null, cantidadArticulos=1, cantidadLotes=1)]
2025-05-21T00:30:53.009+02:00  WARN 25668 --- [beerstar] [http-nio-8080-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23502
2025-05-21T00:30:53.009+02:00 ERROR 25668 --- [beerstar] [http-nio-8080-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: el valor nulo en la columna «id_articulo» de la relación «detalle_carrito» viola la restricción de no nulo
  Detail: La fila que falla contiene (10, 4, null, 0, 19.99, 0.00, 1, 0, 0).
2025-05-21T00:30:53.010+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: el valor nulo en la columna «id_articulo» de la relación «detalle_carrito» viola la restricción de no nulo
  Detail: La fila que falla contiene (10, 4, null, 0, 19.99, 0.00, 1, 0, 0).] [insert into beerstar_schema.detalle_carrito (id_articulo,cantidad,cantidad_articulos,cantidad_lotes,id_carrito,id_lote,precio_unitario,total_linea) values (?,?,?,?,?,?,?,?)]; SQL [insert into beerstar_schema.detalle_carrito (id_articulo,cantidad,cantidad_articulos,cantidad_lotes,id_carrito,id_lote,precio_unitario,total_linea) values (?,?,?,?,?,?,?,?)]; constraint [null]
2025-05-21T00:30:53.011+02:00 ERROR 25668 --- [beerstar] [http-nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: el valor nulo en la columna «id_articulo» de la relación «detalle_carrito» viola la restricción de no nulo
  Detail: La fila que falla contiene (10, 4, null, 0, 19.99, 0.00, 1, 0, 0).] [insert into beerstar_schema.detalle_carrito (id_articulo,cantidad,cantidad_articulos,cantidad_lotes,id_carrito,id_lote,precio_unitario,total_linea) values (?,?,?,?,?,?,?,?)]; SQL [insert into beerstar_schema.detalle_carrito (id_articulo,cantidad,cantidad_articulos,cantidad_lotes,id_carrito,id_lote,precio_unitario,total_linea) values (?,?,?,?,?,?,?,?)]; constraint [null]] with root cause

org.postgresql.util.PSQLException: ERROR: el valor nulo en la columna «id_articulo» de la relación «detalle_carrito» viola la restricción de no nulo
  Detail: La fila que falla contiene (10, 4, null, 0, 19.99, 0.00, 1, 0, 0).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733) ~[postgresql-42.7.5.jar:42.7.5]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420) ~[postgresql-42.7.5.jar:42.7.5]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372) ~[postgresql-42.7.5.jar:42.7.5]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517) ~[postgresql-42.7.5.jar:42.7.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434) ~[postgresql-42.7.5.jar:42.7.5]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194) ~[postgresql-42.7.5.jar:42.7.5]
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:155) ~[postgresql-42.7.5.jar:42.7.5]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:393) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:307) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:223) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364) ~[spring-orm-6.2.5.jar:6.2.5]
	at jdk.proxy2/jdk.proxy2.$Proxy153.persist(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320) ~[spring-orm-6.2.5.jar:6.2.5]
	at jdk.proxy2/jdk.proxy2.$Proxy153.persist(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:636) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:731) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.5.jar:6.2.5]
	at jdk.proxy2/jdk.proxy2.$Proxy172.save(Unknown Source) ~[na:na]
	at com.tfc.beerstar.service.CarritoService.lambda$7(CarritoService.java:258) ~[classes/:na]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at com.tfc.beerstar.service.CarritoService.agregarACarrito(CarritoService.java:250) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.tfc.beerstar.service.CarritoService$$SpringCGLIB$$0.agregarACarrito(<generated>) ~[classes/:na]
	at com.tfc.beerstar.controller.CarritoController.agregarAlCarrito(CarritoController.java:42) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at com.tfc.beerstar.security.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:126) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at com.tfc.beerstar.security.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:126) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-05-21T00:30:53.021+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /error
2025-05-21T00:30:53.022+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T00:30:53.023+02:00 ERROR 25668 --- [beerstar] [http-nio-8080-exec-4] c.t.beerstar.security.AuthEntryPointJwt  : Error no autorizado: Full authentication is required to access this resource
2025-05-21T00:31:25.264+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/carrito/agregar
2025-05-21T00:31:25.265+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T00:31:25.265+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:31:25.265+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:31:25.265+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:31:25.265+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:31:25.266+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 62ce7084-1b44-490d-95d1-68b2440e1775
2025-05-21T00:31:25.266+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:31:25.266+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:31:25.266+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:31:25.266+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 107
2025-05-21T00:31:25.266+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:31:25.266+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:31:25.273+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/carrito/agregar
2025-05-21T00:31:25.273+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T00:31:25.273+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:31:25.274+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:31:25.274+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:31:25.274+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:31:25.274+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 62ce7084-1b44-490d-95d1-68b2440e1775
2025-05-21T00:31:25.274+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:31:25.274+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:31:25.275+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:31:25.275+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 107
2025-05-21T00:31:25.275+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:31:25.275+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:31:25.280+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/carrito/agregar", parameters={}
2025-05-21T00:31:25.280+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#agregarAlCarrito(UserDetailsImpl, AddToCarritoRequestDTO)
2025-05-21T00:31:25.281+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AddToCarritoRequestDTO(idArticulo=1, idLote=1, cantidad=2, cantidadArticulos=1, cantidadLotes=1)]
2025-05-21T00:31:25.286+02:00  WARN 25668 --- [beerstar] [http-nio-8080-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23502
2025-05-21T00:31:25.287+02:00 ERROR 25668 --- [beerstar] [http-nio-8080-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: el valor nulo en la columna «id_articulo» de la relación «detalle_carrito» viola la restricción de no nulo
  Detail: La fila que falla contiene (11, 4, null, 0, 19.99, 0.00, 1, 0, 0).
2025-05-21T00:31:25.288+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: el valor nulo en la columna «id_articulo» de la relación «detalle_carrito» viola la restricción de no nulo
  Detail: La fila que falla contiene (11, 4, null, 0, 19.99, 0.00, 1, 0, 0).] [insert into beerstar_schema.detalle_carrito (id_articulo,cantidad,cantidad_articulos,cantidad_lotes,id_carrito,id_lote,precio_unitario,total_linea) values (?,?,?,?,?,?,?,?)]; SQL [insert into beerstar_schema.detalle_carrito (id_articulo,cantidad,cantidad_articulos,cantidad_lotes,id_carrito,id_lote,precio_unitario,total_linea) values (?,?,?,?,?,?,?,?)]; constraint [null]
2025-05-21T00:31:25.289+02:00 ERROR 25668 --- [beerstar] [http-nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: el valor nulo en la columna «id_articulo» de la relación «detalle_carrito» viola la restricción de no nulo
  Detail: La fila que falla contiene (11, 4, null, 0, 19.99, 0.00, 1, 0, 0).] [insert into beerstar_schema.detalle_carrito (id_articulo,cantidad,cantidad_articulos,cantidad_lotes,id_carrito,id_lote,precio_unitario,total_linea) values (?,?,?,?,?,?,?,?)]; SQL [insert into beerstar_schema.detalle_carrito (id_articulo,cantidad,cantidad_articulos,cantidad_lotes,id_carrito,id_lote,precio_unitario,total_linea) values (?,?,?,?,?,?,?,?)]; constraint [null]] with root cause

org.postgresql.util.PSQLException: ERROR: el valor nulo en la columna «id_articulo» de la relación «detalle_carrito» viola la restricción de no nulo
  Detail: La fila que falla contiene (11, 4, null, 0, 19.99, 0.00, 1, 0, 0).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733) ~[postgresql-42.7.5.jar:42.7.5]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420) ~[postgresql-42.7.5.jar:42.7.5]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372) ~[postgresql-42.7.5.jar:42.7.5]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517) ~[postgresql-42.7.5.jar:42.7.5]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434) ~[postgresql-42.7.5.jar:42.7.5]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194) ~[postgresql-42.7.5.jar:42.7.5]
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:155) ~[postgresql-42.7.5.jar:42.7.5]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:393) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:307) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:223) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745) ~[hibernate-core-6.6.11.Final.jar:6.6.11.Final]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364) ~[spring-orm-6.2.5.jar:6.2.5]
	at jdk.proxy2/jdk.proxy2.$Proxy153.persist(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320) ~[spring-orm-6.2.5.jar:6.2.5]
	at jdk.proxy2/jdk.proxy2.$Proxy153.persist(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:636) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:731) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.4.jar:3.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165) ~[spring-data-jpa-3.4.4.jar:3.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.5.jar:6.2.5]
	at jdk.proxy2/jdk.proxy2.$Proxy172.save(Unknown Source) ~[na:na]
	at com.tfc.beerstar.service.CarritoService.lambda$7(CarritoService.java:258) ~[classes/:na]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at com.tfc.beerstar.service.CarritoService.agregarACarrito(CarritoService.java:250) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.tfc.beerstar.service.CarritoService$$SpringCGLIB$$0.agregarACarrito(<generated>) ~[classes/:na]
	at com.tfc.beerstar.controller.CarritoController.agregarAlCarrito(CarritoController.java:42) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at com.tfc.beerstar.security.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:126) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at com.tfc.beerstar.security.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:126) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-05-21T00:31:25.299+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /error
2025-05-21T00:31:25.299+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T00:31:25.300+02:00 ERROR 25668 --- [beerstar] [http-nio-8080-exec-5] c.t.beerstar.security.AuthEntryPointJwt  : Error no autorizado: Full authentication is required to access this resource
2025-05-21T00:32:44.922+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/carrito/agregar
2025-05-21T00:32:44.923+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T00:32:44.923+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:32:44.923+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:32:44.923+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:32:44.924+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:32:44.924+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 965ebc5f-e724-4ef0-93a0-4a8ecf9bf9b9
2025-05-21T00:32:44.924+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:32:44.924+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:32:44.924+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:32:44.925+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 50
2025-05-21T00:32:44.925+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:32:44.925+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:32:44.932+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/carrito/agregar
2025-05-21T00:32:44.932+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T00:32:44.933+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T00:32:44.933+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0
2025-05-21T00:32:44.933+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T00:32:44.933+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T00:32:44.933+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 965ebc5f-e724-4ef0-93a0-4a8ecf9bf9b9
2025-05-21T00:32:44.933+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T00:32:44.933+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T00:32:44.933+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T00:32:44.933+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 50
2025-05-21T00:32:44.934+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:32:44.934+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NzcxNjMxLCJleHAiOjE3NDc4NTgwMzF9.PjFxRtdhOXf3oXd7NvxQNWrAfoU5Drx6E98rNmx8DR0]
2025-05-21T00:32:44.938+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/carrito/agregar", parameters={}
2025-05-21T00:32:44.938+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#agregarAlCarrito(UserDetailsImpl, AddToCarritoRequestDTO)
2025-05-21T00:32:44.939+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AddToCarritoRequestDTO(idArticulo=1, idLote=null, cantidad=null, cantidadArticulos=1, cantidadLotes= (truncated)...]
2025-05-21T00:32:44.965+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T00:32:44.968+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoResponseDTO(id=4, fechaCreacion=2025-05-18T10:29:54.149009Z, items=[DetalleCarritoResponseDTO (truncated)...]
2025-05-21T00:32:44.978+02:00 DEBUG 25668 --- [beerstar] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T12:06:11.911+02:00  INFO 9756 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : Starting BeerstarApplication using Java 17.0.8 with PID 9756 (E:\Proyectos_2025\BeerStar_CLIEAN03\target\classes started by rlpmu in E:\Proyectos_2025\BeerStar_CLIEAN03)
2025-05-21T12:06:11.913+02:00  INFO 9756 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : The following 1 profile is active: "prod"
2025-05-21T12:06:12.756+02:00  INFO 9756 --- [beerstar] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-21T12:06:12.827+02:00  INFO 9756 --- [beerstar] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 63 ms. Found 12 JPA repository interfaces.
2025-05-21T12:06:13.521+02:00  INFO 9756 --- [beerstar] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-21T12:06:13.533+02:00  INFO 9756 --- [beerstar] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-21T12:06:13.534+02:00  INFO 9756 --- [beerstar] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-21T12:06:13.606+02:00  INFO 9756 --- [beerstar] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-21T12:06:13.607+02:00  INFO 9756 --- [beerstar] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1664 ms
2025-05-21T12:06:13.940+02:00  INFO 9756 --- [beerstar] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-21T12:06:14.010+02:00  INFO 9756 --- [beerstar] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-21T12:06:14.040+02:00  INFO 9756 --- [beerstar] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-21T12:06:14.243+02:00  INFO 9756 --- [beerstar] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-21T12:06:14.260+02:00  INFO 9756 --- [beerstar] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-21T12:06:14.381+02:00  INFO 9756 --- [beerstar] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2337bf27
2025-05-21T12:06:14.383+02:00  INFO 9756 --- [beerstar] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-21T12:06:14.426+02:00  WARN 9756 --- [beerstar] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-21T12:06:14.444+02:00  INFO 9756 --- [beerstar] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-21T12:06:15.283+02:00  INFO 9756 --- [beerstar] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-21T12:06:15.941+02:00  INFO 9756 --- [beerstar] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-21T12:06:16.338+02:00 DEBUG 9756 --- [beerstar] [main] c.tfc.beerstar.security.AuthTokenFilter  : Filter 'authTokenFilter' configured for use
2025-05-21T12:06:16.340+02:00 DEBUG 9756 --- [beerstar] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-05-21T12:06:16.341+02:00 DEBUG 9756 --- [beerstar] [main] c.tfc.beerstar.security.AuthTokenFilter  : Filter 'authenticationJwtTokenFilter' configured for use
2025-05-21T12:06:16.479+02:00  INFO 9756 --- [beerstar] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-21T12:06:16.480+02:00  WARN 9756 --- [beerstar] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-21T12:06:16.756+02:00  INFO 9756 --- [beerstar] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-21T12:06:17.354+02:00  WARN 9756 --- [beerstar] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-21T12:06:17.585+02:00 DEBUG 9756 --- [beerstar] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 42 mappings in 'requestMappingHandlerMapping'
2025-05-21T12:06:17.706+02:00 DEBUG 9756 --- [beerstar] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-21T12:06:17.924+02:00  INFO 9756 --- [beerstar] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-05-21T12:06:17.943+02:00  INFO 9756 --- [beerstar] [main] com.tfc.beerstar.config.SecurityConfig   : Configurando seguridad HTTP
2025-05-21T12:06:17.979+02:00  INFO 9756 --- [beerstar] [main] com.tfc.beerstar.config.SecurityConfig   : Configuración de seguridad HTTP completada
2025-05-21T12:06:18.013+02:00 DEBUG 9756 --- [beerstar] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-21T12:06:18.127+02:00 DEBUG 9756 --- [beerstar] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-21T12:06:18.183+02:00 DEBUG 9756 --- [beerstar] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-21T12:06:18.697+02:00  WARN 9756 --- [beerstar] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-05-21T12:06:18.704+02:00  INFO 9756 --- [beerstar] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-21T12:06:18.707+02:00  INFO 9756 --- [beerstar] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-21T12:06:18.712+02:00  INFO 9756 --- [beerstar] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-21T12:06:18.739+02:00  INFO 9756 --- [beerstar] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-21T12:06:18.758+02:00 ERROR 9756 --- [beerstar] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-05-21T12:06:36.370+02:00  INFO 5524 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : Starting BeerstarApplication using Java 17.0.8 with PID 5524 (E:\Proyectos_2025\BeerStar_CLIEAN03\target\classes started by rlpmu in E:\Proyectos_2025\BeerStar_CLIEAN03)
2025-05-21T12:06:36.372+02:00  INFO 5524 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : The following 1 profile is active: "prod"
2025-05-21T12:06:37.184+02:00  INFO 5524 --- [beerstar] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-21T12:06:37.253+02:00  INFO 5524 --- [beerstar] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 60 ms. Found 12 JPA repository interfaces.
2025-05-21T12:06:37.931+02:00  INFO 5524 --- [beerstar] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-21T12:06:37.943+02:00  INFO 5524 --- [beerstar] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-21T12:06:37.943+02:00  INFO 5524 --- [beerstar] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-21T12:06:38.006+02:00  INFO 5524 --- [beerstar] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-21T12:06:38.008+02:00  INFO 5524 --- [beerstar] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1604 ms
2025-05-21T12:06:38.424+02:00  INFO 5524 --- [beerstar] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-21T12:06:38.473+02:00  INFO 5524 --- [beerstar] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-21T12:06:38.523+02:00  INFO 5524 --- [beerstar] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-21T12:06:38.712+02:00  INFO 5524 --- [beerstar] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-21T12:06:38.731+02:00  INFO 5524 --- [beerstar] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-21T12:06:38.846+02:00  INFO 5524 --- [beerstar] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@147059f8
2025-05-21T12:06:38.848+02:00  INFO 5524 --- [beerstar] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-21T12:06:38.870+02:00  WARN 5524 --- [beerstar] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-21T12:06:38.883+02:00  INFO 5524 --- [beerstar] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-21T12:06:39.696+02:00  INFO 5524 --- [beerstar] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-21T12:06:40.332+02:00  INFO 5524 --- [beerstar] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-21T12:06:40.720+02:00 DEBUG 5524 --- [beerstar] [main] c.tfc.beerstar.security.AuthTokenFilter  : Filter 'authTokenFilter' configured for use
2025-05-21T12:06:40.723+02:00 DEBUG 5524 --- [beerstar] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-05-21T12:06:40.723+02:00 DEBUG 5524 --- [beerstar] [main] c.tfc.beerstar.security.AuthTokenFilter  : Filter 'authenticationJwtTokenFilter' configured for use
2025-05-21T12:06:40.853+02:00  INFO 5524 --- [beerstar] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-21T12:06:40.854+02:00  WARN 5524 --- [beerstar] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-21T12:06:41.140+02:00  INFO 5524 --- [beerstar] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-21T12:06:41.720+02:00  WARN 5524 --- [beerstar] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-21T12:06:41.944+02:00 DEBUG 5524 --- [beerstar] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 42 mappings in 'requestMappingHandlerMapping'
2025-05-21T12:06:42.083+02:00 DEBUG 5524 --- [beerstar] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-21T12:06:42.272+02:00  INFO 5524 --- [beerstar] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-05-21T12:06:42.291+02:00  INFO 5524 --- [beerstar] [main] com.tfc.beerstar.config.SecurityConfig   : Configurando seguridad HTTP
2025-05-21T12:06:42.324+02:00  INFO 5524 --- [beerstar] [main] com.tfc.beerstar.config.SecurityConfig   : Configuración de seguridad HTTP completada
2025-05-21T12:06:42.355+02:00 DEBUG 5524 --- [beerstar] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-21T12:06:42.465+02:00 DEBUG 5524 --- [beerstar] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-21T12:06:42.520+02:00 DEBUG 5524 --- [beerstar] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-21T12:06:43.222+02:00  INFO 5524 --- [beerstar] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-05-21T12:06:43.238+02:00  INFO 5524 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : Started BeerstarApplication in 7.19 seconds (process running for 7.563)
2025-05-21T12:06:45.339+02:00  INFO 5524 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-21T12:06:45.339+02:00  INFO 5524 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-21T12:06:45.340+02:00 DEBUG 5524 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-21T12:06:45.340+02:00 DEBUG 5524 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-21T12:06:45.340+02:00 DEBUG 5524 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-21T12:06:45.341+02:00 DEBUG 5524 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4843fc3c
2025-05-21T12:06:45.341+02:00 DEBUG 5524 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@c207c10
2025-05-21T12:06:45.342+02:00 DEBUG 5524 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-21T12:06:45.342+02:00  INFO 5524 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-05-21T12:07:12.022+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/auth/login
2025-05-21T12:07:12.029+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/auth/login
2025-05-21T12:07:12.030+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T12:07:12.030+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T12:07:12.030+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T12:07:12.030+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 9465e60f-b838-497f-9904-86d993b6139b
2025-05-21T12:07:12.030+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T12:07:12.031+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T12:07:12.031+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T12:07:12.031+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 56
2025-05-21T12:07:12.031+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [null]
2025-05-21T12:07:12.031+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [null]
2025-05-21T12:07:12.033+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T12:07:12.038+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/auth/login
2025-05-21T12:07:12.038+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/auth/login
2025-05-21T12:07:12.039+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T12:07:12.039+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T12:07:12.039+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T12:07:12.039+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 9465e60f-b838-497f-9904-86d993b6139b
2025-05-21T12:07:12.039+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T12:07:12.040+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T12:07:12.040+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T12:07:12.040+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 56
2025-05-21T12:07:12.040+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [null]
2025-05-21T12:07:12.040+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [null]
2025-05-21T12:07:12.042+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/auth/login", parameters={}
2025-05-21T12:07:12.044+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.AuthController#authenticateUser(LoginRequest)
2025-05-21T12:07:12.074+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(email=b@b.es, password=12345678)]
2025-05-21T12:07:12.258+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-21T12:07:12.286+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T12:07:12.287+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [JwtResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMS (truncated)...]
2025-05-21T12:07:12.293+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T12:07:39.647+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/carrito/agregar
2025-05-21T12:07:39.648+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T12:07:39.649+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T12:07:39.649+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk
2025-05-21T12:07:39.649+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T12:07:39.649+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T12:07:39.649+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 586e39c4-a385-49ec-aadf-ebd3650abda4
2025-05-21T12:07:39.649+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T12:07:39.650+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T12:07:39.650+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T12:07:39.650+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 41
2025-05-21T12:07:39.650+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:07:39.650+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:07:39.665+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/carrito/agregar
2025-05-21T12:07:39.666+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T12:07:39.666+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T12:07:39.666+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk
2025-05-21T12:07:39.666+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T12:07:39.666+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T12:07:39.667+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 586e39c4-a385-49ec-aadf-ebd3650abda4
2025-05-21T12:07:39.667+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T12:07:39.667+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T12:07:39.667+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T12:07:39.667+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 41
2025-05-21T12:07:39.667+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:07:39.668+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:07:39.673+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/carrito/agregar", parameters={}
2025-05-21T12:07:39.674+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#agregarAlCarrito(UserDetailsImpl, AddToCarritoRequestDTO)
2025-05-21T12:07:39.677+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AddToCarritoRequestDTO(idArticulo=1, idLote=null, cantidad=1)]
2025-05-21T12:07:39.731+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T12:07:39.735+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoResponseDTO(id=4, fechaCreacion=2025-05-18T10:29:54.149009Z, items=[DetalleCarritoResponseDTO (truncated)...]
2025-05-21T12:07:39.740+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T12:07:56.632+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /beerstar/articulos
2025-05-21T12:07:56.632+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/articulos
2025-05-21T12:07:56.633+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k
2025-05-21T12:07:56.633+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T12:07:56.633+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T12:07:56.633+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = d553199b-ef06-4636-bfdd-de807785a60e
2025-05-21T12:07:56.633+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T12:07:56.633+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T12:07:56.633+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T12:07:56.634+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T12:07:56.634+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T12:07:56.636+02:00 ERROR 5524 --- [beerstar] [http-nio-8080-exec-4] com.tfc.beerstar.security.JwtUtils       : Token JWT expirado: JWT expired at 2025-05-20T11:11:24Z. Current time: 2025-05-21T10:07:56Z, a difference of 82592635 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-05-21T12:07:56.636+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T12:07:56.637+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /beerstar/articulos
2025-05-21T12:07:56.637+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/articulos
2025-05-21T12:07:56.637+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k
2025-05-21T12:07:56.638+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T12:07:56.638+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T12:07:56.638+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = d553199b-ef06-4636-bfdd-de807785a60e
2025-05-21T12:07:56.638+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T12:07:56.638+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T12:07:56.639+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T12:07:56.639+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T12:07:56.639+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T12:07:56.641+02:00 ERROR 5524 --- [beerstar] [http-nio-8080-exec-4] com.tfc.beerstar.security.JwtUtils       : Token JWT expirado: JWT expired at 2025-05-20T11:11:24Z. Current time: 2025-05-21T10:07:56Z, a difference of 82592640 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-05-21T12:07:56.641+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/beerstar/articulos", parameters={}
2025-05-21T12:07:56.641+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.ArticuloController#obtenerTodosLosArticulos()
2025-05-21T12:07:56.642+02:00  INFO 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.service.ArticuloService   : Obteniendo todos los artículos
2025-05-21T12:07:56.649+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T12:07:56.652+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ArticulosResponseDTO(idArticulo=1, nombre=Orval02, descripcion=Este es un tipo de cerveza de fermen (truncated)...]
2025-05-21T12:07:56.654+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T12:08:15.809+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /beerstar/carrito/verCarrito
2025-05-21T12:08:15.809+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/carrito/verCarrito
2025-05-21T12:08:15.810+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk
2025-05-21T12:08:15.810+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T12:08:15.810+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T12:08:15.810+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 0b554327-050d-45d7-a6f5-d6222622e109
2025-05-21T12:08:15.810+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T12:08:15.811+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T12:08:15.811+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T12:08:15.811+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:08:15.811+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:08:15.818+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /beerstar/carrito/verCarrito
2025-05-21T12:08:15.818+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/carrito/verCarrito
2025-05-21T12:08:15.818+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk
2025-05-21T12:08:15.818+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T12:08:15.819+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T12:08:15.819+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 0b554327-050d-45d7-a6f5-d6222622e109
2025-05-21T12:08:15.819+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T12:08:15.819+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T12:08:15.819+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T12:08:15.819+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:08:15.819+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:08:15.825+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/beerstar/carrito/verCarrito", parameters={}
2025-05-21T12:08:15.826+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#verCarrito(UserDetailsImpl)
2025-05-21T12:08:15.833+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T12:08:15.833+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [CarritoResponseDTO(id=4, fechaCreacion=2025-05-18T10:29:54.149009Z, items=[DetalleCarritoResponseDTO (truncated)...]
2025-05-21T12:08:15.834+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T12:08:32.011+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/pedidos/
2025-05-21T12:08:32.012+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/pedidos/
2025-05-21T12:08:32.012+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T12:08:32.013+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjMxOTAyLCJleHAiOjE3NDc3MTgzMDJ9.o6bmb-4diMs1lLmM-amxPzSWabRKq1ct5sRai3MOS9E
2025-05-21T12:08:32.013+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T12:08:32.013+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T12:08:32.013+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 95d691c8-ad0b-4560-a26a-829efeca1d9f
2025-05-21T12:08:32.013+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T12:08:32.013+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T12:08:32.013+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T12:08:32.014+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 0
2025-05-21T12:08:32.014+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjMxOTAyLCJleHAiOjE3NDc3MTgzMDJ9.o6bmb-4diMs1lLmM-amxPzSWabRKq1ct5sRai3MOS9E]
2025-05-21T12:08:32.014+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjMxOTAyLCJleHAiOjE3NDc3MTgzMDJ9.o6bmb-4diMs1lLmM-amxPzSWabRKq1ct5sRai3MOS9E]
2025-05-21T12:08:32.015+02:00 ERROR 5524 --- [beerstar] [http-nio-8080-exec-6] com.tfc.beerstar.security.JwtUtils       : Token JWT expirado: JWT expired at 2025-05-20T05:18:22Z. Current time: 2025-05-21T10:08:32Z, a difference of 103810015 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-05-21T12:08:32.016+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T12:08:32.018+02:00 ERROR 5524 --- [beerstar] [http-nio-8080-exec-6] c.t.beerstar.security.AuthEntryPointJwt  : Error no autorizado: Full authentication is required to access this resource
2025-05-21T12:08:32.023+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /error
2025-05-21T12:08:32.024+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T12:08:32.024+02:00 ERROR 5524 --- [beerstar] [http-nio-8080-exec-6] c.t.beerstar.security.AuthEntryPointJwt  : Error no autorizado: Full authentication is required to access this resource
2025-05-21T12:08:55.612+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/pedidos/crearPedido
2025-05-21T12:08:55.613+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/pedidos/crearPedido
2025-05-21T12:08:55.613+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T12:08:55.614+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk
2025-05-21T12:08:55.614+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T12:08:55.614+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T12:08:55.614+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 63903043-f719-4eb3-b009-d55243384605
2025-05-21T12:08:55.614+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T12:08:55.615+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T12:08:55.615+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T12:08:55.615+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 0
2025-05-21T12:08:55.615+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:08:55.615+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:08:55.621+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/pedidos/crearPedido
2025-05-21T12:08:55.622+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/pedidos/crearPedido
2025-05-21T12:08:55.622+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T12:08:55.622+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk
2025-05-21T12:08:55.622+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T12:08:55.622+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T12:08:55.622+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 63903043-f719-4eb3-b009-d55243384605
2025-05-21T12:08:55.623+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T12:08:55.623+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T12:08:55.623+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T12:08:55.623+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 0
2025-05-21T12:08:55.623+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:08:55.623+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:08:55.629+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/pedidos/crearPedido", parameters={}
2025-05-21T12:08:55.629+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.PedidoController#crear(UserDetailsImpl, String)
2025-05-21T12:08:55.666+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T12:08:55.668+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PedidoResponseDTO(idPedido=9, IdCliente=4, fechaPedido=2025-05-21T10:08:55.637588900Z, estadoPedido= (truncated)...]
2025-05-21T12:08:55.670+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T12:13:40.714+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /beerstar/carrito/listarPedidos
2025-05-21T12:13:40.714+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/carrito/listarPedidos
2025-05-21T12:13:40.714+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk
2025-05-21T12:13:40.715+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T12:13:40.715+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T12:13:40.715+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 6343a61b-6f7f-4c98-8485-051851e3128a
2025-05-21T12:13:40.715+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T12:13:40.715+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T12:13:40.715+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T12:13:40.716+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:13:40.716+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:13:40.722+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /beerstar/carrito/listarPedidos
2025-05-21T12:13:40.722+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/carrito/listarPedidos
2025-05-21T12:13:40.722+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk
2025-05-21T12:13:40.722+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T12:13:40.722+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T12:13:40.723+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 6343a61b-6f7f-4c98-8485-051851e3128a
2025-05-21T12:13:40.723+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T12:13:40.723+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T12:13:40.723+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T12:13:40.723+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:13:40.723+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:13:40.729+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/beerstar/carrito/listarPedidos", parameters={}
2025-05-21T12:13:40.730+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-10] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-05-21T12:13:40.731+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-10] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-05-21T12:13:40.733+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-10] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource beerstar/carrito/listarPedidos.]
2025-05-21T12:13:40.733+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-05-21T12:13:40.735+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-05-21T12:13:40.735+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T12:13:40.735+02:00 ERROR 5524 --- [beerstar] [http-nio-8080-exec-10] c.t.beerstar.security.AuthEntryPointJwt  : Error no autorizado: Full authentication is required to access this resource
2025-05-21T12:13:50.314+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /beerstar/pedidos/listarPedidos
2025-05-21T12:13:50.315+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/pedidos/listarPedidos
2025-05-21T12:13:50.315+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk
2025-05-21T12:13:50.315+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T12:13:50.315+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T12:13:50.315+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = ce09d002-00ac-4500-9386-dfbf45796fd9
2025-05-21T12:13:50.315+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T12:13:50.316+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T12:13:50.316+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T12:13:50.316+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:13:50.316+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:13:50.322+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /beerstar/pedidos/listarPedidos
2025-05-21T12:13:50.322+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/pedidos/listarPedidos
2025-05-21T12:13:50.322+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk
2025-05-21T12:13:50.322+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T12:13:50.322+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T12:13:50.323+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = ce09d002-00ac-4500-9386-dfbf45796fd9
2025-05-21T12:13:50.323+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T12:13:50.323+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T12:13:50.323+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T12:13:50.323+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:13:50.324+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:13:50.329+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/beerstar/pedidos/listarPedidos", parameters={}
2025-05-21T12:13:50.330+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.PedidoController#listar(UserDetailsImpl)
2025-05-21T12:13:50.339+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T12:13:50.339+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[PedidoResponseDTO(idPedido=5, IdCliente=4, fechaPedido=2025-05-18T19:45:25.031318Z, estadoPedido=PE (truncated)...]
2025-05-21T12:13:50.340+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T12:15:02.277+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/carrito/agregar
2025-05-21T12:15:02.277+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T12:15:02.277+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T12:15:02.278+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk
2025-05-21T12:15:02.278+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T12:15:02.278+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T12:15:02.278+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 70eee160-eb33-42b0-9275-8d9ed996bfce
2025-05-21T12:15:02.278+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T12:15:02.278+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T12:15:02.279+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T12:15:02.279+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 57
2025-05-21T12:15:02.279+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:15:02.279+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:15:02.285+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/carrito/agregar
2025-05-21T12:15:02.285+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T12:15:02.286+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T12:15:02.286+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk
2025-05-21T12:15:02.286+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T12:15:02.286+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T12:15:02.286+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 70eee160-eb33-42b0-9275-8d9ed996bfce
2025-05-21T12:15:02.286+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T12:15:02.286+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T12:15:02.287+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T12:15:02.287+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 57
2025-05-21T12:15:02.287+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:15:02.287+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:15:02.292+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/carrito/agregar", parameters={}
2025-05-21T12:15:02.292+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#agregarAlCarrito(UserDetailsImpl, AddToCarritoRequestDTO)
2025-05-21T12:15:02.293+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AddToCarritoRequestDTO(idArticulo=1, idLote=1, cantidad=2)]
2025-05-21T12:15:02.303+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T12:15:02.304+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoResponseDTO(id=4, fechaCreacion=2025-05-18T10:29:54.149009Z, items=[DetalleCarritoResponseDTO (truncated)...]
2025-05-21T12:15:02.305+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T12:15:32.037+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/carrito/agregar
2025-05-21T12:15:32.038+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T12:15:32.038+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T12:15:32.038+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk
2025-05-21T12:15:32.038+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T12:15:32.038+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T12:15:32.039+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 7ee038bb-221d-42d2-8c37-8e2a0af51abc
2025-05-21T12:15:32.039+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T12:15:32.039+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T12:15:32.039+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T12:15:32.039+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 80
2025-05-21T12:15:32.039+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:15:32.039+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:15:32.045+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/carrito/agregar
2025-05-21T12:15:32.045+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T12:15:32.045+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T12:15:32.045+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk
2025-05-21T12:15:32.045+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T12:15:32.045+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T12:15:32.046+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 7ee038bb-221d-42d2-8c37-8e2a0af51abc
2025-05-21T12:15:32.046+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T12:15:32.046+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T12:15:32.046+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T12:15:32.046+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 80
2025-05-21T12:15:32.046+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:15:32.047+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:15:32.052+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/carrito/agregar", parameters={}
2025-05-21T12:15:32.052+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#agregarAlCarrito(UserDetailsImpl, AddToCarritoRequestDTO)
2025-05-21T12:15:32.054+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AddToCarritoRequestDTO(idArticulo=1, idLote=1, cantidad=2)]
2025-05-21T12:15:32.060+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T12:15:32.060+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoResponseDTO(id=4, fechaCreacion=2025-05-18T10:29:54.149009Z, items=[DetalleCarritoResponseDTO (truncated)...]
2025-05-21T12:15:32.061+02:00 DEBUG 5524 --- [beerstar] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T12:18:32.311+02:00  INFO 13940 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : Starting BeerstarApplication using Java 17.0.8 with PID 13940 (E:\Proyectos_2025\BeerStar_CLIEAN03\target\classes started by rlpmu in E:\Proyectos_2025\BeerStar_CLIEAN03)
2025-05-21T12:18:32.313+02:00  INFO 13940 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : The following 1 profile is active: "prod"
2025-05-21T12:18:33.155+02:00  INFO 13940 --- [beerstar] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-21T12:18:33.219+02:00  INFO 13940 --- [beerstar] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 55 ms. Found 12 JPA repository interfaces.
2025-05-21T12:18:33.847+02:00  INFO 13940 --- [beerstar] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-21T12:18:33.861+02:00  INFO 13940 --- [beerstar] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-21T12:18:33.862+02:00  INFO 13940 --- [beerstar] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-21T12:18:33.947+02:00  INFO 13940 --- [beerstar] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-21T12:18:33.949+02:00  INFO 13940 --- [beerstar] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1603 ms
2025-05-21T12:18:34.289+02:00  INFO 13940 --- [beerstar] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-21T12:18:34.349+02:00  INFO 13940 --- [beerstar] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-21T12:18:34.399+02:00  INFO 13940 --- [beerstar] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-21T12:18:34.599+02:00  INFO 13940 --- [beerstar] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-21T12:18:34.618+02:00  INFO 13940 --- [beerstar] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-21T12:18:34.732+02:00  INFO 13940 --- [beerstar] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@18209303
2025-05-21T12:18:34.734+02:00  INFO 13940 --- [beerstar] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-21T12:18:34.759+02:00  WARN 13940 --- [beerstar] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-21T12:18:34.773+02:00  INFO 13940 --- [beerstar] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-21T12:18:35.608+02:00  INFO 13940 --- [beerstar] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-21T12:18:36.251+02:00  INFO 13940 --- [beerstar] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-21T12:18:36.649+02:00 DEBUG 13940 --- [beerstar] [main] c.tfc.beerstar.security.AuthTokenFilter  : Filter 'authTokenFilter' configured for use
2025-05-21T12:18:36.652+02:00 DEBUG 13940 --- [beerstar] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-05-21T12:18:36.652+02:00 DEBUG 13940 --- [beerstar] [main] c.tfc.beerstar.security.AuthTokenFilter  : Filter 'authenticationJwtTokenFilter' configured for use
2025-05-21T12:18:36.785+02:00  INFO 13940 --- [beerstar] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-21T12:18:36.787+02:00  WARN 13940 --- [beerstar] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-21T12:18:37.093+02:00  INFO 13940 --- [beerstar] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-21T12:18:37.689+02:00  WARN 13940 --- [beerstar] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-21T12:18:37.932+02:00 DEBUG 13940 --- [beerstar] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 42 mappings in 'requestMappingHandlerMapping'
2025-05-21T12:18:38.063+02:00 DEBUG 13940 --- [beerstar] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-21T12:18:38.268+02:00  INFO 13940 --- [beerstar] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-05-21T12:18:38.289+02:00  INFO 13940 --- [beerstar] [main] com.tfc.beerstar.config.SecurityConfig   : Configurando seguridad HTTP
2025-05-21T12:18:38.321+02:00  INFO 13940 --- [beerstar] [main] com.tfc.beerstar.config.SecurityConfig   : Configuración de seguridad HTTP completada
2025-05-21T12:18:38.356+02:00 DEBUG 13940 --- [beerstar] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-21T12:18:38.473+02:00 DEBUG 13940 --- [beerstar] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-21T12:18:38.531+02:00 DEBUG 13940 --- [beerstar] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-21T12:18:39.133+02:00  INFO 13940 --- [beerstar] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-05-21T12:18:39.150+02:00  INFO 13940 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : Started BeerstarApplication in 7.175 seconds (process running for 7.54)
2025-05-21T12:18:41.321+02:00  INFO 13940 --- [beerstar] [RMI TCP Connection(3)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-21T12:18:41.322+02:00  INFO 13940 --- [beerstar] [RMI TCP Connection(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-21T12:18:41.322+02:00 DEBUG 13940 --- [beerstar] [RMI TCP Connection(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-21T12:18:41.323+02:00 DEBUG 13940 --- [beerstar] [RMI TCP Connection(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-21T12:18:41.323+02:00 DEBUG 13940 --- [beerstar] [RMI TCP Connection(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-21T12:18:41.325+02:00 DEBUG 13940 --- [beerstar] [RMI TCP Connection(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@73ebf7cc
2025-05-21T12:18:41.325+02:00 DEBUG 13940 --- [beerstar] [RMI TCP Connection(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@d95150c
2025-05-21T12:18:41.326+02:00 DEBUG 13940 --- [beerstar] [RMI TCP Connection(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-21T12:18:41.326+02:00  INFO 13940 --- [beerstar] [RMI TCP Connection(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-05-21T12:20:59.895+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /beerstar/pedidos/listarPedidos
2025-05-21T12:20:59.903+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/pedidos/listarPedidos
2025-05-21T12:20:59.907+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk
2025-05-21T12:20:59.907+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T12:20:59.907+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T12:20:59.907+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 747edc8d-08c0-4264-bd94-a97d2f76223e
2025-05-21T12:20:59.908+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T12:20:59.908+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T12:20:59.908+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T12:20:59.908+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:20:59.908+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:20:59.984+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /beerstar/pedidos/listarPedidos
2025-05-21T12:20:59.984+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/pedidos/listarPedidos
2025-05-21T12:20:59.984+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk
2025-05-21T12:20:59.985+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T12:20:59.985+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T12:20:59.985+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 747edc8d-08c0-4264-bd94-a97d2f76223e
2025-05-21T12:20:59.985+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T12:20:59.986+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T12:20:59.986+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T12:20:59.986+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:20:59.986+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:20:59.994+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/beerstar/pedidos/listarPedidos", parameters={}
2025-05-21T12:20:59.996+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.PedidoController#listar(UserDetailsImpl)
2025-05-21T12:21:00.039+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T12:21:00.044+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[PedidoResponseDTO(idPedido=5, IdCliente=4, fechaPedido=2025-05-18T19:45:25.031318Z, estadoPedido=PE (truncated)...]
2025-05-21T12:21:00.058+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T12:21:15.861+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/carrito/agregar
2025-05-21T12:21:15.862+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T12:21:15.862+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T12:21:15.862+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk
2025-05-21T12:21:15.862+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T12:21:15.862+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T12:21:15.862+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 75334348-2804-4f8c-adf2-1f6334e08d5b
2025-05-21T12:21:15.863+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T12:21:15.863+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T12:21:15.863+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T12:21:15.863+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 41
2025-05-21T12:21:15.863+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:21:15.863+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:21:15.870+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/carrito/agregar
2025-05-21T12:21:15.871+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T12:21:15.871+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T12:21:15.871+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk
2025-05-21T12:21:15.872+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T12:21:15.872+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T12:21:15.872+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 75334348-2804-4f8c-adf2-1f6334e08d5b
2025-05-21T12:21:15.872+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T12:21:15.872+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T12:21:15.872+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T12:21:15.873+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 41
2025-05-21T12:21:15.873+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:21:15.873+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:21:15.879+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/carrito/agregar", parameters={}
2025-05-21T12:21:15.880+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#agregarAlCarrito(UserDetailsImpl, AddToCarritoRequestDTO)
2025-05-21T12:21:15.895+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AddToCarritoRequestDTO(idArticulo=1, cantidad=2)]
2025-05-21T12:21:15.953+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T12:21:15.956+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoResponseDTO(id=4, fechaCreacion=2025-05-18T10:29:54.149009Z, items=[DetalleCarritoResponseDTO (truncated)...]
2025-05-21T12:21:15.958+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T12:21:24.087+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/pedidos/crearPedido
2025-05-21T12:21:24.088+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/pedidos/crearPedido
2025-05-21T12:21:24.088+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T12:21:24.088+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk
2025-05-21T12:21:24.089+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T12:21:24.089+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T12:21:24.089+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = abca5bee-4039-47ac-b783-30e60df4690f
2025-05-21T12:21:24.089+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T12:21:24.089+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T12:21:24.089+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T12:21:24.089+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 0
2025-05-21T12:21:24.090+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:21:24.090+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:21:24.096+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/pedidos/crearPedido
2025-05-21T12:21:24.097+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/pedidos/crearPedido
2025-05-21T12:21:24.097+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T12:21:24.097+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk
2025-05-21T12:21:24.097+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T12:21:24.097+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T12:21:24.097+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = abca5bee-4039-47ac-b783-30e60df4690f
2025-05-21T12:21:24.098+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T12:21:24.098+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T12:21:24.098+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T12:21:24.098+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 0
2025-05-21T12:21:24.098+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:21:24.098+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:21:24.105+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/pedidos/crearPedido", parameters={}
2025-05-21T12:21:24.106+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.PedidoController#crear(UserDetailsImpl, String)
2025-05-21T12:21:24.141+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T12:21:24.141+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PedidoResponseDTO(idPedido=10, IdCliente=4, fechaPedido=2025-05-21T10:21:24.115915400Z, estadoPedido (truncated)...]
2025-05-21T12:21:24.142+02:00 DEBUG 13940 --- [beerstar] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T12:49:02.782+02:00  INFO 17088 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : Starting BeerstarApplication using Java 17.0.8 with PID 17088 (E:\Proyectos_2025\BeerStar_CLIEAN03\target\classes started by rlpmu in E:\Proyectos_2025\BeerStar_CLIEAN03)
2025-05-21T12:49:02.785+02:00  INFO 17088 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : The following 1 profile is active: "prod"
2025-05-21T12:49:03.627+02:00  INFO 17088 --- [beerstar] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-21T12:49:03.699+02:00  INFO 17088 --- [beerstar] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 60 ms. Found 12 JPA repository interfaces.
2025-05-21T12:49:04.406+02:00  INFO 17088 --- [beerstar] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-21T12:49:04.420+02:00  INFO 17088 --- [beerstar] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-21T12:49:04.421+02:00  INFO 17088 --- [beerstar] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-21T12:49:04.507+02:00  INFO 17088 --- [beerstar] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-21T12:49:04.507+02:00  INFO 17088 --- [beerstar] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1689 ms
2025-05-21T12:49:04.883+02:00  INFO 17088 --- [beerstar] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-21T12:49:04.939+02:00  INFO 17088 --- [beerstar] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-21T12:49:04.976+02:00  INFO 17088 --- [beerstar] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-21T12:49:05.188+02:00  INFO 17088 --- [beerstar] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-21T12:49:05.208+02:00  INFO 17088 --- [beerstar] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-21T12:49:05.321+02:00  INFO 17088 --- [beerstar] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@57e57dc5
2025-05-21T12:49:05.323+02:00  INFO 17088 --- [beerstar] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-21T12:49:05.346+02:00  WARN 17088 --- [beerstar] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-21T12:49:05.361+02:00  INFO 17088 --- [beerstar] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-21T12:49:06.229+02:00  INFO 17088 --- [beerstar] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-21T12:49:06.875+02:00  INFO 17088 --- [beerstar] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-21T12:49:07.262+02:00 DEBUG 17088 --- [beerstar] [main] c.tfc.beerstar.security.AuthTokenFilter  : Filter 'authTokenFilter' configured for use
2025-05-21T12:49:07.265+02:00 DEBUG 17088 --- [beerstar] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-05-21T12:49:07.266+02:00 DEBUG 17088 --- [beerstar] [main] c.tfc.beerstar.security.AuthTokenFilter  : Filter 'authenticationJwtTokenFilter' configured for use
2025-05-21T12:49:07.463+02:00  INFO 17088 --- [beerstar] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-21T12:49:07.464+02:00  WARN 17088 --- [beerstar] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-21T12:49:07.693+02:00  INFO 17088 --- [beerstar] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-21T12:49:08.310+02:00  WARN 17088 --- [beerstar] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-21T12:49:08.553+02:00 DEBUG 17088 --- [beerstar] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 42 mappings in 'requestMappingHandlerMapping'
2025-05-21T12:49:08.703+02:00 DEBUG 17088 --- [beerstar] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-21T12:49:08.901+02:00  INFO 17088 --- [beerstar] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-05-21T12:49:08.924+02:00  INFO 17088 --- [beerstar] [main] com.tfc.beerstar.config.SecurityConfig   : Configurando seguridad HTTP
2025-05-21T12:49:08.963+02:00  INFO 17088 --- [beerstar] [main] com.tfc.beerstar.config.SecurityConfig   : Configuración de seguridad HTTP completada
2025-05-21T12:49:09.001+02:00 DEBUG 17088 --- [beerstar] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-21T12:49:09.114+02:00 DEBUG 17088 --- [beerstar] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-21T12:49:09.176+02:00 DEBUG 17088 --- [beerstar] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-21T12:49:09.934+02:00  INFO 17088 --- [beerstar] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-05-21T12:49:09.949+02:00  INFO 17088 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : Started BeerstarApplication in 7.51 seconds (process running for 7.912)
2025-05-21T12:49:11.728+02:00  INFO 17088 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-21T12:49:11.729+02:00  INFO 17088 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-21T12:49:11.729+02:00 DEBUG 17088 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-21T12:49:11.729+02:00 DEBUG 17088 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-21T12:49:11.729+02:00 DEBUG 17088 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-21T12:49:11.730+02:00 DEBUG 17088 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@acc6a69
2025-05-21T12:49:11.731+02:00 DEBUG 17088 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1ad27a73
2025-05-21T12:49:11.731+02:00 DEBUG 17088 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-21T12:49:11.731+02:00  INFO 17088 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-05-21T12:49:33.945+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/pedidos/crearPedido
2025-05-21T12:49:33.953+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/pedidos/crearPedido
2025-05-21T12:49:33.954+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T12:49:33.954+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk
2025-05-21T12:49:33.954+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T12:49:33.954+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T12:49:33.955+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 582e7003-b5d4-4162-8aa0-4c796ae7b326
2025-05-21T12:49:33.955+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T12:49:33.955+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T12:49:33.955+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T12:49:33.955+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 0
2025-05-21T12:49:33.955+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:49:33.956+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:49:34.017+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/pedidos/crearPedido
2025-05-21T12:49:34.017+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/pedidos/crearPedido
2025-05-21T12:49:34.017+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T12:49:34.018+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk
2025-05-21T12:49:34.018+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T12:49:34.018+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T12:49:34.018+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 582e7003-b5d4-4162-8aa0-4c796ae7b326
2025-05-21T12:49:34.018+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T12:49:34.019+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T12:49:34.019+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T12:49:34.019+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 0
2025-05-21T12:49:34.019+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:49:34.019+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:49:34.027+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/pedidos/crearPedido", parameters={}
2025-05-21T12:49:34.028+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.PedidoController#crear(UserDetailsImpl, String)
2025-05-21T12:49:34.062+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.lang.IllegalStateException: No se puede crear un pedido con un carrito vacío
2025-05-21T12:49:34.064+02:00 ERROR 17088 --- [beerstar] [http-nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException: No se puede crear un pedido con un carrito vacío] with root cause

java.lang.IllegalStateException: No se puede crear un pedido con un carrito vacío
	at com.tfc.beerstar.service.PedidoService.crearPedido(PedidoService.java:43) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.tfc.beerstar.service.PedidoService$$SpringCGLIB$$0.crearPedido(<generated>) ~[classes/:na]
	at com.tfc.beerstar.controller.PedidoController.crear(PedidoController.java:40) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at com.tfc.beerstar.security.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:126) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at com.tfc.beerstar.security.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:126) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-05-21T12:49:34.080+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /error
2025-05-21T12:49:34.081+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T12:49:34.084+02:00 ERROR 17088 --- [beerstar] [http-nio-8080-exec-2] c.t.beerstar.security.AuthEntryPointJwt  : Error no autorizado: Full authentication is required to access this resource
2025-05-21T12:49:53.795+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/carrito/agregar
2025-05-21T12:49:53.796+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T12:49:53.796+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T12:49:53.796+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk
2025-05-21T12:49:53.797+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T12:49:53.797+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T12:49:53.797+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 35acd22a-32d0-4c2d-ac8e-21895bac4837
2025-05-21T12:49:53.797+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T12:49:53.797+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T12:49:53.797+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T12:49:53.798+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 41
2025-05-21T12:49:53.798+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:49:53.798+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:49:53.805+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/carrito/agregar
2025-05-21T12:49:53.806+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T12:49:53.806+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T12:49:53.806+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk
2025-05-21T12:49:53.806+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T12:49:53.806+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T12:49:53.807+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 35acd22a-32d0-4c2d-ac8e-21895bac4837
2025-05-21T12:49:53.807+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T12:49:53.807+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T12:49:53.807+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T12:49:53.807+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 41
2025-05-21T12:49:53.807+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:49:53.807+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:49:53.813+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/carrito/agregar", parameters={}
2025-05-21T12:49:53.813+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#agregarAlCarrito(UserDetailsImpl, AddToCarritoRequestDTO)
2025-05-21T12:49:53.831+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AddToCarritoRequestDTO(idArticulo=1, cantidad=2)]
2025-05-21T12:49:53.904+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T12:49:53.909+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoResponseDTO(id=4, fechaCreacion=2025-05-18T10:29:54.149009Z, items=[DetalleCarritoResponseDTO (truncated)...]
2025-05-21T12:49:53.919+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T12:50:06.293+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/pedidos/crearPedido
2025-05-21T12:50:06.294+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/pedidos/crearPedido
2025-05-21T12:50:06.294+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T12:50:06.294+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk
2025-05-21T12:50:06.295+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T12:50:06.295+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T12:50:06.295+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = b1fb62f2-7615-4f7d-a811-875e6c468334
2025-05-21T12:50:06.295+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T12:50:06.295+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T12:50:06.295+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T12:50:06.295+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 0
2025-05-21T12:50:06.296+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:50:06.296+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:50:06.302+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/pedidos/crearPedido
2025-05-21T12:50:06.302+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/pedidos/crearPedido
2025-05-21T12:50:06.303+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T12:50:06.303+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk
2025-05-21T12:50:06.303+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T12:50:06.303+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T12:50:06.303+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = b1fb62f2-7615-4f7d-a811-875e6c468334
2025-05-21T12:50:06.304+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T12:50:06.304+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T12:50:06.304+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T12:50:06.304+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 0
2025-05-21T12:50:06.304+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:50:06.305+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T12:50:06.310+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/pedidos/crearPedido", parameters={}
2025-05-21T12:50:06.311+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.PedidoController#crear(UserDetailsImpl, String)
2025-05-21T12:50:06.335+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T12:50:06.339+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PedidoResponseDTO(idPedido=11, IdCliente=4, fechaPedido=2025-05-21T10:50:06.317024800Z, estadoPedido (truncated)...]
2025-05-21T12:50:06.341+02:00 DEBUG 17088 --- [beerstar] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T13:44:29.246+02:00  INFO 22368 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : Starting BeerstarApplication using Java 17.0.8 with PID 22368 (E:\Proyectos_2025\BeerStar_CLIEAN03\target\classes started by rlpmu in E:\Proyectos_2025\BeerStar_CLIEAN03)
2025-05-21T13:44:29.248+02:00  INFO 22368 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : The following 1 profile is active: "prod"
2025-05-21T13:44:30.155+02:00  INFO 22368 --- [beerstar] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-21T13:44:30.236+02:00  INFO 22368 --- [beerstar] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 70 ms. Found 12 JPA repository interfaces.
2025-05-21T13:44:30.910+02:00  INFO 22368 --- [beerstar] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-21T13:44:30.921+02:00  INFO 22368 --- [beerstar] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-21T13:44:30.922+02:00  INFO 22368 --- [beerstar] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-21T13:44:30.990+02:00  INFO 22368 --- [beerstar] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-21T13:44:30.991+02:00  INFO 22368 --- [beerstar] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1711 ms
2025-05-21T13:44:31.354+02:00  INFO 22368 --- [beerstar] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-21T13:44:31.407+02:00  INFO 22368 --- [beerstar] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-21T13:44:31.449+02:00  INFO 22368 --- [beerstar] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-21T13:44:31.687+02:00  INFO 22368 --- [beerstar] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-21T13:44:31.708+02:00  INFO 22368 --- [beerstar] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-21T13:44:31.831+02:00  INFO 22368 --- [beerstar] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@57df09a7
2025-05-21T13:44:31.833+02:00  INFO 22368 --- [beerstar] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-21T13:44:31.858+02:00  WARN 22368 --- [beerstar] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-21T13:44:31.874+02:00  INFO 22368 --- [beerstar] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-21T13:44:32.802+02:00  INFO 22368 --- [beerstar] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-21T13:44:33.452+02:00  INFO 22368 --- [beerstar] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-21T13:44:33.848+02:00 DEBUG 22368 --- [beerstar] [main] c.tfc.beerstar.security.AuthTokenFilter  : Filter 'authTokenFilter' configured for use
2025-05-21T13:44:33.851+02:00 DEBUG 22368 --- [beerstar] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-05-21T13:44:33.852+02:00 DEBUG 22368 --- [beerstar] [main] c.tfc.beerstar.security.AuthTokenFilter  : Filter 'authenticationJwtTokenFilter' configured for use
2025-05-21T13:44:34.003+02:00  INFO 22368 --- [beerstar] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-21T13:44:34.004+02:00  WARN 22368 --- [beerstar] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-21T13:44:34.277+02:00  INFO 22368 --- [beerstar] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-21T13:44:34.854+02:00  WARN 22368 --- [beerstar] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-21T13:44:35.090+02:00 DEBUG 22368 --- [beerstar] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 42 mappings in 'requestMappingHandlerMapping'
2025-05-21T13:44:35.219+02:00 DEBUG 22368 --- [beerstar] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-21T13:44:35.432+02:00  INFO 22368 --- [beerstar] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-05-21T13:44:35.454+02:00  INFO 22368 --- [beerstar] [main] com.tfc.beerstar.config.SecurityConfig   : Configurando seguridad HTTP
2025-05-21T13:44:35.490+02:00  INFO 22368 --- [beerstar] [main] com.tfc.beerstar.config.SecurityConfig   : Configuración de seguridad HTTP completada
2025-05-21T13:44:35.522+02:00 DEBUG 22368 --- [beerstar] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-21T13:44:35.626+02:00 DEBUG 22368 --- [beerstar] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-21T13:44:35.681+02:00 DEBUG 22368 --- [beerstar] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-21T13:44:36.273+02:00  INFO 22368 --- [beerstar] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-05-21T13:44:36.288+02:00  INFO 22368 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : Started BeerstarApplication in 7.389 seconds (process running for 7.848)
2025-05-21T13:44:38.141+02:00  INFO 22368 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-21T13:44:38.142+02:00  INFO 22368 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-21T13:44:38.142+02:00 DEBUG 22368 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-21T13:44:38.142+02:00 DEBUG 22368 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-21T13:44:38.143+02:00 DEBUG 22368 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-21T13:44:38.143+02:00 DEBUG 22368 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@686ae6b3
2025-05-21T13:44:38.144+02:00 DEBUG 22368 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@59aba6f2
2025-05-21T13:44:38.144+02:00 DEBUG 22368 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-21T13:44:38.144+02:00  INFO 22368 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-05-21T13:44:48.024+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/auth/login
2025-05-21T13:44:48.031+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/auth/login
2025-05-21T13:44:48.032+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T13:44:48.032+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T13:44:48.032+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T13:44:48.033+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 3cb4b34d-3cbb-4f2b-9c7d-2e098c5c4387
2025-05-21T13:44:48.033+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T13:44:48.033+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T13:44:48.033+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T13:44:48.034+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 56
2025-05-21T13:44:48.034+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [null]
2025-05-21T13:44:48.034+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [null]
2025-05-21T13:44:48.036+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T13:44:48.039+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/auth/login
2025-05-21T13:44:48.040+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/auth/login
2025-05-21T13:44:48.040+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T13:44:48.040+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T13:44:48.040+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T13:44:48.040+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 3cb4b34d-3cbb-4f2b-9c7d-2e098c5c4387
2025-05-21T13:44:48.041+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T13:44:48.041+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T13:44:48.041+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T13:44:48.041+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 56
2025-05-21T13:44:48.041+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [null]
2025-05-21T13:44:48.041+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [null]
2025-05-21T13:44:48.043+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/auth/login", parameters={}
2025-05-21T13:44:48.045+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.AuthController#authenticateUser(LoginRequest)
2025-05-21T13:44:48.074+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(email=b@b.es, password=12345678)]
2025-05-21T13:44:48.254+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-21T13:44:48.281+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T13:44:48.282+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [JwtResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMS (truncated)...]
2025-05-21T13:44:48.289+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T13:44:53.590+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/carrito/agregar
2025-05-21T13:44:53.591+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T13:44:53.591+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T13:44:53.591+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk
2025-05-21T13:44:53.591+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T13:44:53.591+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T13:44:53.591+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = ca587df9-0815-4cd1-803e-75395d7098b6
2025-05-21T13:44:53.592+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T13:44:53.592+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T13:44:53.592+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T13:44:53.592+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 41
2025-05-21T13:44:53.592+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T13:44:53.592+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T13:44:53.609+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/carrito/agregar
2025-05-21T13:44:53.609+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T13:44:53.609+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T13:44:53.610+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk
2025-05-21T13:44:53.610+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T13:44:53.610+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T13:44:53.610+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = ca587df9-0815-4cd1-803e-75395d7098b6
2025-05-21T13:44:53.610+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T13:44:53.611+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T13:44:53.611+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T13:44:53.611+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 41
2025-05-21T13:44:53.611+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T13:44:53.611+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T13:44:53.617+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/carrito/agregar", parameters={}
2025-05-21T13:44:53.617+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#agregarAlCarrito(UserDetailsImpl, AddToCarritoRequestDTO)
2025-05-21T13:44:53.620+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AddToCarritoRequestDTO(idArticulo=1, cantidad=2)]
2025-05-21T13:44:53.683+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T13:44:53.686+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoResponseDTO(id=4, fechaCreacion=2025-05-18T10:29:54.149009Z, items=[DetalleCarritoResponseDTO (truncated)...]
2025-05-21T13:44:53.689+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T13:44:59.139+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/pedidos/crearPedido
2025-05-21T13:44:59.140+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/pedidos/crearPedido
2025-05-21T13:44:59.140+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T13:44:59.141+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk
2025-05-21T13:44:59.141+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T13:44:59.141+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T13:44:59.141+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 69e64095-69a7-4ba8-b210-bde0416b64e6
2025-05-21T13:44:59.141+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T13:44:59.142+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T13:44:59.142+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T13:44:59.142+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 0
2025-05-21T13:44:59.142+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T13:44:59.142+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T13:44:59.150+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/pedidos/crearPedido
2025-05-21T13:44:59.150+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/pedidos/crearPedido
2025-05-21T13:44:59.150+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T13:44:59.151+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk
2025-05-21T13:44:59.151+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T13:44:59.151+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T13:44:59.151+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 69e64095-69a7-4ba8-b210-bde0416b64e6
2025-05-21T13:44:59.151+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T13:44:59.152+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T13:44:59.152+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T13:44:59.152+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 0
2025-05-21T13:44:59.152+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T13:44:59.152+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T13:44:59.159+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/pedidos/crearPedido", parameters={}
2025-05-21T13:44:59.160+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.PedidoController#crear(UserDetailsImpl, String)
2025-05-21T13:44:59.188+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T13:44:59.193+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PedidoResponseDTO(idPedido=12, IdCliente=4, fechaPedido=2025-05-21T11:44:59.169225500Z, estadoPedido (truncated)...]
2025-05-21T13:44:59.196+02:00 DEBUG 22368 --- [beerstar] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T19:52:22.798+02:00  INFO 23712 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : Starting BeerstarApplication using Java 17.0.8 with PID 23712 (E:\Proyectos_2025\BeerStar_CLIEAN03\target\classes started by rlpmu in E:\Proyectos_2025\BeerStar_CLIEAN03)
2025-05-21T19:52:22.804+02:00  INFO 23712 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : The following 1 profile is active: "prod"
2025-05-21T19:52:24.204+02:00  INFO 23712 --- [beerstar] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-21T19:52:24.304+02:00  INFO 23712 --- [beerstar] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 90 ms. Found 12 JPA repository interfaces.
2025-05-21T19:52:25.259+02:00  INFO 23712 --- [beerstar] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-21T19:52:25.275+02:00  INFO 23712 --- [beerstar] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-21T19:52:25.275+02:00  INFO 23712 --- [beerstar] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-21T19:52:25.363+02:00  INFO 23712 --- [beerstar] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-21T19:52:25.364+02:00  INFO 23712 --- [beerstar] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2512 ms
2025-05-21T19:52:25.935+02:00  INFO 23712 --- [beerstar] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-21T19:52:26.049+02:00  INFO 23712 --- [beerstar] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-21T19:52:26.108+02:00  INFO 23712 --- [beerstar] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-21T19:52:26.421+02:00  INFO 23712 --- [beerstar] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-21T19:52:26.447+02:00  INFO 23712 --- [beerstar] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-21T19:52:26.600+02:00  INFO 23712 --- [beerstar] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@57df09a7
2025-05-21T19:52:26.603+02:00  INFO 23712 --- [beerstar] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-21T19:52:26.643+02:00  WARN 23712 --- [beerstar] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-21T19:52:26.669+02:00  INFO 23712 --- [beerstar] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-21T19:52:28.118+02:00  INFO 23712 --- [beerstar] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-21T19:52:28.831+02:00  INFO 23712 --- [beerstar] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-21T19:52:29.231+02:00 DEBUG 23712 --- [beerstar] [main] c.tfc.beerstar.security.AuthTokenFilter  : Filter 'authTokenFilter' configured for use
2025-05-21T19:52:29.233+02:00 DEBUG 23712 --- [beerstar] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-05-21T19:52:29.233+02:00 DEBUG 23712 --- [beerstar] [main] c.tfc.beerstar.security.AuthTokenFilter  : Filter 'authenticationJwtTokenFilter' configured for use
2025-05-21T19:52:29.374+02:00  INFO 23712 --- [beerstar] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-21T19:52:29.375+02:00  WARN 23712 --- [beerstar] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-21T19:52:29.610+02:00  INFO 23712 --- [beerstar] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-21T19:52:30.281+02:00  WARN 23712 --- [beerstar] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-21T19:52:30.511+02:00 DEBUG 23712 --- [beerstar] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 42 mappings in 'requestMappingHandlerMapping'
2025-05-21T19:52:30.641+02:00 DEBUG 23712 --- [beerstar] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-21T19:52:30.869+02:00  INFO 23712 --- [beerstar] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-05-21T19:52:30.897+02:00  INFO 23712 --- [beerstar] [main] com.tfc.beerstar.config.SecurityConfig   : Configurando seguridad HTTP
2025-05-21T19:52:30.946+02:00  INFO 23712 --- [beerstar] [main] com.tfc.beerstar.config.SecurityConfig   : Configuración de seguridad HTTP completada
2025-05-21T19:52:30.991+02:00 DEBUG 23712 --- [beerstar] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-21T19:52:31.108+02:00 DEBUG 23712 --- [beerstar] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-21T19:52:31.169+02:00 DEBUG 23712 --- [beerstar] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-21T19:52:31.684+02:00  INFO 23712 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-21T19:52:31.684+02:00  INFO 23712 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-21T19:52:31.685+02:00 DEBUG 23712 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-21T19:52:31.685+02:00 DEBUG 23712 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-21T19:52:31.685+02:00 DEBUG 23712 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-21T19:52:31.686+02:00 DEBUG 23712 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5e4168dd
2025-05-21T19:52:31.687+02:00 DEBUG 23712 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@39a4bd89
2025-05-21T19:52:31.687+02:00 DEBUG 23712 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-21T19:52:31.687+02:00  INFO 23712 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-05-21T19:52:31.747+02:00  INFO 23712 --- [beerstar] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-05-21T19:52:31.753+02:00  INFO 23712 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : Started BeerstarApplication in 9.408 seconds (process running for 9.861)
2025-05-21T19:52:46.452+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/auth/login
2025-05-21T19:52:46.459+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/auth/login
2025-05-21T19:52:46.460+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T19:52:46.460+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T19:52:46.460+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T19:52:46.460+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 9b3594d1-957b-4871-87f4-be8cf76556f3
2025-05-21T19:52:46.461+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T19:52:46.461+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T19:52:46.461+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T19:52:46.461+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 56
2025-05-21T19:52:46.461+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [null]
2025-05-21T19:52:46.462+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [null]
2025-05-21T19:52:46.463+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T19:52:46.467+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/auth/login
2025-05-21T19:52:46.468+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/auth/login
2025-05-21T19:52:46.468+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T19:52:46.468+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T19:52:46.468+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T19:52:46.468+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 9b3594d1-957b-4871-87f4-be8cf76556f3
2025-05-21T19:52:46.469+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T19:52:46.469+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T19:52:46.469+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T19:52:46.469+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 56
2025-05-21T19:52:46.469+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [null]
2025-05-21T19:52:46.469+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [null]
2025-05-21T19:52:46.471+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/auth/login", parameters={}
2025-05-21T19:52:46.472+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.AuthController#authenticateUser(LoginRequest)
2025-05-21T19:52:46.501+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(email=b@b.es, password=12345678)]
2025-05-21T19:52:46.677+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-21T19:52:46.706+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T19:52:46.707+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [JwtResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMS (truncated)...]
2025-05-21T19:52:46.714+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T19:53:01.316+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/carrito/agregar
2025-05-21T19:53:01.317+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T19:53:01.318+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T19:53:01.318+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODQ5OTY2LCJleHAiOjE3NDc5MzYzNjZ9.3JfBb7EYboCIPyx-Y4zifkEvEwjOagfIFUNz_CW3zaM
2025-05-21T19:53:01.318+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T19:53:01.318+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T19:53:01.318+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 4d8cca8e-8490-4e6c-a090-80a8eb043319
2025-05-21T19:53:01.318+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T19:53:01.319+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T19:53:01.319+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T19:53:01.319+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 41
2025-05-21T19:53:01.319+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODQ5OTY2LCJleHAiOjE3NDc5MzYzNjZ9.3JfBb7EYboCIPyx-Y4zifkEvEwjOagfIFUNz_CW3zaM]
2025-05-21T19:53:01.319+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODQ5OTY2LCJleHAiOjE3NDc5MzYzNjZ9.3JfBb7EYboCIPyx-Y4zifkEvEwjOagfIFUNz_CW3zaM]
2025-05-21T19:53:01.335+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/carrito/agregar
2025-05-21T19:53:01.336+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T19:53:01.336+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T19:53:01.336+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODQ5OTY2LCJleHAiOjE3NDc5MzYzNjZ9.3JfBb7EYboCIPyx-Y4zifkEvEwjOagfIFUNz_CW3zaM
2025-05-21T19:53:01.336+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T19:53:01.336+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T19:53:01.337+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 4d8cca8e-8490-4e6c-a090-80a8eb043319
2025-05-21T19:53:01.337+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T19:53:01.337+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T19:53:01.337+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T19:53:01.337+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 41
2025-05-21T19:53:01.337+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODQ5OTY2LCJleHAiOjE3NDc5MzYzNjZ9.3JfBb7EYboCIPyx-Y4zifkEvEwjOagfIFUNz_CW3zaM]
2025-05-21T19:53:01.337+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODQ5OTY2LCJleHAiOjE3NDc5MzYzNjZ9.3JfBb7EYboCIPyx-Y4zifkEvEwjOagfIFUNz_CW3zaM]
2025-05-21T19:53:01.343+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/carrito/agregar", parameters={}
2025-05-21T19:53:01.343+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#agregarAlCarrito(UserDetailsImpl, AddToCarritoRequestDTO)
2025-05-21T19:53:01.346+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AddToCarritoRequestDTO(idArticulo=1, cantidad=2)]
2025-05-21T19:53:01.406+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T19:53:01.410+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoResponseDTO(id=4, fechaCreacion=2025-05-18T10:29:54.149009Z, items=[DetalleCarritoResponseDTO (truncated)...]
2025-05-21T19:53:01.413+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T19:53:09.876+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/pedidos/crearPedido
2025-05-21T19:53:09.877+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/pedidos/crearPedido
2025-05-21T19:53:09.877+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T19:53:09.878+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk
2025-05-21T19:53:09.878+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T19:53:09.878+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T19:53:09.878+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = c676d146-7668-4cb4-8628-03e93dbdbe5e
2025-05-21T19:53:09.878+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T19:53:09.878+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T19:53:09.879+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T19:53:09.879+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 0
2025-05-21T19:53:09.879+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T19:53:09.879+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T19:53:09.886+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/pedidos/crearPedido
2025-05-21T19:53:09.886+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/pedidos/crearPedido
2025-05-21T19:53:09.886+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T19:53:09.886+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk
2025-05-21T19:53:09.887+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T19:53:09.887+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T19:53:09.887+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = c676d146-7668-4cb4-8628-03e93dbdbe5e
2025-05-21T19:53:09.888+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T19:53:09.888+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T19:53:09.888+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T19:53:09.888+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 0
2025-05-21T19:53:09.888+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T19:53:09.888+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T19:53:09.895+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/pedidos/crearPedido", parameters={}
2025-05-21T19:53:09.896+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.PedidoController#crear(UserDetailsImpl, String)
2025-05-21T19:53:09.923+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T19:53:09.928+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PedidoResponseDTO(idPedido=13, IdCliente=4, fechaPedido=2025-05-21T17:53:09.906292100Z, estadoPedido (truncated)...]
2025-05-21T19:53:09.930+02:00 DEBUG 23712 --- [beerstar] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T19:53:36.182+02:00  INFO 25764 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : Starting BeerstarApplication using Java 17.0.8 with PID 25764 (E:\Proyectos_2025\BeerStar_CLIEAN03\target\classes started by rlpmu in E:\Proyectos_2025\BeerStar_CLIEAN03)
2025-05-21T19:53:36.185+02:00  INFO 25764 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : The following 1 profile is active: "prod"
2025-05-21T19:53:37.126+02:00  INFO 25764 --- [beerstar] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-21T19:53:37.193+02:00  INFO 25764 --- [beerstar] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 59 ms. Found 12 JPA repository interfaces.
2025-05-21T19:53:37.805+02:00  INFO 25764 --- [beerstar] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-21T19:53:37.818+02:00  INFO 25764 --- [beerstar] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-21T19:53:37.819+02:00  INFO 25764 --- [beerstar] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-21T19:53:37.892+02:00  INFO 25764 --- [beerstar] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-21T19:53:37.893+02:00  INFO 25764 --- [beerstar] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1670 ms
2025-05-21T19:53:38.177+02:00  INFO 25764 --- [beerstar] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-21T19:53:38.236+02:00  INFO 25764 --- [beerstar] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-21T19:53:38.269+02:00  INFO 25764 --- [beerstar] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-21T19:53:38.501+02:00  INFO 25764 --- [beerstar] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-21T19:53:38.519+02:00  INFO 25764 --- [beerstar] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-21T19:53:38.637+02:00  INFO 25764 --- [beerstar] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@57df09a7
2025-05-21T19:53:38.639+02:00  INFO 25764 --- [beerstar] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-21T19:53:38.663+02:00  WARN 25764 --- [beerstar] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-21T19:53:38.678+02:00  INFO 25764 --- [beerstar] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-21T19:53:39.536+02:00  INFO 25764 --- [beerstar] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-21T19:53:40.181+02:00  INFO 25764 --- [beerstar] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-21T19:53:40.609+02:00 DEBUG 25764 --- [beerstar] [main] c.tfc.beerstar.security.AuthTokenFilter  : Filter 'authTokenFilter' configured for use
2025-05-21T19:53:40.611+02:00 DEBUG 25764 --- [beerstar] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-05-21T19:53:40.612+02:00 DEBUG 25764 --- [beerstar] [main] c.tfc.beerstar.security.AuthTokenFilter  : Filter 'authenticationJwtTokenFilter' configured for use
2025-05-21T19:53:40.764+02:00  INFO 25764 --- [beerstar] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-21T19:53:40.765+02:00  WARN 25764 --- [beerstar] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-21T19:53:41.009+02:00  INFO 25764 --- [beerstar] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-21T19:53:41.639+02:00  WARN 25764 --- [beerstar] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-21T19:53:41.872+02:00 DEBUG 25764 --- [beerstar] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 42 mappings in 'requestMappingHandlerMapping'
2025-05-21T19:53:42.017+02:00 DEBUG 25764 --- [beerstar] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-21T19:53:42.185+02:00  INFO 25764 --- [beerstar] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-05-21T19:53:42.202+02:00  INFO 25764 --- [beerstar] [main] com.tfc.beerstar.config.SecurityConfig   : Configurando seguridad HTTP
2025-05-21T19:53:42.236+02:00  INFO 25764 --- [beerstar] [main] com.tfc.beerstar.config.SecurityConfig   : Configuración de seguridad HTTP completada
2025-05-21T19:53:42.264+02:00 DEBUG 25764 --- [beerstar] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-21T19:53:42.384+02:00 DEBUG 25764 --- [beerstar] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-21T19:53:42.440+02:00 DEBUG 25764 --- [beerstar] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-21T19:53:43.041+02:00  INFO 25764 --- [beerstar] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-05-21T19:53:43.056+02:00  INFO 25764 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : Started BeerstarApplication in 7.275 seconds (process running for 7.716)
2025-05-21T19:53:45.042+02:00  INFO 25764 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-21T19:53:45.042+02:00  INFO 25764 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-21T19:53:45.042+02:00 DEBUG 25764 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-21T19:53:45.043+02:00 DEBUG 25764 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-21T19:53:45.043+02:00 DEBUG 25764 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-21T19:53:45.044+02:00 DEBUG 25764 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1ad27a73
2025-05-21T19:53:45.044+02:00 DEBUG 25764 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@64e5d7e4
2025-05-21T19:53:45.045+02:00 DEBUG 25764 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-21T19:53:45.045+02:00  INFO 25764 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-05-21T19:53:49.991+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /beerstar/articulos
2025-05-21T19:53:49.997+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/articulos
2025-05-21T19:53:49.998+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k
2025-05-21T19:53:49.999+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T19:53:49.999+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T19:53:49.999+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = ce7322ca-35c3-43c4-a257-d182447752e0
2025-05-21T19:53:49.999+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T19:53:50.000+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T19:53:50.000+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T19:53:50.000+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T19:53:50.000+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T19:53:50.021+02:00 ERROR 25764 --- [beerstar] [http-nio-8080-exec-2] com.tfc.beerstar.security.JwtUtils       : Token JWT expirado: JWT expired at 2025-05-20T11:11:24Z. Current time: 2025-05-21T17:53:50Z, a difference of 110546020 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-05-21T19:53:50.023+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T19:53:50.026+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /beerstar/articulos
2025-05-21T19:53:50.027+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/articulos
2025-05-21T19:53:50.027+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k
2025-05-21T19:53:50.027+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T19:53:50.027+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T19:53:50.027+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = ce7322ca-35c3-43c4-a257-d182447752e0
2025-05-21T19:53:50.028+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T19:53:50.028+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T19:53:50.028+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T19:53:50.028+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T19:53:50.028+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T19:53:50.030+02:00 ERROR 25764 --- [beerstar] [http-nio-8080-exec-2] com.tfc.beerstar.security.JwtUtils       : Token JWT expirado: JWT expired at 2025-05-20T11:11:24Z. Current time: 2025-05-21T17:53:50Z, a difference of 110546030 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-05-21T19:53:50.032+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/beerstar/articulos", parameters={}
2025-05-21T19:53:50.034+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.ArticuloController#obtenerTodosLosArticulos()
2025-05-21T19:53:50.041+02:00  INFO 25764 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.service.ArticuloService   : Obteniendo todos los artículos
2025-05-21T19:53:50.083+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T19:53:50.088+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ArticulosResponseDTO(idArticulo=1, nombre=Orval02, descripcion=Este es un tipo de cerveza de fermen (truncated)...]
2025-05-21T19:53:50.098+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T19:53:52.314+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /beerstar/articulos
2025-05-21T19:53:52.315+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/articulos
2025-05-21T19:53:52.315+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k
2025-05-21T19:53:52.315+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T19:53:52.315+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T19:53:52.315+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = c01c0428-b4b6-4c1c-a6aa-6914091fba4f
2025-05-21T19:53:52.316+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T19:53:52.316+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T19:53:52.316+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T19:53:52.316+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T19:53:52.316+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T19:53:52.318+02:00 ERROR 25764 --- [beerstar] [http-nio-8080-exec-3] com.tfc.beerstar.security.JwtUtils       : Token JWT expirado: JWT expired at 2025-05-20T11:11:24Z. Current time: 2025-05-21T17:53:52Z, a difference of 110548318 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-05-21T19:53:52.318+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T19:53:52.319+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /beerstar/articulos
2025-05-21T19:53:52.319+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/articulos
2025-05-21T19:53:52.319+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k
2025-05-21T19:53:52.319+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T19:53:52.320+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T19:53:52.320+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = c01c0428-b4b6-4c1c-a6aa-6914091fba4f
2025-05-21T19:53:52.320+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T19:53:52.320+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T19:53:52.320+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T19:53:52.320+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T19:53:52.321+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T19:53:52.322+02:00 ERROR 25764 --- [beerstar] [http-nio-8080-exec-3] com.tfc.beerstar.security.JwtUtils       : Token JWT expirado: JWT expired at 2025-05-20T11:11:24Z. Current time: 2025-05-21T17:53:52Z, a difference of 110548322 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-05-21T19:53:52.322+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/beerstar/articulos", parameters={}
2025-05-21T19:53:52.323+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.ArticuloController#obtenerTodosLosArticulos()
2025-05-21T19:53:52.323+02:00  INFO 25764 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.service.ArticuloService   : Obteniendo todos los artículos
2025-05-21T19:53:52.327+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T19:53:52.327+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ArticulosResponseDTO(idArticulo=1, nombre=Orval02, descripcion=Este es un tipo de cerveza de fermen (truncated)...]
2025-05-21T19:53:52.328+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T19:53:58.441+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/carrito/agregar
2025-05-21T19:53:58.441+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T19:53:58.442+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T19:53:58.442+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODQ5OTY2LCJleHAiOjE3NDc5MzYzNjZ9.3JfBb7EYboCIPyx-Y4zifkEvEwjOagfIFUNz_CW3zaM
2025-05-21T19:53:58.442+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T19:53:58.442+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T19:53:58.442+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = b3fbfbae-308a-49e0-b53e-26a2deaca336
2025-05-21T19:53:58.442+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T19:53:58.443+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T19:53:58.443+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T19:53:58.443+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 41
2025-05-21T19:53:58.443+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODQ5OTY2LCJleHAiOjE3NDc5MzYzNjZ9.3JfBb7EYboCIPyx-Y4zifkEvEwjOagfIFUNz_CW3zaM]
2025-05-21T19:53:58.443+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODQ5OTY2LCJleHAiOjE3NDc5MzYzNjZ9.3JfBb7EYboCIPyx-Y4zifkEvEwjOagfIFUNz_CW3zaM]
2025-05-21T19:53:58.464+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/carrito/agregar
2025-05-21T19:53:58.464+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T19:53:58.464+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T19:53:58.464+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODQ5OTY2LCJleHAiOjE3NDc5MzYzNjZ9.3JfBb7EYboCIPyx-Y4zifkEvEwjOagfIFUNz_CW3zaM
2025-05-21T19:53:58.464+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T19:53:58.465+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T19:53:58.465+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = b3fbfbae-308a-49e0-b53e-26a2deaca336
2025-05-21T19:53:58.465+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T19:53:58.465+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T19:53:58.465+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T19:53:58.466+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 41
2025-05-21T19:53:58.466+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODQ5OTY2LCJleHAiOjE3NDc5MzYzNjZ9.3JfBb7EYboCIPyx-Y4zifkEvEwjOagfIFUNz_CW3zaM]
2025-05-21T19:53:58.466+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODQ5OTY2LCJleHAiOjE3NDc5MzYzNjZ9.3JfBb7EYboCIPyx-Y4zifkEvEwjOagfIFUNz_CW3zaM]
2025-05-21T19:53:58.472+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/carrito/agregar", parameters={}
2025-05-21T19:53:58.472+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#agregarAlCarrito(UserDetailsImpl, AddToCarritoRequestDTO)
2025-05-21T19:53:58.488+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AddToCarritoRequestDTO(idArticulo=1, cantidad=2)]
2025-05-21T19:53:58.557+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T19:53:58.560+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoResponseDTO(id=4, fechaCreacion=2025-05-18T10:29:54.149009Z, items=[DetalleCarritoResponseDTO (truncated)...]
2025-05-21T19:53:58.562+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T19:54:07.720+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/pedidos/crearPedido
2025-05-21T19:54:07.721+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/pedidos/crearPedido
2025-05-21T19:54:07.721+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T19:54:07.721+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk
2025-05-21T19:54:07.721+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T19:54:07.721+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T19:54:07.722+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 960955e8-3cea-4dad-9f6d-7cfbcf22b3ba
2025-05-21T19:54:07.722+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T19:54:07.722+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T19:54:07.722+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T19:54:07.722+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 0
2025-05-21T19:54:07.722+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T19:54:07.723+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T19:54:07.729+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/pedidos/crearPedido
2025-05-21T19:54:07.729+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/pedidos/crearPedido
2025-05-21T19:54:07.729+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T19:54:07.730+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk
2025-05-21T19:54:07.730+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T19:54:07.730+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T19:54:07.730+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 960955e8-3cea-4dad-9f6d-7cfbcf22b3ba
2025-05-21T19:54:07.730+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T19:54:07.730+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T19:54:07.731+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T19:54:07.731+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 0
2025-05-21T19:54:07.731+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T19:54:07.731+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODIyMDMyLCJleHAiOjE3NDc5MDg0MzJ9.XnSev4iRoH5yr6HAiwX7Y6HnEzRBlnqFVX-giDM99Jk]
2025-05-21T19:54:07.737+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/pedidos/crearPedido", parameters={}
2025-05-21T19:54:07.737+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.PedidoController#crear(UserDetailsImpl, String)
2025-05-21T19:54:07.768+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T19:54:07.769+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PedidoResponseDTO(idPedido=14, IdCliente=4, fechaPedido=2025-05-21T17:54:07.749869300Z, estadoPedido (truncated)...]
2025-05-21T19:54:07.771+02:00 DEBUG 25764 --- [beerstar] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T19:58:26.426+02:00  INFO 3680 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : Starting BeerstarApplication using Java 17.0.8 with PID 3680 (E:\Proyectos_2025\BeerStar_CLIEAN03\target\classes started by rlpmu in E:\Proyectos_2025\BeerStar_CLIEAN03)
2025-05-21T19:58:26.428+02:00  INFO 3680 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : The following 1 profile is active: "prod"
2025-05-21T19:58:27.292+02:00  INFO 3680 --- [beerstar] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-21T19:58:27.362+02:00  INFO 3680 --- [beerstar] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 60 ms. Found 12 JPA repository interfaces.
2025-05-21T19:58:28.143+02:00  INFO 3680 --- [beerstar] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-21T19:58:28.160+02:00  INFO 3680 --- [beerstar] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-21T19:58:28.161+02:00  INFO 3680 --- [beerstar] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-21T19:58:28.238+02:00  INFO 3680 --- [beerstar] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-21T19:58:28.239+02:00  INFO 3680 --- [beerstar] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1770 ms
2025-05-21T19:58:28.617+02:00  INFO 3680 --- [beerstar] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-21T19:58:28.673+02:00  INFO 3680 --- [beerstar] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-21T19:58:28.753+02:00  INFO 3680 --- [beerstar] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-21T19:58:29.013+02:00  INFO 3680 --- [beerstar] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-21T19:58:29.032+02:00  INFO 3680 --- [beerstar] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-21T19:58:29.146+02:00  INFO 3680 --- [beerstar] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@81dfdee
2025-05-21T19:58:29.148+02:00  INFO 3680 --- [beerstar] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-21T19:58:29.172+02:00  WARN 3680 --- [beerstar] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-21T19:58:29.185+02:00  INFO 3680 --- [beerstar] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-21T19:58:30.106+02:00  INFO 3680 --- [beerstar] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-21T19:58:30.780+02:00  INFO 3680 --- [beerstar] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-21T19:58:31.217+02:00 DEBUG 3680 --- [beerstar] [main] c.tfc.beerstar.security.AuthTokenFilter  : Filter 'authTokenFilter' configured for use
2025-05-21T19:58:31.218+02:00 DEBUG 3680 --- [beerstar] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-05-21T19:58:31.219+02:00 DEBUG 3680 --- [beerstar] [main] c.tfc.beerstar.security.AuthTokenFilter  : Filter 'authenticationJwtTokenFilter' configured for use
2025-05-21T19:58:31.377+02:00  INFO 3680 --- [beerstar] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-21T19:58:31.379+02:00  WARN 3680 --- [beerstar] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-21T19:58:31.686+02:00  INFO 3680 --- [beerstar] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-21T19:58:32.345+02:00  WARN 3680 --- [beerstar] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-21T19:58:32.616+02:00 DEBUG 3680 --- [beerstar] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 42 mappings in 'requestMappingHandlerMapping'
2025-05-21T19:58:32.758+02:00 DEBUG 3680 --- [beerstar] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-21T19:58:32.995+02:00  INFO 3680 --- [beerstar] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-05-21T19:58:33.021+02:00  INFO 3680 --- [beerstar] [main] com.tfc.beerstar.config.SecurityConfig   : Configurando seguridad HTTP
2025-05-21T19:58:33.058+02:00  INFO 3680 --- [beerstar] [main] com.tfc.beerstar.config.SecurityConfig   : Configuración de seguridad HTTP completada
2025-05-21T19:58:33.096+02:00 DEBUG 3680 --- [beerstar] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-21T19:58:33.218+02:00 DEBUG 3680 --- [beerstar] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-21T19:58:33.298+02:00 DEBUG 3680 --- [beerstar] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-21T19:58:33.912+02:00  INFO 3680 --- [beerstar] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-05-21T19:58:33.934+02:00  INFO 3680 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : Started BeerstarApplication in 7.851 seconds (process running for 8.22)
2025-05-21T19:58:35.467+02:00  INFO 3680 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-21T19:58:35.467+02:00  INFO 3680 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-21T19:58:35.468+02:00 DEBUG 3680 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-21T19:58:35.468+02:00 DEBUG 3680 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-21T19:58:35.468+02:00 DEBUG 3680 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-21T19:58:35.469+02:00 DEBUG 3680 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@59aba6f2
2025-05-21T19:58:35.469+02:00 DEBUG 3680 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@6392107e
2025-05-21T19:58:35.470+02:00 DEBUG 3680 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-21T19:58:35.470+02:00  INFO 3680 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-05-21T20:01:17.389+02:00  INFO 25916 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : Starting BeerstarApplication using Java 17.0.8 with PID 25916 (E:\Proyectos_2025\BeerStar_CLIEAN03\target\classes started by rlpmu in E:\Proyectos_2025\BeerStar_CLIEAN03)
2025-05-21T20:01:17.391+02:00  INFO 25916 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : The following 1 profile is active: "prod"
2025-05-21T20:01:18.521+02:00  INFO 25916 --- [beerstar] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-21T20:01:18.601+02:00  INFO 25916 --- [beerstar] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 67 ms. Found 12 JPA repository interfaces.
2025-05-21T20:01:19.476+02:00  INFO 25916 --- [beerstar] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-21T20:01:19.492+02:00  INFO 25916 --- [beerstar] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-21T20:01:19.492+02:00  INFO 25916 --- [beerstar] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-21T20:01:19.580+02:00  INFO 25916 --- [beerstar] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-21T20:01:19.582+02:00  INFO 25916 --- [beerstar] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2151 ms
2025-05-21T20:01:20.083+02:00  INFO 25916 --- [beerstar] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-21T20:01:20.186+02:00  INFO 25916 --- [beerstar] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-21T20:01:20.241+02:00  INFO 25916 --- [beerstar] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-21T20:01:20.506+02:00  INFO 25916 --- [beerstar] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-21T20:01:20.525+02:00  INFO 25916 --- [beerstar] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-21T20:01:20.745+02:00  INFO 25916 --- [beerstar] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@81dfdee
2025-05-21T20:01:20.747+02:00  INFO 25916 --- [beerstar] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-21T20:01:20.772+02:00  WARN 25916 --- [beerstar] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-21T20:01:20.788+02:00  INFO 25916 --- [beerstar] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-21T20:01:21.624+02:00  INFO 25916 --- [beerstar] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-21T20:01:22.289+02:00  INFO 25916 --- [beerstar] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-21T20:01:22.711+02:00 DEBUG 25916 --- [beerstar] [main] c.tfc.beerstar.security.AuthTokenFilter  : Filter 'authTokenFilter' configured for use
2025-05-21T20:01:22.713+02:00 DEBUG 25916 --- [beerstar] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-05-21T20:01:22.714+02:00 DEBUG 25916 --- [beerstar] [main] c.tfc.beerstar.security.AuthTokenFilter  : Filter 'authenticationJwtTokenFilter' configured for use
2025-05-21T20:01:22.883+02:00  INFO 25916 --- [beerstar] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-21T20:01:22.884+02:00  WARN 25916 --- [beerstar] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-21T20:01:23.160+02:00  INFO 25916 --- [beerstar] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-21T20:01:23.784+02:00  WARN 25916 --- [beerstar] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-21T20:01:24.037+02:00 DEBUG 25916 --- [beerstar] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 42 mappings in 'requestMappingHandlerMapping'
2025-05-21T20:01:24.193+02:00 DEBUG 25916 --- [beerstar] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-21T20:01:24.413+02:00  INFO 25916 --- [beerstar] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-05-21T20:01:24.438+02:00  INFO 25916 --- [beerstar] [main] com.tfc.beerstar.config.SecurityConfig   : Configurando seguridad HTTP
2025-05-21T20:01:24.478+02:00  INFO 25916 --- [beerstar] [main] com.tfc.beerstar.config.SecurityConfig   : Configuración de seguridad HTTP completada
2025-05-21T20:01:24.512+02:00 DEBUG 25916 --- [beerstar] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-21T20:01:24.625+02:00 DEBUG 25916 --- [beerstar] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-21T20:01:24.683+02:00 DEBUG 25916 --- [beerstar] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-21T20:01:25.391+02:00  INFO 25916 --- [beerstar] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-05-21T20:01:25.409+02:00  INFO 25916 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : Started BeerstarApplication in 8.391 seconds (process running for 8.784)
2025-05-21T20:01:26.409+02:00  INFO 25916 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-21T20:01:26.410+02:00  INFO 25916 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-21T20:01:26.410+02:00 DEBUG 25916 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-21T20:01:26.410+02:00 DEBUG 25916 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-21T20:01:26.410+02:00 DEBUG 25916 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-21T20:01:26.411+02:00 DEBUG 25916 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5083642c
2025-05-21T20:01:26.412+02:00 DEBUG 25916 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@6c82ecbe
2025-05-21T20:01:26.413+02:00 DEBUG 25916 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-21T20:01:26.413+02:00  INFO 25916 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-05-21T20:01:30.411+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /beerstar/pedidos/listarPedidos
2025-05-21T20:01:30.418+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/pedidos/listarPedidos
2025-05-21T20:01:30.419+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T20:01:30.419+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjMxOTAyLCJleHAiOjE3NDc3MTgzMDJ9.o6bmb-4diMs1lLmM-amxPzSWabRKq1ct5sRai3MOS9E
2025-05-21T20:01:30.420+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T20:01:30.420+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T20:01:30.420+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = dac6c54e-479d-49bf-b4a1-1f8ee0608f3a
2025-05-21T20:01:30.420+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T20:01:30.420+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T20:01:30.420+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T20:01:30.421+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjMxOTAyLCJleHAiOjE3NDc3MTgzMDJ9.o6bmb-4diMs1lLmM-amxPzSWabRKq1ct5sRai3MOS9E]
2025-05-21T20:01:30.421+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjMxOTAyLCJleHAiOjE3NDc3MTgzMDJ9.o6bmb-4diMs1lLmM-amxPzSWabRKq1ct5sRai3MOS9E]
2025-05-21T20:01:30.443+02:00 ERROR 25916 --- [beerstar] [http-nio-8080-exec-1] com.tfc.beerstar.security.JwtUtils       : Token JWT expirado: JWT expired at 2025-05-20T05:18:22Z. Current time: 2025-05-21T18:01:30Z, a difference of 132188442 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-05-21T20:01:30.445+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T20:01:30.451+02:00 ERROR 25916 --- [beerstar] [http-nio-8080-exec-1] c.t.beerstar.security.AuthEntryPointJwt  : Error no autorizado: Full authentication is required to access this resource
2025-05-21T20:01:30.456+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-05-21T20:01:30.457+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T20:01:30.458+02:00 ERROR 25916 --- [beerstar] [http-nio-8080-exec-1] c.t.beerstar.security.AuthEntryPointJwt  : Error no autorizado: Full authentication is required to access this resource
2025-05-21T20:01:38.760+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /beerstar/pedidos/listarPedidos
2025-05-21T20:01:38.761+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/pedidos/listarPedidos
2025-05-21T20:01:38.761+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T20:01:38.762+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODQ5OTY2LCJleHAiOjE3NDc5MzYzNjZ9.3JfBb7EYboCIPyx-Y4zifkEvEwjOagfIFUNz_CW3zaM
2025-05-21T20:01:38.762+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T20:01:38.762+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T20:01:38.762+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 04915041-6dc9-4c66-8231-e6bb8f43a71a
2025-05-21T20:01:38.762+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T20:01:38.762+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T20:01:38.763+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T20:01:38.763+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODQ5OTY2LCJleHAiOjE3NDc5MzYzNjZ9.3JfBb7EYboCIPyx-Y4zifkEvEwjOagfIFUNz_CW3zaM]
2025-05-21T20:01:38.763+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODQ5OTY2LCJleHAiOjE3NDc5MzYzNjZ9.3JfBb7EYboCIPyx-Y4zifkEvEwjOagfIFUNz_CW3zaM]
2025-05-21T20:01:38.801+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /beerstar/pedidos/listarPedidos
2025-05-21T20:01:38.802+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/pedidos/listarPedidos
2025-05-21T20:01:38.802+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T20:01:38.802+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODQ5OTY2LCJleHAiOjE3NDc5MzYzNjZ9.3JfBb7EYboCIPyx-Y4zifkEvEwjOagfIFUNz_CW3zaM
2025-05-21T20:01:38.802+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T20:01:38.803+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T20:01:38.803+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 04915041-6dc9-4c66-8231-e6bb8f43a71a
2025-05-21T20:01:38.803+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T20:01:38.803+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T20:01:38.803+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T20:01:38.804+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODQ5OTY2LCJleHAiOjE3NDc5MzYzNjZ9.3JfBb7EYboCIPyx-Y4zifkEvEwjOagfIFUNz_CW3zaM]
2025-05-21T20:01:38.804+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODQ5OTY2LCJleHAiOjE3NDc5MzYzNjZ9.3JfBb7EYboCIPyx-Y4zifkEvEwjOagfIFUNz_CW3zaM]
2025-05-21T20:01:38.813+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/beerstar/pedidos/listarPedidos", parameters={}
2025-05-21T20:01:38.814+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.PedidoController#listar(UserDetailsImpl)
2025-05-21T20:01:38.860+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T20:01:38.866+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[PedidoResponseDTO(idPedido=5, IdCliente=4, nombreCliente=null, emailCliente=null, direccionCliente= (truncated)...]
2025-05-21T20:01:38.878+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T20:02:23.948+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /beerstar/usuarios/clientes
2025-05-21T20:02:23.949+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/usuarios/clientes
2025-05-21T20:02:23.949+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T20:02:23.949+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T20:02:23.950+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T20:02:23.950+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 9258f9fa-0221-45a6-adcb-08d59c8e5533
2025-05-21T20:02:23.950+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T20:02:23.950+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T20:02:23.950+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T20:02:23.950+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 53
2025-05-21T20:02:23.950+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [null]
2025-05-21T20:02:23.951+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [null]
2025-05-21T20:02:23.951+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T20:02:23.951+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /beerstar/usuarios/clientes
2025-05-21T20:02:23.951+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/usuarios/clientes
2025-05-21T20:02:23.952+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T20:02:23.952+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T20:02:23.952+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T20:02:23.952+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 9258f9fa-0221-45a6-adcb-08d59c8e5533
2025-05-21T20:02:23.952+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T20:02:23.952+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T20:02:23.953+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T20:02:23.953+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 53
2025-05-21T20:02:23.953+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [null]
2025-05-21T20:02:23.953+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [null]
2025-05-21T20:02:23.953+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/beerstar/usuarios/clientes", parameters={}
2025-05-21T20:02:23.954+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.ClienteController#listarClientes()
2025-05-21T20:02:23.969+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T20:02:23.970+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ClienteResponseDTO(idCliente=4, usuario=UsuarioResponseDTO(idUsuario=5, email=b@b.es, rol=USER, tip (truncated)...]
2025-05-21T20:02:23.972+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T20:02:38.895+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/auth/login
2025-05-21T20:02:38.896+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/auth/login
2025-05-21T20:02:38.896+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T20:02:38.897+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T20:02:38.897+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T20:02:38.897+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 173c9b00-11df-4b1f-98c9-ce82dba8a4ce
2025-05-21T20:02:38.897+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T20:02:38.897+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T20:02:38.897+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T20:02:38.898+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 56
2025-05-21T20:02:38.898+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [null]
2025-05-21T20:02:38.898+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [null]
2025-05-21T20:02:38.898+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T20:02:38.899+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/auth/login
2025-05-21T20:02:38.899+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/auth/login
2025-05-21T20:02:38.899+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T20:02:38.899+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T20:02:38.899+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T20:02:38.899+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 173c9b00-11df-4b1f-98c9-ce82dba8a4ce
2025-05-21T20:02:38.900+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T20:02:38.900+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T20:02:38.900+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T20:02:38.900+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 56
2025-05-21T20:02:38.900+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [null]
2025-05-21T20:02:38.900+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [null]
2025-05-21T20:02:38.900+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/auth/login", parameters={}
2025-05-21T20:02:38.901+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.AuthController#authenticateUser(LoginRequest)
2025-05-21T20:02:38.916+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(email=a@b.es, password=12345678)]
2025-05-21T20:02:39.041+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-5] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-21T20:02:39.048+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T20:02:39.049+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [JwtResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMS (truncated)...]
2025-05-21T20:02:39.050+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T20:02:54.107+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/carrito/agregar
2025-05-21T20:02:54.107+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T20:02:54.108+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T20:02:54.108+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8
2025-05-21T20:02:54.108+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T20:02:54.108+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T20:02:54.108+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 8d2596e5-f1d4-4e74-987c-0628e2d342d9
2025-05-21T20:02:54.109+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T20:02:54.109+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T20:02:54.109+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T20:02:54.109+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 41
2025-05-21T20:02:54.109+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T20:02:54.109+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T20:02:54.116+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/carrito/agregar
2025-05-21T20:02:54.117+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T20:02:54.117+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T20:02:54.117+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8
2025-05-21T20:02:54.117+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T20:02:54.117+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T20:02:54.117+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 8d2596e5-f1d4-4e74-987c-0628e2d342d9
2025-05-21T20:02:54.117+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T20:02:54.118+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T20:02:54.118+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T20:02:54.118+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 41
2025-05-21T20:02:54.118+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T20:02:54.118+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T20:02:54.123+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/carrito/agregar", parameters={}
2025-05-21T20:02:54.124+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#agregarAlCarrito(UserDetailsImpl, AddToCarritoRequestDTO)
2025-05-21T20:02:54.126+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AddToCarritoRequestDTO(idArticulo=1, cantidad=2)]
2025-05-21T20:02:54.177+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T20:02:54.180+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoResponseDTO(id=8, fechaCreacion=2025-05-21T18:02:54.138491800Z, items=[DetalleCarritoResponse (truncated)...]
2025-05-21T20:02:54.182+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T20:03:09.808+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/pedidos/crearPedido
2025-05-21T20:03:09.809+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/pedidos/crearPedido
2025-05-21T20:03:09.809+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T20:03:09.809+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8
2025-05-21T20:03:09.809+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T20:03:09.810+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T20:03:09.810+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 37d07efc-4aee-4827-bdaa-8c959e6e9b2a
2025-05-21T20:03:09.810+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T20:03:09.810+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T20:03:09.810+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T20:03:09.810+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 0
2025-05-21T20:03:09.810+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T20:03:09.811+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T20:03:09.818+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/pedidos/crearPedido
2025-05-21T20:03:09.819+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/pedidos/crearPedido
2025-05-21T20:03:09.819+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T20:03:09.819+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8
2025-05-21T20:03:09.819+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T20:03:09.819+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T20:03:09.819+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 37d07efc-4aee-4827-bdaa-8c959e6e9b2a
2025-05-21T20:03:09.819+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T20:03:09.819+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T20:03:09.820+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T20:03:09.820+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 0
2025-05-21T20:03:09.820+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T20:03:09.820+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T20:03:09.825+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/pedidos/crearPedido", parameters={}
2025-05-21T20:03:09.825+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.PedidoController#crear(UserDetailsImpl, String)
2025-05-21T20:03:09.851+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T20:03:09.852+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PedidoResponseDTO(idPedido=15, IdCliente=5, nombreCliente=rafa, emailCliente=null, direccionCliente= (truncated)...]
2025-05-21T20:03:09.853+02:00 DEBUG 25916 --- [beerstar] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T20:04:23.730+02:00  INFO 17428 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : Starting BeerstarApplication using Java 17.0.8 with PID 17428 (E:\Proyectos_2025\BeerStar_CLIEAN03\target\classes started by rlpmu in E:\Proyectos_2025\BeerStar_CLIEAN03)
2025-05-21T20:04:23.732+02:00  INFO 17428 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : The following 1 profile is active: "prod"
2025-05-21T20:04:25.520+02:00  INFO 17428 --- [beerstar] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-21T20:04:25.661+02:00  INFO 17428 --- [beerstar] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 133 ms. Found 12 JPA repository interfaces.
2025-05-21T20:04:27.085+02:00  INFO 17428 --- [beerstar] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-21T20:04:27.196+02:00  INFO 17428 --- [beerstar] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-21T20:04:27.197+02:00  INFO 17428 --- [beerstar] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-21T20:04:27.323+02:00  INFO 17428 --- [beerstar] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-21T20:04:27.323+02:00  INFO 17428 --- [beerstar] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3479 ms
2025-05-21T20:04:28.147+02:00  INFO 17428 --- [beerstar] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-21T20:04:28.300+02:00  INFO 17428 --- [beerstar] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-21T20:04:28.513+02:00  INFO 17428 --- [beerstar] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-21T20:04:28.957+02:00  INFO 17428 --- [beerstar] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-21T20:04:28.977+02:00  INFO 17428 --- [beerstar] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-21T20:04:29.204+02:00  INFO 17428 --- [beerstar] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@652a1a17
2025-05-21T20:04:29.206+02:00  INFO 17428 --- [beerstar] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-21T20:04:29.274+02:00  WARN 17428 --- [beerstar] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-21T20:04:29.324+02:00  INFO 17428 --- [beerstar] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-21T20:04:31.216+02:00  INFO 17428 --- [beerstar] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-21T20:04:32.391+02:00  INFO 17428 --- [beerstar] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-21T20:04:33.528+02:00 DEBUG 17428 --- [beerstar] [main] c.tfc.beerstar.security.AuthTokenFilter  : Filter 'authTokenFilter' configured for use
2025-05-21T20:04:33.530+02:00 DEBUG 17428 --- [beerstar] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-05-21T20:04:33.531+02:00 DEBUG 17428 --- [beerstar] [main] c.tfc.beerstar.security.AuthTokenFilter  : Filter 'authenticationJwtTokenFilter' configured for use
2025-05-21T20:04:34.037+02:00  INFO 17428 --- [beerstar] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-21T20:04:34.039+02:00  WARN 17428 --- [beerstar] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-21T20:04:34.448+02:00  INFO 17428 --- [beerstar] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-21T20:04:35.841+02:00  WARN 17428 --- [beerstar] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-21T20:04:36.235+02:00 DEBUG 17428 --- [beerstar] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 42 mappings in 'requestMappingHandlerMapping'
2025-05-21T20:04:36.612+02:00 DEBUG 17428 --- [beerstar] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-21T20:04:37.132+02:00  INFO 17428 --- [beerstar] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-05-21T20:04:37.154+02:00  INFO 17428 --- [beerstar] [main] com.tfc.beerstar.config.SecurityConfig   : Configurando seguridad HTTP
2025-05-21T20:04:37.192+02:00  INFO 17428 --- [beerstar] [main] com.tfc.beerstar.config.SecurityConfig   : Configuración de seguridad HTTP completada
2025-05-21T20:04:37.384+02:00 DEBUG 17428 --- [beerstar] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-21T20:04:37.596+02:00 DEBUG 17428 --- [beerstar] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-21T20:04:37.631+02:00 DEBUG 17428 --- [beerstar] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-21T20:04:38.577+02:00  INFO 17428 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-21T20:04:38.590+02:00  INFO 17428 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-21T20:04:38.591+02:00 DEBUG 17428 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-21T20:04:38.591+02:00 DEBUG 17428 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-21T20:04:38.591+02:00 DEBUG 17428 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-21T20:04:38.594+02:00 DEBUG 17428 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@59aba6f2
2025-05-21T20:04:38.595+02:00 DEBUG 17428 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@6392107e
2025-05-21T20:04:38.595+02:00 DEBUG 17428 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-21T20:04:38.596+02:00  INFO 17428 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-05-21T20:04:38.612+02:00  INFO 17428 --- [beerstar] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-05-21T20:04:38.619+02:00  INFO 17428 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : Started BeerstarApplication in 15.501 seconds (process running for 16.228)
2025-05-21T20:04:48.097+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/carrito/agregar
2025-05-21T20:04:48.108+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T20:04:48.109+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T20:04:48.110+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8
2025-05-21T20:04:48.110+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T20:04:48.111+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T20:04:48.111+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 838e351b-f637-4d3f-a0d8-06255c03bd92
2025-05-21T20:04:48.112+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T20:04:48.112+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T20:04:48.112+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T20:04:48.112+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 41
2025-05-21T20:04:48.112+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T20:04:48.113+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T20:04:48.179+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/carrito/agregar
2025-05-21T20:04:48.179+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T20:04:48.179+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T20:04:48.180+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8
2025-05-21T20:04:48.180+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T20:04:48.180+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T20:04:48.180+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 838e351b-f637-4d3f-a0d8-06255c03bd92
2025-05-21T20:04:48.180+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T20:04:48.181+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T20:04:48.182+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T20:04:48.182+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 41
2025-05-21T20:04:48.182+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T20:04:48.182+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T20:04:48.195+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/carrito/agregar", parameters={}
2025-05-21T20:04:48.197+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#agregarAlCarrito(UserDetailsImpl, AddToCarritoRequestDTO)
2025-05-21T20:04:48.243+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AddToCarritoRequestDTO(idArticulo=1, cantidad=2)]
2025-05-21T20:04:48.483+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T20:04:48.486+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoResponseDTO(id=8, fechaCreacion=2025-05-21T18:02:54.138492Z, items=[DetalleCarritoResponseDTO (truncated)...]
2025-05-21T20:04:48.500+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T20:04:57.408+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/pedidos/crearPedido
2025-05-21T20:04:57.416+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/pedidos/crearPedido
2025-05-21T20:04:57.420+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T20:04:57.426+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8
2025-05-21T20:04:57.432+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T20:04:57.439+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T20:04:57.441+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = ea9727f7-9ced-46dd-b190-2c1b97bf7801
2025-05-21T20:04:57.446+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T20:04:57.452+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T20:04:57.454+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T20:04:57.454+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 0
2025-05-21T20:04:57.455+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T20:04:57.456+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T20:04:57.466+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/pedidos/crearPedido
2025-05-21T20:04:57.474+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/pedidos/crearPedido
2025-05-21T20:04:57.475+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T20:04:57.476+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8
2025-05-21T20:04:57.476+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T20:04:57.476+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T20:04:57.477+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = ea9727f7-9ced-46dd-b190-2c1b97bf7801
2025-05-21T20:04:57.477+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T20:04:57.477+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T20:04:57.477+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T20:04:57.478+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 0
2025-05-21T20:04:57.479+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T20:04:57.479+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T20:04:57.490+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/pedidos/crearPedido", parameters={}
2025-05-21T20:04:57.491+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.PedidoController#crear(UserDetailsImpl, String)
2025-05-21T20:04:57.540+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T20:04:57.545+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PedidoResponseDTO(idPedido=16, IdCliente=5, nombreCliente=rafa, emailUsuario=a@b.es, direccionClient (truncated)...]
2025-05-21T20:04:57.546+02:00 DEBUG 17428 --- [beerstar] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T22:23:43.661+02:00  INFO 27812 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : Starting BeerstarApplication using Java 17.0.8 with PID 27812 (E:\Proyectos_2025\BeerStar_CLIEAN03\target\classes started by rlpmu in E:\Proyectos_2025\BeerStar_CLIEAN03)
2025-05-21T22:23:43.663+02:00  INFO 27812 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : The following 1 profile is active: "prod"
2025-05-21T22:23:44.687+02:00  INFO 27812 --- [beerstar] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-21T22:23:44.753+02:00  INFO 27812 --- [beerstar] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 57 ms. Found 12 JPA repository interfaces.
2025-05-21T22:23:45.436+02:00  INFO 27812 --- [beerstar] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-21T22:23:45.450+02:00  INFO 27812 --- [beerstar] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-21T22:23:45.450+02:00  INFO 27812 --- [beerstar] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-21T22:23:45.517+02:00  INFO 27812 --- [beerstar] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-21T22:23:45.518+02:00  INFO 27812 --- [beerstar] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1825 ms
2025-05-21T22:23:45.878+02:00  INFO 27812 --- [beerstar] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-21T22:23:45.946+02:00  INFO 27812 --- [beerstar] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-21T22:23:45.975+02:00  INFO 27812 --- [beerstar] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-21T22:23:46.190+02:00  INFO 27812 --- [beerstar] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-21T22:23:46.209+02:00  INFO 27812 --- [beerstar] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-21T22:23:46.332+02:00  INFO 27812 --- [beerstar] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@147059f8
2025-05-21T22:23:46.334+02:00  INFO 27812 --- [beerstar] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-21T22:23:46.359+02:00  WARN 27812 --- [beerstar] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-21T22:23:46.373+02:00  INFO 27812 --- [beerstar] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-21T22:23:47.302+02:00  INFO 27812 --- [beerstar] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-21T22:23:48.006+02:00  INFO 27812 --- [beerstar] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-21T22:23:48.424+02:00 DEBUG 27812 --- [beerstar] [main] c.tfc.beerstar.security.AuthTokenFilter  : Filter 'authTokenFilter' configured for use
2025-05-21T22:23:48.426+02:00 DEBUG 27812 --- [beerstar] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-05-21T22:23:48.426+02:00 DEBUG 27812 --- [beerstar] [main] c.tfc.beerstar.security.AuthTokenFilter  : Filter 'authenticationJwtTokenFilter' configured for use
2025-05-21T22:23:48.583+02:00  INFO 27812 --- [beerstar] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-21T22:23:48.584+02:00  WARN 27812 --- [beerstar] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-21T22:23:48.843+02:00  INFO 27812 --- [beerstar] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-21T22:23:49.508+02:00  WARN 27812 --- [beerstar] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-21T22:23:49.787+02:00 DEBUG 27812 --- [beerstar] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 42 mappings in 'requestMappingHandlerMapping'
2025-05-21T22:23:49.979+02:00 DEBUG 27812 --- [beerstar] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-21T22:23:50.204+02:00  INFO 27812 --- [beerstar] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-05-21T22:23:50.228+02:00  INFO 27812 --- [beerstar] [main] com.tfc.beerstar.config.SecurityConfig   : Configurando seguridad HTTP
2025-05-21T22:23:50.265+02:00  INFO 27812 --- [beerstar] [main] com.tfc.beerstar.config.SecurityConfig   : Configuración de seguridad HTTP completada
2025-05-21T22:23:50.301+02:00 DEBUG 27812 --- [beerstar] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-21T22:23:50.422+02:00 DEBUG 27812 --- [beerstar] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-21T22:23:50.483+02:00 DEBUG 27812 --- [beerstar] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-21T22:23:51.073+02:00  INFO 27812 --- [beerstar] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-05-21T22:23:51.092+02:00  INFO 27812 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : Started BeerstarApplication in 7.764 seconds (process running for 8.213)
2025-05-21T22:23:52.616+02:00  INFO 27812 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-21T22:23:52.616+02:00  INFO 27812 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-21T22:23:52.617+02:00 DEBUG 27812 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-21T22:23:52.617+02:00 DEBUG 27812 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-21T22:23:52.617+02:00 DEBUG 27812 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-21T22:23:52.619+02:00 DEBUG 27812 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@761eaf72
2025-05-21T22:23:52.619+02:00 DEBUG 27812 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@48c74c4f
2025-05-21T22:23:52.620+02:00 DEBUG 27812 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-21T22:23:52.620+02:00  INFO 27812 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-05-21T22:28:39.890+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/carrito/agregar
2025-05-21T22:28:39.897+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T22:28:39.898+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:28:39.898+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8
2025-05-21T22:28:39.898+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:28:39.898+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:28:39.899+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 55656554-113f-4a69-831c-c2f34b9609b1
2025-05-21T22:28:39.899+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:28:39.899+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:28:39.899+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:28:39.899+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 41
2025-05-21T22:28:39.900+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:28:39.900+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:28:39.970+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/carrito/agregar
2025-05-21T22:28:39.970+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T22:28:39.970+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:28:39.971+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8
2025-05-21T22:28:39.971+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:28:39.971+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:28:39.971+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 55656554-113f-4a69-831c-c2f34b9609b1
2025-05-21T22:28:39.971+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:28:39.971+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:28:39.972+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:28:39.972+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 41
2025-05-21T22:28:39.972+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:28:39.972+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:28:39.980+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/carrito/agregar", parameters={}
2025-05-21T22:28:39.981+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#agregarAlCarrito(UserDetailsImpl, AddToCarritoRequestDTO)
2025-05-21T22:28:40.008+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AddToCarritoRequestDTO(idArticulo=1, cantidad=1)]
2025-05-21T22:28:40.110+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T22:28:40.115+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoResponseDTO(id=8, fechaCreacion=2025-05-21T18:02:54.138492Z, items=[DetalleCarritoResponseDTO (truncated)...]
2025-05-21T22:28:40.130+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T22:28:59.979+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /beerstar/articulos
2025-05-21T22:28:59.979+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/articulos
2025-05-21T22:28:59.980+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k
2025-05-21T22:28:59.980+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:28:59.980+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:28:59.980+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 25043a69-3f9d-4bca-ab85-aef4e72249b3
2025-05-21T22:28:59.980+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:28:59.980+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:28:59.981+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:28:59.981+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T22:28:59.981+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T22:28:59.983+02:00 ERROR 27812 --- [beerstar] [http-nio-8080-exec-3] com.tfc.beerstar.security.JwtUtils       : Token JWT expirado: JWT expired at 2025-05-20T11:11:24Z. Current time: 2025-05-21T20:28:59Z, a difference of 119855982 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-05-21T22:28:59.983+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T22:28:59.984+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /beerstar/articulos
2025-05-21T22:28:59.984+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/articulos
2025-05-21T22:28:59.985+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k
2025-05-21T22:28:59.985+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:28:59.985+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:28:59.985+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 25043a69-3f9d-4bca-ab85-aef4e72249b3
2025-05-21T22:28:59.985+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:28:59.985+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:28:59.986+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:28:59.986+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T22:28:59.986+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T22:28:59.988+02:00 ERROR 27812 --- [beerstar] [http-nio-8080-exec-3] com.tfc.beerstar.security.JwtUtils       : Token JWT expirado: JWT expired at 2025-05-20T11:11:24Z. Current time: 2025-05-21T20:28:59Z, a difference of 119855988 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-05-21T22:28:59.988+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/beerstar/articulos", parameters={}
2025-05-21T22:28:59.989+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.ArticuloController#obtenerTodosLosArticulos()
2025-05-21T22:28:59.990+02:00  INFO 27812 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.service.ArticuloService   : Obteniendo todos los artículos
2025-05-21T22:28:59.997+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T22:29:00.001+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ArticulosResponseDTO(idArticulo=1, nombre=Orval02, descripcion=Este es un tipo de cerveza de fermen (truncated)...]
2025-05-21T22:29:00.003+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T22:29:07.663+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/pedidos/crearPedido
2025-05-21T22:29:07.664+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/pedidos/crearPedido
2025-05-21T22:29:07.664+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:29:07.664+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8
2025-05-21T22:29:07.664+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:29:07.664+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:29:07.665+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 43cc3a39-b032-467d-9bad-24c7a036db0a
2025-05-21T22:29:07.665+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:29:07.665+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:29:07.665+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:29:07.665+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 0
2025-05-21T22:29:07.665+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:29:07.665+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:29:07.673+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/pedidos/crearPedido
2025-05-21T22:29:07.673+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/pedidos/crearPedido
2025-05-21T22:29:07.674+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:29:07.674+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8
2025-05-21T22:29:07.674+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:29:07.674+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:29:07.674+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 43cc3a39-b032-467d-9bad-24c7a036db0a
2025-05-21T22:29:07.675+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:29:07.675+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:29:07.675+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:29:07.675+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 0
2025-05-21T22:29:07.675+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:29:07.676+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:29:07.681+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/pedidos/crearPedido", parameters={}
2025-05-21T22:29:07.682+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.PedidoController#crear(UserDetailsImpl, String)
2025-05-21T22:29:07.711+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T22:29:07.715+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PedidoResponseDTO(idPedido=17, IdCliente=5, nombreCliente=rafa, emailUsuario=a@b.es, direccionClient (truncated)...]
2025-05-21T22:29:07.717+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T22:29:20.868+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /beerstar/articulos
2025-05-21T22:29:20.869+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/articulos
2025-05-21T22:29:20.869+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k
2025-05-21T22:29:20.869+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:29:20.870+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:29:20.870+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = a7f25d41-2221-4305-92fd-aade0923b125
2025-05-21T22:29:20.870+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:29:20.870+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:29:20.870+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:29:20.870+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T22:29:20.870+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T22:29:20.873+02:00 ERROR 27812 --- [beerstar] [http-nio-8080-exec-5] com.tfc.beerstar.security.JwtUtils       : Token JWT expirado: JWT expired at 2025-05-20T11:11:24Z. Current time: 2025-05-21T20:29:20Z, a difference of 119876872 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-05-21T22:29:20.873+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T22:29:20.874+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /beerstar/articulos
2025-05-21T22:29:20.874+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/articulos
2025-05-21T22:29:20.874+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k
2025-05-21T22:29:20.874+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:29:20.874+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:29:20.874+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = a7f25d41-2221-4305-92fd-aade0923b125
2025-05-21T22:29:20.875+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:29:20.875+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:29:20.875+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:29:20.875+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T22:29:20.875+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T22:29:20.877+02:00 ERROR 27812 --- [beerstar] [http-nio-8080-exec-5] com.tfc.beerstar.security.JwtUtils       : Token JWT expirado: JWT expired at 2025-05-20T11:11:24Z. Current time: 2025-05-21T20:29:20Z, a difference of 119876877 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-05-21T22:29:20.877+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/beerstar/articulos", parameters={}
2025-05-21T22:29:20.878+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.ArticuloController#obtenerTodosLosArticulos()
2025-05-21T22:29:20.878+02:00  INFO 27812 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.service.ArticuloService   : Obteniendo todos los artículos
2025-05-21T22:29:20.882+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T22:29:20.882+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ArticulosResponseDTO(idArticulo=1, nombre=Orval02, descripcion=Este es un tipo de cerveza de fermen (truncated)...]
2025-05-21T22:29:20.883+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T22:29:27.494+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/carrito/agregar
2025-05-21T22:29:27.495+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T22:29:27.495+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:29:27.495+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8
2025-05-21T22:29:27.495+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:29:27.495+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:29:27.495+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 22d9f50b-df57-4a8b-ac6b-ebc0b1afbe7c
2025-05-21T22:29:27.495+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:29:27.496+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:29:27.496+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:29:27.496+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 41
2025-05-21T22:29:27.496+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:29:27.496+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:29:27.503+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/carrito/agregar
2025-05-21T22:29:27.503+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T22:29:27.504+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:29:27.504+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8
2025-05-21T22:29:27.504+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:29:27.504+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:29:27.504+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 22d9f50b-df57-4a8b-ac6b-ebc0b1afbe7c
2025-05-21T22:29:27.505+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:29:27.505+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:29:27.505+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:29:27.505+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 41
2025-05-21T22:29:27.505+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:29:27.505+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:29:27.512+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/carrito/agregar", parameters={}
2025-05-21T22:29:27.513+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#agregarAlCarrito(UserDetailsImpl, AddToCarritoRequestDTO)
2025-05-21T22:29:27.514+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AddToCarritoRequestDTO(idArticulo=1, cantidad=1)]
2025-05-21T22:29:27.522+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T22:29:27.523+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoResponseDTO(id=8, fechaCreacion=2025-05-21T18:02:54.138492Z, items=[DetalleCarritoResponseDTO (truncated)...]
2025-05-21T22:29:27.524+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T22:29:35.873+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /beerstar/articulos
2025-05-21T22:29:35.874+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/articulos
2025-05-21T22:29:35.874+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k
2025-05-21T22:29:35.874+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:29:35.874+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:29:35.874+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 135155a8-cfec-4567-8cc4-47487326db2b
2025-05-21T22:29:35.875+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:29:35.875+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:29:35.875+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:29:35.875+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T22:29:35.875+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T22:29:35.877+02:00 ERROR 27812 --- [beerstar] [http-nio-8080-exec-6] com.tfc.beerstar.security.JwtUtils       : Token JWT expirado: JWT expired at 2025-05-20T11:11:24Z. Current time: 2025-05-21T20:29:35Z, a difference of 119891877 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-05-21T22:29:35.877+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T22:29:35.878+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /beerstar/articulos
2025-05-21T22:29:35.878+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/articulos
2025-05-21T22:29:35.878+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k
2025-05-21T22:29:35.878+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:29:35.878+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:29:35.879+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 135155a8-cfec-4567-8cc4-47487326db2b
2025-05-21T22:29:35.879+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:29:35.879+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:29:35.879+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:29:35.879+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T22:29:35.880+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T22:29:35.881+02:00 ERROR 27812 --- [beerstar] [http-nio-8080-exec-6] com.tfc.beerstar.security.JwtUtils       : Token JWT expirado: JWT expired at 2025-05-20T11:11:24Z. Current time: 2025-05-21T20:29:35Z, a difference of 119891881 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-05-21T22:29:35.881+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/beerstar/articulos", parameters={}
2025-05-21T22:29:35.882+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.ArticuloController#obtenerTodosLosArticulos()
2025-05-21T22:29:35.882+02:00  INFO 27812 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.service.ArticuloService   : Obteniendo todos los artículos
2025-05-21T22:29:35.886+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T22:29:35.886+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ArticulosResponseDTO(idArticulo=1, nombre=Orval02, descripcion=Este es un tipo de cerveza de fermen (truncated)...]
2025-05-21T22:29:35.887+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T22:30:19.651+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /beerstar/carrito/decrementar/1
2025-05-21T22:30:19.651+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/carrito/decrementar/1
2025-05-21T22:30:19.651+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:30:19.652+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODQ5OTY2LCJleHAiOjE3NDc5MzYzNjZ9.3JfBb7EYboCIPyx-Y4zifkEvEwjOagfIFUNz_CW3zaM
2025-05-21T22:30:19.652+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:30:19.652+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:30:19.652+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 02f66769-10cc-491c-a821-051f0a487821
2025-05-21T22:30:19.652+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:30:19.652+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:30:19.653+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:30:19.653+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODQ5OTY2LCJleHAiOjE3NDc5MzYzNjZ9.3JfBb7EYboCIPyx-Y4zifkEvEwjOagfIFUNz_CW3zaM]
2025-05-21T22:30:19.653+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODQ5OTY2LCJleHAiOjE3NDc5MzYzNjZ9.3JfBb7EYboCIPyx-Y4zifkEvEwjOagfIFUNz_CW3zaM]
2025-05-21T22:30:19.660+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /beerstar/carrito/decrementar/1
2025-05-21T22:30:19.660+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/carrito/decrementar/1
2025-05-21T22:30:19.660+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:30:19.660+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODQ5OTY2LCJleHAiOjE3NDc5MzYzNjZ9.3JfBb7EYboCIPyx-Y4zifkEvEwjOagfIFUNz_CW3zaM
2025-05-21T22:30:19.660+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:30:19.661+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:30:19.661+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 02f66769-10cc-491c-a821-051f0a487821
2025-05-21T22:30:19.661+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:30:19.661+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:30:19.661+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:30:19.661+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODQ5OTY2LCJleHAiOjE3NDc5MzYzNjZ9.3JfBb7EYboCIPyx-Y4zifkEvEwjOagfIFUNz_CW3zaM]
2025-05-21T22:30:19.662+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODQ5OTY2LCJleHAiOjE3NDc5MzYzNjZ9.3JfBb7EYboCIPyx-Y4zifkEvEwjOagfIFUNz_CW3zaM]
2025-05-21T22:30:19.666+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/beerstar/carrito/decrementar/1", parameters={}
2025-05-21T22:30:19.668+02:00  WARN 27812 --- [beerstar] [http-nio-8080-exec-8] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]
2025-05-21T22:30:19.668+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 405 METHOD_NOT_ALLOWED
2025-05-21T22:30:19.673+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-05-21T22:30:19.674+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T22:30:19.677+02:00 ERROR 27812 --- [beerstar] [http-nio-8080-exec-8] c.t.beerstar.security.AuthEntryPointJwt  : Error no autorizado: Full authentication is required to access this resource
2025-05-21T22:30:40.416+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/carrito/decrementar/1
2025-05-21T22:30:40.416+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/decrementar/1
2025-05-21T22:30:40.416+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:30:40.416+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODQ5OTY2LCJleHAiOjE3NDc5MzYzNjZ9.3JfBb7EYboCIPyx-Y4zifkEvEwjOagfIFUNz_CW3zaM
2025-05-21T22:30:40.417+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:30:40.417+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:30:40.417+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 3ddfb916-65c7-445a-922c-24ff88732ea4
2025-05-21T22:30:40.417+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:30:40.417+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:30:40.417+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:30:40.417+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 0
2025-05-21T22:30:40.417+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODQ5OTY2LCJleHAiOjE3NDc5MzYzNjZ9.3JfBb7EYboCIPyx-Y4zifkEvEwjOagfIFUNz_CW3zaM]
2025-05-21T22:30:40.417+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODQ5OTY2LCJleHAiOjE3NDc5MzYzNjZ9.3JfBb7EYboCIPyx-Y4zifkEvEwjOagfIFUNz_CW3zaM]
2025-05-21T22:30:40.423+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/carrito/decrementar/1
2025-05-21T22:30:40.423+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/decrementar/1
2025-05-21T22:30:40.423+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:30:40.423+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODQ5OTY2LCJleHAiOjE3NDc5MzYzNjZ9.3JfBb7EYboCIPyx-Y4zifkEvEwjOagfIFUNz_CW3zaM
2025-05-21T22:30:40.424+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:30:40.424+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:30:40.424+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 3ddfb916-65c7-445a-922c-24ff88732ea4
2025-05-21T22:30:40.424+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:30:40.424+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:30:40.424+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:30:40.424+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 0
2025-05-21T22:30:40.425+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODQ5OTY2LCJleHAiOjE3NDc5MzYzNjZ9.3JfBb7EYboCIPyx-Y4zifkEvEwjOagfIFUNz_CW3zaM]
2025-05-21T22:30:40.425+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODQ5OTY2LCJleHAiOjE3NDc5MzYzNjZ9.3JfBb7EYboCIPyx-Y4zifkEvEwjOagfIFUNz_CW3zaM]
2025-05-21T22:30:40.430+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/carrito/decrementar/1", parameters={}
2025-05-21T22:30:40.431+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#decrementarArticulo(UserDetailsImpl, Long, Long)
2025-05-21T22:30:40.438+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.tfc.beerstar.exception.GlobalExceptionHandler#handleResourceNotFoundException(ResourceNotFoundException)
2025-05-21T22:30:40.439+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json, application/yaml]
2025-05-21T22:30:40.439+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Artículo no encontrado en el carrito"]
2025-05-21T22:30:40.440+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.tfc.beerstar.exception.ResourceNotFoundException: Artículo no encontrado en el carrito]
2025-05-21T22:30:40.441+02:00 DEBUG 27812 --- [beerstar] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-05-21T22:31:09.094+02:00  INFO 22600 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : Starting BeerstarApplication using Java 17.0.8 with PID 22600 (E:\Proyectos_2025\BeerStar_CLIEAN03\target\classes started by rlpmu in E:\Proyectos_2025\BeerStar_CLIEAN03)
2025-05-21T22:31:09.097+02:00  INFO 22600 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : The following 1 profile is active: "prod"
2025-05-21T22:31:09.954+02:00  INFO 22600 --- [beerstar] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-21T22:31:10.035+02:00  INFO 22600 --- [beerstar] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 72 ms. Found 12 JPA repository interfaces.
2025-05-21T22:31:10.733+02:00  INFO 22600 --- [beerstar] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-21T22:31:10.749+02:00  INFO 22600 --- [beerstar] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-21T22:31:10.750+02:00  INFO 22600 --- [beerstar] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-21T22:31:10.830+02:00  INFO 22600 --- [beerstar] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-21T22:31:10.831+02:00  INFO 22600 --- [beerstar] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1704 ms
2025-05-21T22:31:11.145+02:00  INFO 22600 --- [beerstar] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-21T22:31:11.203+02:00  INFO 22600 --- [beerstar] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-21T22:31:11.252+02:00  INFO 22600 --- [beerstar] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-21T22:31:11.521+02:00  INFO 22600 --- [beerstar] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-21T22:31:11.540+02:00  INFO 22600 --- [beerstar] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-21T22:31:11.652+02:00  INFO 22600 --- [beerstar] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@43719e98
2025-05-21T22:31:11.654+02:00  INFO 22600 --- [beerstar] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-21T22:31:11.678+02:00  WARN 22600 --- [beerstar] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-21T22:31:11.694+02:00  INFO 22600 --- [beerstar] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-21T22:31:12.555+02:00  INFO 22600 --- [beerstar] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-21T22:31:13.212+02:00  INFO 22600 --- [beerstar] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-21T22:31:13.637+02:00 DEBUG 22600 --- [beerstar] [main] c.tfc.beerstar.security.AuthTokenFilter  : Filter 'authTokenFilter' configured for use
2025-05-21T22:31:13.639+02:00 DEBUG 22600 --- [beerstar] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-05-21T22:31:13.639+02:00 DEBUG 22600 --- [beerstar] [main] c.tfc.beerstar.security.AuthTokenFilter  : Filter 'authenticationJwtTokenFilter' configured for use
2025-05-21T22:31:13.789+02:00  INFO 22600 --- [beerstar] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-21T22:31:13.790+02:00  WARN 22600 --- [beerstar] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-21T22:31:14.075+02:00  INFO 22600 --- [beerstar] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-21T22:31:14.723+02:00  WARN 22600 --- [beerstar] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-21T22:31:14.966+02:00 DEBUG 22600 --- [beerstar] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 42 mappings in 'requestMappingHandlerMapping'
2025-05-21T22:31:15.112+02:00 DEBUG 22600 --- [beerstar] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-21T22:31:15.367+02:00  INFO 22600 --- [beerstar] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-05-21T22:31:15.392+02:00  INFO 22600 --- [beerstar] [main] com.tfc.beerstar.config.SecurityConfig   : Configurando seguridad HTTP
2025-05-21T22:31:15.436+02:00  INFO 22600 --- [beerstar] [main] com.tfc.beerstar.config.SecurityConfig   : Configuración de seguridad HTTP completada
2025-05-21T22:31:15.472+02:00 DEBUG 22600 --- [beerstar] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-21T22:31:15.594+02:00 DEBUG 22600 --- [beerstar] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-21T22:31:15.656+02:00 DEBUG 22600 --- [beerstar] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-21T22:31:16.260+02:00  INFO 22600 --- [beerstar] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-05-21T22:31:16.280+02:00  INFO 22600 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : Started BeerstarApplication in 7.524 seconds (process running for 7.924)
2025-05-21T22:31:18.046+02:00  INFO 22600 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-21T22:31:18.047+02:00  INFO 22600 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-21T22:31:18.047+02:00 DEBUG 22600 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-21T22:31:18.047+02:00 DEBUG 22600 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-21T22:31:18.047+02:00 DEBUG 22600 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-21T22:31:18.048+02:00 DEBUG 22600 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@32f53573
2025-05-21T22:31:18.049+02:00 DEBUG 22600 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@7f1bf2db
2025-05-21T22:31:18.049+02:00 DEBUG 22600 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-21T22:31:18.050+02:00  INFO 22600 --- [beerstar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-05-21T22:31:42.041+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /beerstar/carrito/verCarrito
2025-05-21T22:31:42.049+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/carrito/verCarrito
2025-05-21T22:31:42.050+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:31:42.050+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:31:42.050+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:31:42.050+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 71793dd9-a3c3-4e53-a48a-a345208806a2
2025-05-21T22:31:42.050+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:31:42.051+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:31:42.051+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:31:42.051+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 53
2025-05-21T22:31:42.051+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [null]
2025-05-21T22:31:42.051+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [null]
2025-05-21T22:31:42.053+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T22:31:42.059+02:00 ERROR 22600 --- [beerstar] [http-nio-8080-exec-1] c.t.beerstar.security.AuthEntryPointJwt  : Error no autorizado: Full authentication is required to access this resource
2025-05-21T22:31:42.065+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-05-21T22:31:42.066+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T22:31:42.066+02:00 ERROR 22600 --- [beerstar] [http-nio-8080-exec-1] c.t.beerstar.security.AuthEntryPointJwt  : Error no autorizado: Full authentication is required to access this resource
2025-05-21T22:32:06.336+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /beerstar/carrito/verCarrito
2025-05-21T22:32:06.337+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/carrito/verCarrito
2025-05-21T22:32:06.337+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:32:06.337+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8
2025-05-21T22:32:06.338+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:32:06.338+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:32:06.338+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 276b0e16-c3a6-4d80-b35c-ba8b2199b1ec
2025-05-21T22:32:06.338+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:32:06.338+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:32:06.338+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:32:06.339+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 53
2025-05-21T22:32:06.339+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:32:06.339+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:32:06.399+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /beerstar/carrito/verCarrito
2025-05-21T22:32:06.400+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/carrito/verCarrito
2025-05-21T22:32:06.400+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:32:06.400+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8
2025-05-21T22:32:06.400+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:32:06.400+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:32:06.401+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 276b0e16-c3a6-4d80-b35c-ba8b2199b1ec
2025-05-21T22:32:06.401+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:32:06.401+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:32:06.401+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:32:06.401+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 53
2025-05-21T22:32:06.401+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:32:06.402+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:32:06.410+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/beerstar/carrito/verCarrito", parameters={}
2025-05-21T22:32:06.411+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#verCarrito(UserDetailsImpl)
2025-05-21T22:32:06.462+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T22:32:06.467+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [CarritoResponseDTO(id=8, fechaCreacion=2025-05-21T18:02:54.138492Z, items=[DetalleCarritoResponseDTO (truncated)...]
2025-05-21T22:32:06.478+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T22:32:34.873+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/carrito/decrementar/1
2025-05-21T22:32:34.874+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/decrementar/1
2025-05-21T22:32:34.874+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:32:34.874+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8
2025-05-21T22:32:34.874+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:32:34.874+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:32:34.874+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = eed36116-0dcb-45ab-bdd3-a98a608ad6d8
2025-05-21T22:32:34.875+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:32:34.875+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:32:34.875+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:32:34.875+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 0
2025-05-21T22:32:34.875+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:32:34.875+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:32:34.883+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/carrito/decrementar/1
2025-05-21T22:32:34.883+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/decrementar/1
2025-05-21T22:32:34.883+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:32:34.884+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8
2025-05-21T22:32:34.884+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:32:34.884+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:32:34.884+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = eed36116-0dcb-45ab-bdd3-a98a608ad6d8
2025-05-21T22:32:34.884+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:32:34.884+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:32:34.885+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:32:34.885+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 0
2025-05-21T22:32:34.885+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:32:34.885+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:32:34.891+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/carrito/decrementar/1", parameters={}
2025-05-21T22:32:34.892+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#decrementarArticulo(UserDetailsImpl, Long)
2025-05-21T22:32:34.927+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T22:32:34.927+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoResponseDTO(id=8, fechaCreacion=2025-05-21T18:02:54.138492Z, items=[], subtotal=2.95, impuest (truncated)...]
2025-05-21T22:32:34.928+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T22:32:41.543+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /beerstar/carrito/verCarrito
2025-05-21T22:32:41.544+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/carrito/verCarrito
2025-05-21T22:32:41.544+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:32:41.544+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8
2025-05-21T22:32:41.544+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:32:41.545+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:32:41.545+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 28bbd75a-4fc6-44e4-be9d-1a54f3f89f84
2025-05-21T22:32:41.545+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:32:41.545+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:32:41.545+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:32:41.545+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 53
2025-05-21T22:32:41.545+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:32:41.546+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:32:41.553+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /beerstar/carrito/verCarrito
2025-05-21T22:32:41.553+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/carrito/verCarrito
2025-05-21T22:32:41.553+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:32:41.554+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8
2025-05-21T22:32:41.554+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:32:41.554+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:32:41.554+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 28bbd75a-4fc6-44e4-be9d-1a54f3f89f84
2025-05-21T22:32:41.554+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:32:41.554+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:32:41.554+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:32:41.555+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 53
2025-05-21T22:32:41.555+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:32:41.555+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:32:41.561+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/beerstar/carrito/verCarrito", parameters={}
2025-05-21T22:32:41.561+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#verCarrito(UserDetailsImpl)
2025-05-21T22:32:41.565+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T22:32:41.565+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [CarritoResponseDTO(id=8, fechaCreacion=2025-05-21T18:02:54.138492Z, items=[], subtotal=2.95, impuest (truncated)...]
2025-05-21T22:32:41.566+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T22:32:59.583+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/carrito/vaciar
2025-05-21T22:32:59.584+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/vaciar
2025-05-21T22:32:59.584+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:32:59.584+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8
2025-05-21T22:32:59.584+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:32:59.585+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:32:59.585+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 1eabc9ac-a84c-4148-ab97-83aa26fa79bd
2025-05-21T22:32:59.585+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:32:59.585+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:32:59.585+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:32:59.585+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 53
2025-05-21T22:32:59.586+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:32:59.586+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:32:59.593+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/carrito/vaciar
2025-05-21T22:32:59.594+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/vaciar
2025-05-21T22:32:59.594+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:32:59.594+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8
2025-05-21T22:32:59.594+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:32:59.595+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:32:59.595+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 1eabc9ac-a84c-4148-ab97-83aa26fa79bd
2025-05-21T22:32:59.595+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:32:59.595+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:32:59.595+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:32:59.595+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 53
2025-05-21T22:32:59.595+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:32:59.595+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:32:59.604+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/carrito/vaciar", parameters={}
2025-05-21T22:32:59.606+02:00  WARN 22600 --- [beerstar] [http-nio-8080-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' is not supported]
2025-05-21T22:32:59.607+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 405 METHOD_NOT_ALLOWED
2025-05-21T22:32:59.608+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /error
2025-05-21T22:32:59.609+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T22:32:59.610+02:00 ERROR 22600 --- [beerstar] [http-nio-8080-exec-6] c.t.beerstar.security.AuthEntryPointJwt  : Error no autorizado: Full authentication is required to access this resource
2025-05-21T22:33:04.275+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing DELETE /beerstar/carrito/vaciar
2025-05-21T22:33:04.275+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: DELETE /beerstar/carrito/vaciar
2025-05-21T22:33:04.276+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:33:04.276+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8
2025-05-21T22:33:04.276+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:33:04.276+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:33:04.276+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 11311c14-3c09-4d3c-8413-59f6ecffbc05
2025-05-21T22:33:04.276+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:33:04.277+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:33:04.277+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:33:04.277+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 53
2025-05-21T22:33:04.277+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:33:04.277+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:33:04.283+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured DELETE /beerstar/carrito/vaciar
2025-05-21T22:33:04.283+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: DELETE /beerstar/carrito/vaciar
2025-05-21T22:33:04.284+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:33:04.284+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8
2025-05-21T22:33:04.284+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:33:04.284+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:33:04.284+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 11311c14-3c09-4d3c-8413-59f6ecffbc05
2025-05-21T22:33:04.284+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:33:04.285+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:33:04.285+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:33:04.285+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 53
2025-05-21T22:33:04.285+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:33:04.285+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:33:04.291+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : DELETE "/beerstar/carrito/vaciar", parameters={}
2025-05-21T22:33:04.291+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#vaciarCarrito(UserDetailsImpl)
2025-05-21T22:33:04.298+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T22:33:04.299+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-05-21T22:33:04.299+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 204 NO_CONTENT
2025-05-21T22:33:17.912+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /beerstar/carrito/verCarrito
2025-05-21T22:33:17.913+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/carrito/verCarrito
2025-05-21T22:33:17.913+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:33:17.914+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8
2025-05-21T22:33:17.914+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:33:17.914+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:33:17.914+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = c98d2a1d-bd3b-4228-93e2-3992678a50f9
2025-05-21T22:33:17.914+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:33:17.915+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:33:17.915+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:33:17.915+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 53
2025-05-21T22:33:17.915+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:33:17.915+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:33:17.924+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /beerstar/carrito/verCarrito
2025-05-21T22:33:17.925+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/carrito/verCarrito
2025-05-21T22:33:17.925+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:33:17.925+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8
2025-05-21T22:33:17.926+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:33:17.926+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:33:17.926+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = c98d2a1d-bd3b-4228-93e2-3992678a50f9
2025-05-21T22:33:17.926+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:33:17.926+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:33:17.926+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:33:17.926+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 53
2025-05-21T22:33:17.927+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:33:17.927+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:33:17.934+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/beerstar/carrito/verCarrito", parameters={}
2025-05-21T22:33:17.935+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#verCarrito(UserDetailsImpl)
2025-05-21T22:33:17.942+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T22:33:17.942+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [CarritoResponseDTO(id=8, fechaCreacion=2025-05-21T18:02:54.138492Z, items=[], subtotal=0.00, impuest (truncated)...]
2025-05-21T22:33:17.943+02:00 DEBUG 22600 --- [beerstar] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T22:44:05.657+02:00  INFO 27164 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : Starting BeerstarApplication using Java 17.0.8 with PID 27164 (E:\Proyectos_2025\BeerStar_CLIEAN03\target\classes started by rlpmu in E:\Proyectos_2025\BeerStar_CLIEAN03)
2025-05-21T22:44:05.661+02:00  INFO 27164 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : The following 1 profile is active: "prod"
2025-05-21T22:44:07.623+02:00  INFO 27164 --- [beerstar] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-21T22:44:07.788+02:00  INFO 27164 --- [beerstar] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 157 ms. Found 12 JPA repository interfaces.
2025-05-21T22:44:09.872+02:00  INFO 27164 --- [beerstar] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-21T22:44:09.881+02:00  INFO 27164 --- [beerstar] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-21T22:44:09.882+02:00  INFO 27164 --- [beerstar] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-21T22:44:10.013+02:00  INFO 27164 --- [beerstar] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-21T22:44:10.013+02:00  INFO 27164 --- [beerstar] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4284 ms
2025-05-21T22:44:10.809+02:00  INFO 27164 --- [beerstar] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-21T22:44:11.060+02:00  INFO 27164 --- [beerstar] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-21T22:44:11.129+02:00  INFO 27164 --- [beerstar] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-21T22:44:11.475+02:00  INFO 27164 --- [beerstar] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-21T22:44:11.500+02:00  INFO 27164 --- [beerstar] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-21T22:44:11.783+02:00  INFO 27164 --- [beerstar] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1344f7fe
2025-05-21T22:44:11.787+02:00  INFO 27164 --- [beerstar] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-21T22:44:11.882+02:00  WARN 27164 --- [beerstar] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-21T22:44:11.916+02:00  INFO 27164 --- [beerstar] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.2
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-21T22:44:13.541+02:00  INFO 27164 --- [beerstar] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-21T22:44:14.624+02:00  INFO 27164 --- [beerstar] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-21T22:44:15.679+02:00 DEBUG 27164 --- [beerstar] [main] c.tfc.beerstar.security.AuthTokenFilter  : Filter 'authTokenFilter' configured for use
2025-05-21T22:44:15.681+02:00 DEBUG 27164 --- [beerstar] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-05-21T22:44:15.681+02:00 DEBUG 27164 --- [beerstar] [main] c.tfc.beerstar.security.AuthTokenFilter  : Filter 'authenticationJwtTokenFilter' configured for use
2025-05-21T22:44:16.055+02:00  INFO 27164 --- [beerstar] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-05-21T22:44:16.056+02:00  WARN 27164 --- [beerstar] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-05-21T22:44:16.415+02:00  INFO 27164 --- [beerstar] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-21T22:44:17.890+02:00  WARN 27164 --- [beerstar] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-21T22:44:18.418+02:00 DEBUG 27164 --- [beerstar] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 42 mappings in 'requestMappingHandlerMapping'
2025-05-21T22:44:18.716+02:00 DEBUG 27164 --- [beerstar] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-05-21T22:44:19.090+02:00  INFO 27164 --- [beerstar] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-05-21T22:44:19.204+02:00  INFO 27164 --- [beerstar] [main] com.tfc.beerstar.config.SecurityConfig   : Configurando seguridad HTTP
2025-05-21T22:44:19.268+02:00  INFO 27164 --- [beerstar] [main] com.tfc.beerstar.config.SecurityConfig   : Configuración de seguridad HTTP completada
2025-05-21T22:44:19.429+02:00 DEBUG 27164 --- [beerstar] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthTokenFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-21T22:44:19.709+02:00 DEBUG 27164 --- [beerstar] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-21T22:44:19.815+02:00 DEBUG 27164 --- [beerstar] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-21T22:44:20.512+02:00  INFO 27164 --- [beerstar] [RMI TCP Connection(3)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-21T22:44:20.512+02:00  INFO 27164 --- [beerstar] [RMI TCP Connection(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-21T22:44:20.513+02:00  INFO 27164 --- [beerstar] [RMI TCP Connection(3)-127.0.0.1] o.s.b.f.s.DefaultListableBeanFactory     : Creating singleton bean 'multipartResolver' in thread "RMI TCP Connection(3)-127.0.0.1" while other thread holds singleton lock for other beans [jwkSource, jwtDecoder]
2025-05-21T22:44:20.514+02:00 DEBUG 27164 --- [beerstar] [RMI TCP Connection(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-21T22:44:20.515+02:00 DEBUG 27164 --- [beerstar] [RMI TCP Connection(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-21T22:44:20.515+02:00 DEBUG 27164 --- [beerstar] [RMI TCP Connection(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-21T22:44:20.516+02:00 DEBUG 27164 --- [beerstar] [RMI TCP Connection(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@584d9b19
2025-05-21T22:44:20.516+02:00 DEBUG 27164 --- [beerstar] [RMI TCP Connection(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@43a34f02
2025-05-21T22:44:20.517+02:00 DEBUG 27164 --- [beerstar] [RMI TCP Connection(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-21T22:44:20.517+02:00  INFO 27164 --- [beerstar] [RMI TCP Connection(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2025-05-21T22:44:21.102+02:00  INFO 27164 --- [beerstar] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-05-21T22:44:21.106+02:00  INFO 27164 --- [beerstar] [main] com.tfc.beerstar.BeerstarApplication     : Started BeerstarApplication in 16.239 seconds (process running for 17.039)
2025-05-21T22:44:34.090+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/auth/login
2025-05-21T22:44:34.098+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/auth/login
2025-05-21T22:44:34.099+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:44:34.099+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:44:34.100+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:44:34.100+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 50621e1a-2316-4f54-8ec2-a409af6fa462
2025-05-21T22:44:34.100+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:44:34.100+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:44:34.100+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:44:34.100+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 56
2025-05-21T22:44:34.101+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [null]
2025-05-21T22:44:34.101+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [null]
2025-05-21T22:44:34.103+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T22:44:34.108+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/auth/login
2025-05-21T22:44:34.108+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/auth/login
2025-05-21T22:44:34.108+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:44:34.109+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:44:34.109+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:44:34.109+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 50621e1a-2316-4f54-8ec2-a409af6fa462
2025-05-21T22:44:34.109+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:44:34.109+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:44:34.110+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:44:34.110+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 56
2025-05-21T22:44:34.110+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [null]
2025-05-21T22:44:34.110+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-3] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [null]
2025-05-21T22:44:34.112+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/auth/login", parameters={}
2025-05-21T22:44:34.114+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.AuthController#authenticateUser(LoginRequest)
2025-05-21T22:44:34.183+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(email=a@b.es, password=12345678)]
2025-05-21T22:44:34.547+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-21T22:44:34.627+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T22:44:34.628+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [JwtResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMS (truncated)...]
2025-05-21T22:44:34.636+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T22:44:49.376+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/carrito/agregar
2025-05-21T22:44:49.377+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T22:44:49.378+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:44:49.378+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODYwMjc0LCJleHAiOjE3NDc5NDY2NzR9.7IaheonUJ7cefWTMwq2r0AoGEEKzDPWk5C19gC96iC8
2025-05-21T22:44:49.379+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:44:49.379+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:44:49.379+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 97af2dc3-afd2-4940-8c7c-f5118710a2d5
2025-05-21T22:44:49.380+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:44:49.380+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:44:49.380+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:44:49.380+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 41
2025-05-21T22:44:49.381+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODYwMjc0LCJleHAiOjE3NDc5NDY2NzR9.7IaheonUJ7cefWTMwq2r0AoGEEKzDPWk5C19gC96iC8]
2025-05-21T22:44:49.382+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODYwMjc0LCJleHAiOjE3NDc5NDY2NzR9.7IaheonUJ7cefWTMwq2r0AoGEEKzDPWk5C19gC96iC8]
2025-05-21T22:44:49.405+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/carrito/agregar
2025-05-21T22:44:49.405+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T22:44:49.405+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:44:49.406+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODYwMjc0LCJleHAiOjE3NDc5NDY2NzR9.7IaheonUJ7cefWTMwq2r0AoGEEKzDPWk5C19gC96iC8
2025-05-21T22:44:49.409+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:44:49.410+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:44:49.414+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 97af2dc3-afd2-4940-8c7c-f5118710a2d5
2025-05-21T22:44:49.415+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:44:49.416+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:44:49.417+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:44:49.417+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 41
2025-05-21T22:44:49.418+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODYwMjc0LCJleHAiOjE3NDc5NDY2NzR9.7IaheonUJ7cefWTMwq2r0AoGEEKzDPWk5C19gC96iC8]
2025-05-21T22:44:49.418+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-2] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODYwMjc0LCJleHAiOjE3NDc5NDY2NzR9.7IaheonUJ7cefWTMwq2r0AoGEEKzDPWk5C19gC96iC8]
2025-05-21T22:44:49.428+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/carrito/agregar", parameters={}
2025-05-21T22:44:49.430+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#agregarAlCarrito(UserDetailsImpl, AddToCarritoRequestDTO)
2025-05-21T22:44:49.434+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AddToCarritoRequestDTO(idArticulo=1, cantidad=1)]
2025-05-21T22:44:49.524+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T22:44:49.529+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoResponseDTO(id=8, fechaCreacion=2025-05-21T18:02:54.138492Z, items=[DetalleCarritoResponseDTO (truncated)...]
2025-05-21T22:44:49.537+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T22:44:55.402+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /beerstar/articulos
2025-05-21T22:44:55.402+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/articulos
2025-05-21T22:44:55.403+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k
2025-05-21T22:44:55.403+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:44:55.403+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:44:55.403+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 1c612109-217b-40ca-b362-3b4e571ed4ae
2025-05-21T22:44:55.403+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:44:55.403+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:44:55.404+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:44:55.404+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T22:44:55.404+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T22:44:55.406+02:00 ERROR 27164 --- [beerstar] [http-nio-8080-exec-4] com.tfc.beerstar.security.JwtUtils       : Token JWT expirado: JWT expired at 2025-05-20T11:11:24Z. Current time: 2025-05-21T20:44:55Z, a difference of 120811405 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-05-21T22:44:55.407+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T22:44:55.407+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /beerstar/articulos
2025-05-21T22:44:55.407+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/articulos
2025-05-21T22:44:55.408+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k
2025-05-21T22:44:55.408+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:44:55.408+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:44:55.408+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 1c612109-217b-40ca-b362-3b4e571ed4ae
2025-05-21T22:44:55.408+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:44:55.408+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:44:55.409+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:44:55.409+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T22:44:55.409+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T22:44:55.411+02:00 ERROR 27164 --- [beerstar] [http-nio-8080-exec-4] com.tfc.beerstar.security.JwtUtils       : Token JWT expirado: JWT expired at 2025-05-20T11:11:24Z. Current time: 2025-05-21T20:44:55Z, a difference of 120811411 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-05-21T22:44:55.411+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/beerstar/articulos", parameters={}
2025-05-21T22:44:55.412+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.ArticuloController#obtenerTodosLosArticulos()
2025-05-21T22:44:55.412+02:00  INFO 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.service.ArticuloService   : Obteniendo todos los artículos
2025-05-21T22:44:55.421+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T22:44:55.428+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ArticulosResponseDTO(idArticulo=1, nombre=Orval02, descripcion=Este es un tipo de cerveza de fermen (truncated)...]
2025-05-21T22:44:55.436+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T22:45:01.704+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/carrito/agregar
2025-05-21T22:45:01.704+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T22:45:01.704+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:45:01.705+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODYwMjc0LCJleHAiOjE3NDc5NDY2NzR9.7IaheonUJ7cefWTMwq2r0AoGEEKzDPWk5C19gC96iC8
2025-05-21T22:45:01.705+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:45:01.705+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:45:01.705+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 9e0c755b-e0ea-46a5-bbe7-59a4db7bf0f4
2025-05-21T22:45:01.705+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:45:01.705+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:45:01.705+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:45:01.706+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 41
2025-05-21T22:45:01.706+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODYwMjc0LCJleHAiOjE3NDc5NDY2NzR9.7IaheonUJ7cefWTMwq2r0AoGEEKzDPWk5C19gC96iC8]
2025-05-21T22:45:01.706+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODYwMjc0LCJleHAiOjE3NDc5NDY2NzR9.7IaheonUJ7cefWTMwq2r0AoGEEKzDPWk5C19gC96iC8]
2025-05-21T22:45:01.713+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/carrito/agregar
2025-05-21T22:45:01.714+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/agregar
2025-05-21T22:45:01.714+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:45:01.714+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODYwMjc0LCJleHAiOjE3NDc5NDY2NzR9.7IaheonUJ7cefWTMwq2r0AoGEEKzDPWk5C19gC96iC8
2025-05-21T22:45:01.714+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:45:01.714+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:45:01.714+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 9e0c755b-e0ea-46a5-bbe7-59a4db7bf0f4
2025-05-21T22:45:01.715+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:45:01.715+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:45:01.715+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:45:01.715+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 41
2025-05-21T22:45:01.715+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODYwMjc0LCJleHAiOjE3NDc5NDY2NzR9.7IaheonUJ7cefWTMwq2r0AoGEEKzDPWk5C19gC96iC8]
2025-05-21T22:45:01.715+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-5] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODYwMjc0LCJleHAiOjE3NDc5NDY2NzR9.7IaheonUJ7cefWTMwq2r0AoGEEKzDPWk5C19gC96iC8]
2025-05-21T22:45:01.723+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/carrito/agregar", parameters={}
2025-05-21T22:45:01.726+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#agregarAlCarrito(UserDetailsImpl, AddToCarritoRequestDTO)
2025-05-21T22:45:01.730+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AddToCarritoRequestDTO(idArticulo=1, cantidad=1)]
2025-05-21T22:45:01.751+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T22:45:01.752+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoResponseDTO(id=8, fechaCreacion=2025-05-21T18:02:54.138492Z, items=[DetalleCarritoResponseDTO (truncated)...]
2025-05-21T22:45:01.753+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T22:45:05.294+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /beerstar/articulos
2025-05-21T22:45:05.297+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/articulos
2025-05-21T22:45:05.297+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k
2025-05-21T22:45:05.297+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:45:05.298+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:45:05.298+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = f8622aa2-69cf-4809-9ad4-7fef210295dc
2025-05-21T22:45:05.298+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:45:05.298+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:45:05.299+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:45:05.299+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T22:45:05.299+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T22:45:05.301+02:00 ERROR 27164 --- [beerstar] [http-nio-8080-exec-6] com.tfc.beerstar.security.JwtUtils       : Token JWT expirado: JWT expired at 2025-05-20T11:11:24Z. Current time: 2025-05-21T20:45:05Z, a difference of 120821301 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-05-21T22:45:05.301+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T22:45:05.302+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /beerstar/articulos
2025-05-21T22:45:05.302+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/articulos
2025-05-21T22:45:05.302+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k
2025-05-21T22:45:05.303+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:45:05.304+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:45:05.304+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = f8622aa2-69cf-4809-9ad4-7fef210295dc
2025-05-21T22:45:05.304+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:45:05.304+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:45:05.306+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:45:05.307+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T22:45:05.307+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T22:45:05.313+02:00 ERROR 27164 --- [beerstar] [http-nio-8080-exec-6] com.tfc.beerstar.security.JwtUtils       : Token JWT expirado: JWT expired at 2025-05-20T11:11:24Z. Current time: 2025-05-21T20:45:05Z, a difference of 120821312 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-05-21T22:45:05.318+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/beerstar/articulos", parameters={}
2025-05-21T22:45:05.319+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.ArticuloController#obtenerTodosLosArticulos()
2025-05-21T22:45:05.329+02:00  INFO 27164 --- [beerstar] [http-nio-8080-exec-6] c.tfc.beerstar.service.ArticuloService   : Obteniendo todos los artículos
2025-05-21T22:45:05.342+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T22:45:05.350+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ArticulosResponseDTO(idArticulo=1, nombre=Orval02, descripcion=Este es un tipo de cerveza de fermen (truncated)...]
2025-05-21T22:45:05.352+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T22:45:22.775+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /beerstar/carrito/verCarrito
2025-05-21T22:45:22.776+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/carrito/verCarrito
2025-05-21T22:45:22.777+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:45:22.777+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODYwMjc0LCJleHAiOjE3NDc5NDY2NzR9.7IaheonUJ7cefWTMwq2r0AoGEEKzDPWk5C19gC96iC8
2025-05-21T22:45:22.777+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:45:22.777+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:45:22.778+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 778a54b4-9c29-4141-8bf1-fa2163873b8e
2025-05-21T22:45:22.778+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:45:22.778+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:45:22.778+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:45:22.779+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 53
2025-05-21T22:45:22.779+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODYwMjc0LCJleHAiOjE3NDc5NDY2NzR9.7IaheonUJ7cefWTMwq2r0AoGEEKzDPWk5C19gC96iC8]
2025-05-21T22:45:22.779+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODYwMjc0LCJleHAiOjE3NDc5NDY2NzR9.7IaheonUJ7cefWTMwq2r0AoGEEKzDPWk5C19gC96iC8]
2025-05-21T22:45:22.792+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /beerstar/carrito/verCarrito
2025-05-21T22:45:22.797+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/carrito/verCarrito
2025-05-21T22:45:22.798+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:45:22.798+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODYwMjc0LCJleHAiOjE3NDc5NDY2NzR9.7IaheonUJ7cefWTMwq2r0AoGEEKzDPWk5C19gC96iC8
2025-05-21T22:45:22.798+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:45:22.799+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:45:22.799+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 778a54b4-9c29-4141-8bf1-fa2163873b8e
2025-05-21T22:45:22.799+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:45:22.799+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:45:22.799+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:45:22.800+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 53
2025-05-21T22:45:22.800+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODYwMjc0LCJleHAiOjE3NDc5NDY2NzR9.7IaheonUJ7cefWTMwq2r0AoGEEKzDPWk5C19gC96iC8]
2025-05-21T22:45:22.800+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-7] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODYwMjc0LCJleHAiOjE3NDc5NDY2NzR9.7IaheonUJ7cefWTMwq2r0AoGEEKzDPWk5C19gC96iC8]
2025-05-21T22:45:22.810+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/beerstar/carrito/verCarrito", parameters={}
2025-05-21T22:45:22.812+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#verCarrito(UserDetailsImpl)
2025-05-21T22:45:22.844+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T22:45:22.845+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [CarritoResponseDTO(id=8, fechaCreacion=2025-05-21T18:02:54.138492Z, items=[DetalleCarritoResponseDTO (truncated)...]
2025-05-21T22:45:22.848+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T22:45:36.363+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/carrito/decrementar/1
2025-05-21T22:45:36.365+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/decrementar/1
2025-05-21T22:45:36.365+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:45:36.366+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8
2025-05-21T22:45:36.366+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:45:36.366+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:45:36.366+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = fcd10168-9f4f-4275-afb3-a93fe3fd0977
2025-05-21T22:45:36.366+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:45:36.366+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:45:36.367+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:45:36.367+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 0
2025-05-21T22:45:36.367+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:45:36.367+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:45:36.375+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/carrito/decrementar/1
2025-05-21T22:45:36.376+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/carrito/decrementar/1
2025-05-21T22:45:36.377+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:45:36.377+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8
2025-05-21T22:45:36.378+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:45:36.378+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:45:36.378+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = fcd10168-9f4f-4275-afb3-a93fe3fd0977
2025-05-21T22:45:36.379+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:45:36.379+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:45:36.381+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:45:36.382+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 0
2025-05-21T22:45:36.382+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:45:36.383+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-8] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODUwNTU5LCJleHAiOjE3NDc5MzY5NTl9.5-yFbl0_vIiTcfTu02UtehO0917yFMYrFF_IUm_T9M8]
2025-05-21T22:45:36.394+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/carrito/decrementar/1", parameters={}
2025-05-21T22:45:36.404+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#decrementarArticulo(UserDetailsImpl, Long)
2025-05-21T22:45:36.466+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T22:45:36.468+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoResponseDTO(id=8, fechaCreacion=2025-05-21T18:02:54.138492Z, items=[DetalleCarritoResponseDTO (truncated)...]
2025-05-21T22:45:36.470+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T22:45:42.893+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /beerstar/carrito/verCarrito
2025-05-21T22:45:42.897+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/carrito/verCarrito
2025-05-21T22:45:42.898+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:45:42.898+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODYwMjc0LCJleHAiOjE3NDc5NDY2NzR9.7IaheonUJ7cefWTMwq2r0AoGEEKzDPWk5C19gC96iC8
2025-05-21T22:45:42.899+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:45:42.900+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:45:42.900+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 3cd3e3b6-8af1-43ed-b6b1-17e88e669699
2025-05-21T22:45:42.900+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:45:42.900+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:45:42.900+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:45:42.901+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 53
2025-05-21T22:45:42.901+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODYwMjc0LCJleHAiOjE3NDc5NDY2NzR9.7IaheonUJ7cefWTMwq2r0AoGEEKzDPWk5C19gC96iC8]
2025-05-21T22:45:42.901+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODYwMjc0LCJleHAiOjE3NDc5NDY2NzR9.7IaheonUJ7cefWTMwq2r0AoGEEKzDPWk5C19gC96iC8]
2025-05-21T22:45:42.916+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /beerstar/carrito/verCarrito
2025-05-21T22:45:42.916+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/carrito/verCarrito
2025-05-21T22:45:42.916+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:45:42.917+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODYwMjc0LCJleHAiOjE3NDc5NDY2NzR9.7IaheonUJ7cefWTMwq2r0AoGEEKzDPWk5C19gC96iC8
2025-05-21T22:45:42.917+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:45:42.917+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:45:42.917+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 3cd3e3b6-8af1-43ed-b6b1-17e88e669699
2025-05-21T22:45:42.917+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:45:42.917+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:45:42.917+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:45:42.918+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 53
2025-05-21T22:45:42.918+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODYwMjc0LCJleHAiOjE3NDc5NDY2NzR9.7IaheonUJ7cefWTMwq2r0AoGEEKzDPWk5C19gC96iC8]
2025-05-21T22:45:42.918+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-9] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODYwMjc0LCJleHAiOjE3NDc5NDY2NzR9.7IaheonUJ7cefWTMwq2r0AoGEEKzDPWk5C19gC96iC8]
2025-05-21T22:45:42.932+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/beerstar/carrito/verCarrito", parameters={}
2025-05-21T22:45:42.935+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.CarritoController#verCarrito(UserDetailsImpl)
2025-05-21T22:45:42.947+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T22:45:42.948+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [CarritoResponseDTO(id=8, fechaCreacion=2025-05-21T18:02:54.138492Z, items=[DetalleCarritoResponseDTO (truncated)...]
2025-05-21T22:45:42.951+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T22:45:54.379+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /beerstar/articulos
2025-05-21T22:45:54.386+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/articulos
2025-05-21T22:45:54.389+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k
2025-05-21T22:45:54.400+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:45:54.401+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:45:54.401+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 9c36d479-f040-4a04-8a1f-eb4393e2721b
2025-05-21T22:45:54.401+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:45:54.402+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:45:54.402+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:45:54.402+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T22:45:54.403+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T22:45:54.406+02:00 ERROR 27164 --- [beerstar] [http-nio-8080-exec-10] com.tfc.beerstar.security.JwtUtils       : Token JWT expirado: JWT expired at 2025-05-20T11:11:24Z. Current time: 2025-05-21T20:45:54Z, a difference of 120870406 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-05-21T22:45:54.407+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-21T22:45:54.407+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /beerstar/articulos
2025-05-21T22:45:54.408+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/articulos
2025-05-21T22:45:54.408+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k
2025-05-21T22:45:54.408+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:45:54.408+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:45:54.408+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = 9c36d479-f040-4a04-8a1f-eb4393e2721b
2025-05-21T22:45:54.408+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:45:54.409+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:45:54.409+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:45:54.409+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T22:45:54.409+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3NjUzMDg0LCJleHAiOjE3NDc3Mzk0ODR9.qQpXRXiy8OcTeCcFmdnKtPxB-lZDMfVXIsbJMhZfL1k]
2025-05-21T22:45:54.413+02:00 ERROR 27164 --- [beerstar] [http-nio-8080-exec-10] com.tfc.beerstar.security.JwtUtils       : Token JWT expirado: JWT expired at 2025-05-20T11:11:24Z. Current time: 2025-05-21T20:45:54Z, a difference of 120870412 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-05-21T22:45:54.417+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/beerstar/articulos", parameters={}
2025-05-21T22:45:54.418+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.ArticuloController#obtenerTodosLosArticulos()
2025-05-21T22:45:54.418+02:00  INFO 27164 --- [beerstar] [http-nio-8080-exec-10] c.tfc.beerstar.service.ArticuloService   : Obteniendo todos los artículos
2025-05-21T22:45:54.423+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T22:45:54.423+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ArticulosResponseDTO(idArticulo=1, nombre=Orval02, descripcion=Este es un tipo de cerveza de fermen (truncated)...]
2025-05-21T22:45:54.425+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T22:46:08.970+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /beerstar/pedidos/crearPedido
2025-05-21T22:46:08.974+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/pedidos/crearPedido
2025-05-21T22:46:08.975+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:46:08.975+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODYwMjc0LCJleHAiOjE3NDc5NDY2NzR9.7IaheonUJ7cefWTMwq2r0AoGEEKzDPWk5C19gC96iC8
2025-05-21T22:46:08.975+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:46:08.975+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:46:08.976+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = ee95357f-6881-4aeb-af94-61bc371c62b7
2025-05-21T22:46:08.976+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:46:08.976+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:46:08.976+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:46:08.976+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 0
2025-05-21T22:46:08.976+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODYwMjc0LCJleHAiOjE3NDc5NDY2NzR9.7IaheonUJ7cefWTMwq2r0AoGEEKzDPWk5C19gC96iC8]
2025-05-21T22:46:08.976+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODYwMjc0LCJleHAiOjE3NDc5NDY2NzR9.7IaheonUJ7cefWTMwq2r0AoGEEKzDPWk5C19gC96iC8]
2025-05-21T22:46:08.987+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /beerstar/pedidos/crearPedido
2025-05-21T22:46:08.988+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: POST /beerstar/pedidos/crearPedido
2025-05-21T22:46:08.989+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:46:08.989+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODYwMjc0LCJleHAiOjE3NDc5NDY2NzR9.7IaheonUJ7cefWTMwq2r0AoGEEKzDPWk5C19gC96iC8
2025-05-21T22:46:08.998+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:46:09.003+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:46:09.005+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = ee95357f-6881-4aeb-af94-61bc371c62b7
2025-05-21T22:46:09.006+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:46:09.006+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:46:09.007+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:46:09.008+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-length = 0
2025-05-21T22:46:09.008+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODYwMjc0LCJleHAiOjE3NDc5NDY2NzR9.7IaheonUJ7cefWTMwq2r0AoGEEKzDPWk5C19gC96iC8]
2025-05-21T22:46:09.008+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-1] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODYwMjc0LCJleHAiOjE3NDc5NDY2NzR9.7IaheonUJ7cefWTMwq2r0AoGEEKzDPWk5C19gC96iC8]
2025-05-21T22:46:09.018+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/beerstar/pedidos/crearPedido", parameters={}
2025-05-21T22:46:09.018+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.PedidoController#crear(UserDetailsImpl, String)
2025-05-21T22:46:09.083+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T22:46:09.097+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PedidoResponseDTO(idPedido=18, IdCliente=5, nombreCliente=rafa, emailUsuario=a@b.es, direccionClient (truncated)...]
2025-05-21T22:46:09.108+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-21T22:47:42.106+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /beerstar/pedidos/listarPedidos
2025-05-21T22:47:42.109+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/pedidos/listarPedidos
2025-05-21T22:47:42.112+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:47:42.113+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODYwMjc0LCJleHAiOjE3NDc5NDY2NzR9.7IaheonUJ7cefWTMwq2r0AoGEEKzDPWk5C19gC96iC8
2025-05-21T22:47:42.114+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:47:42.114+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:47:42.115+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = c843014f-6b4c-4d2e-b67b-009e6ea9e3ad
2025-05-21T22:47:42.115+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:47:42.115+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:47:42.124+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:47:42.126+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODYwMjc0LCJleHAiOjE3NDc5NDY2NzR9.7IaheonUJ7cefWTMwq2r0AoGEEKzDPWk5C19gC96iC8]
2025-05-21T22:47:42.126+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODYwMjc0LCJleHAiOjE3NDc5NDY2NzR9.7IaheonUJ7cefWTMwq2r0AoGEEKzDPWk5C19gC96iC8]
2025-05-21T22:47:42.140+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /beerstar/pedidos/listarPedidos
2025-05-21T22:47:42.141+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Petición entrante: GET /beerstar/pedidos/listarPedidos
2025-05-21T22:47:42.142+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: content-type = application/json
2025-05-21T22:47:42.142+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: authorization = Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODYwMjc0LCJleHAiOjE3NDc5NDY2NzR9.7IaheonUJ7cefWTMwq2r0AoGEEKzDPWk5C19gC96iC8
2025-05-21T22:47:42.142+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: user-agent = PostmanRuntime/7.44.0
2025-05-21T22:47:42.142+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept = */*
2025-05-21T22:47:42.143+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: postman-token = c843014f-6b4c-4d2e-b67b-009e6ea9e3ad
2025-05-21T22:47:42.143+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: host = localhost:8080
2025-05-21T22:47:42.143+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: accept-encoding = gzip, deflate, br
2025-05-21T22:47:42.143+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  :     Header: connection = keep-alive
2025-05-21T22:47:42.143+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Authorization header raw: [Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODYwMjc0LCJleHAiOjE3NDc5NDY2NzR9.7IaheonUJ7cefWTMwq2r0AoGEEKzDPWk5C19gC96iC8]
2025-05-21T22:47:42.144+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] c.tfc.beerstar.security.AuthTokenFilter  : >>> Token extraído: [eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhQGIuZXMiLCJyb2xlcyI6WyJST0xFX1VTRVIiLCJUWVBFX0NMSUVOVEUiLCJST0xFX0NMSUVOVEUiXSwiaWF0IjoxNzQ3ODYwMjc0LCJleHAiOjE3NDc5NDY2NzR9.7IaheonUJ7cefWTMwq2r0AoGEEKzDPWk5C19gC96iC8]
2025-05-21T22:47:42.156+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/beerstar/pedidos/listarPedidos", parameters={}
2025-05-21T22:47:42.159+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfc.beerstar.controller.PedidoController#listar(UserDetailsImpl)
2025-05-21T22:47:42.173+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-05-21T22:47:42.174+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[PedidoResponseDTO(idPedido=15, IdCliente=5, nombreCliente=rafa, emailUsuario=a@b.es, direccionClien (truncated)...]
2025-05-21T22:47:42.176+02:00 DEBUG 27164 --- [beerstar] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
